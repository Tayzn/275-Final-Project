/*! For license information please see main.999fd95c.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},694:function(e,t){var n;!function(){"use strict";var r={}.hasOwnProperty;function i(){for(var e=[],t=0;t<arguments.length;t++){var n=arguments[t];if(n){var a=typeof n;if("string"===a||"number"===a)e.push(n);else if(Array.isArray(n)){if(n.length){var o=i.apply(null,n);o&&e.push(o)}}else if("object"===a)if(n.toString===Object.prototype.toString)for(var s in n)r.call(n,s)&&n[s]&&e.push(s);else e.push(n.toString())}}return e.join(" ")}e.exports?(i.default=i,e.exports=i):void 0===(n=function(){return i}.apply(t,[]))||(e.exports=n)}()},176:function(e){"use strict";e.exports=function(e,t,n,r,i,a,o,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,a,o,s],l=0;(u=new Error(t.replace(/%s/g,(function(){return c[l++]})))).name="Invariant Violation"}throw u.framesToPop=1,u}}},725:function(e){"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map((function(e){return t[e]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(e){r[e]=e})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(e,i){for(var a,o,s=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),u=1;u<arguments.length;u++){for(var c in a=Object(arguments[u]))n.call(a,c)&&(s[c]=a[c]);if(t){o=t(a);for(var l=0;l<o.length;l++)r.call(a,o[l])&&(s[o[l]]=a[o[l]])}}return s}},573:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.default)((function(){for(var e=arguments.length,n=Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=null;return t.forEach((function(e){if(null==i){var t=e.apply(void 0,n);null!=t&&(i=t)}})),i}))};var r,i=n(54),a=(r=i)&&r.__esModule?r:{default:r};e.exports=t.default},54:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(t,n,r,i,a,o){var s=i||"<<anonymous>>",u=o||r;if(null==n[r])return t?new Error("Required "+a+" `"+u+"` was not specified in `"+s+"`."):null;for(var c=arguments.length,l=Array(c>6?c-6:0),f=6;f<c;f++)l[f-6]=arguments[f];return e.apply(void 0,[n,r,s,a,u].concat(l))}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n},e.exports=t.default},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(725),a=n(296);function o(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(o(227));var s=new Set,u={};function c(e,t){l(e,t),l(e+"Capture",t)}function l(e,t){for(u[e]=t,e=0;e<t.length;e++)s.add(t[e])}var f=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d=Object.prototype.hasOwnProperty,p={},v={};function m(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var y={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){y[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];y[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){y[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){y[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){y[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){y[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){y[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){y[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){y[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var g=/[\-:]([a-z])/g;function k(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=y.hasOwnProperty(t)?y[t]:null;(null!==i?0===i.type:!r&&(2<t.length&&("o"===t[0]||"O"===t[0])&&("n"===t[1]||"N"===t[1])))||(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!d.call(v,e)||!d.call(p,e)&&(h.test(e)?v[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(g,k);y[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),y.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){y[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,x=60103,E=60106,S=60107,I=60108,C=60114,T=60109,_=60110,N=60112,P=60113,O=60120,R=60115,A=60116,D=60121,j=60128,L=60129,M=60130,F=60131;if("function"===typeof Symbol&&Symbol.for){var U=Symbol.for;x=U("react.element"),E=U("react.portal"),S=U("react.fragment"),I=U("react.strict_mode"),C=U("react.profiler"),T=U("react.provider"),_=U("react.context"),N=U("react.forward_ref"),P=U("react.suspense"),O=U("react.suspense_list"),R=U("react.memo"),A=U("react.lazy"),D=U("react.block"),U("react.scope"),j=U("react.opaque.id"),L=U("react.debug_trace_mode"),M=U("react.offscreen"),F=U("react.legacy_hidden")}var V,z="function"===typeof Symbol&&Symbol.iterator;function B(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=z&&e[z]||e["@@iterator"])?e:null}function q(e){if(void 0===V)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);V=t&&t[1]||""}return"\n"+V+e}var H=!1;function K(e,t){if(!e||H)return"";H=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&"string"===typeof u.stack){for(var i=u.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,s=a.length-1;1<=o&&0<=s&&i[o]!==a[s];)s--;for(;1<=o&&0<=s;o--,s--)if(i[o]!==a[s]){if(1!==o||1!==s)do{if(o--,0>--s||i[o]!==a[s])return"\n"+i[o].replace(" at new "," at ")}while(1<=o&&0<=s);break}}}finally{H=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?q(e):""}function W(e){switch(e.tag){case 5:return q(e.type);case 16:return q("Lazy");case 13:return q("Suspense");case 19:return q("SuspenseList");case 0:case 2:case 15:return e=K(e.type,!1);case 11:return e=K(e.type.render,!1);case 22:return e=K(e.type._render,!1);case 1:return e=K(e.type,!0);default:return""}}function G(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case S:return"Fragment";case E:return"Portal";case C:return"Profiler";case I:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case _:return(e.displayName||"Context")+".Consumer";case T:return(e._context.displayName||"Context")+".Provider";case N:var t=e.render;return t=t.displayName||t.name||"",e.displayName||(""!==t?"ForwardRef("+t+")":"ForwardRef");case R:return G(e.type);case D:return G(e._render);case A:t=e._payload,e=e._init;try{return G(e(t))}catch(n){}}return null}function Q(e){switch(typeof e){case"boolean":case"number":case"object":case"string":case"undefined":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function Y(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function X(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Z(e,t){var n=t.checked;return i({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function ee(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function te(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function ne(e,t){te(e,t);var n=Q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ie(e,t.type,n):t.hasOwnProperty("defaultValue")&&ie(e,t.type,Q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function re(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ie(e,t,n){"number"===t&&J(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}function ae(e,t){return e=i({children:void 0},t),(t=function(e){var t="";return r.Children.forEach(e,(function(e){null!=e&&(t+=e)})),t}(t.children))&&(e.children=t),e}function oe(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Q(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function se(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(o(91));return i({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ue(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(o(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(o(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Q(n)}}function ce(e,t){var n=Q(t.value),r=Q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function le(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}var fe={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};function he(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function de(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?he(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var pe,ve,me=(ve=function(e,t){if(e.namespaceURI!==fe.svg||"innerHTML"in e)e.innerHTML=t;else{for((pe=pe||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=pe.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ve(e,t)}))}:ve);function ye(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var ge={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ke=["Webkit","ms","Moz","O"];function be(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||ge.hasOwnProperty(e)&&ge[e]?(""+t).trim():t+"px"}function we(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=be(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(ge).forEach((function(e){ke.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ge[t]=ge[e]}))}));var xe=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ee(e,t){if(t){if(xe[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(o(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(o(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(o(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(o(62))}}function Se(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Ie(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Ce=null,Te=null,_e=null;function Ne(e){if(e=ni(e)){if("function"!==typeof Ce)throw Error(o(280));var t=e.stateNode;t&&(t=ii(t),Ce(e.stateNode,e.type,t))}}function Pe(e){Te?_e?_e.push(e):_e=[e]:Te=e}function Oe(){if(Te){var e=Te,t=_e;if(_e=Te=null,Ne(e),t)for(e=0;e<t.length;e++)Ne(t[e])}}function Re(e,t){return e(t)}function Ae(e,t,n,r,i){return e(t,n,r,i)}function De(){}var je=Re,Le=!1,Me=!1;function Fe(){null===Te&&null===_e||(De(),Oe())}function Ue(e,t){var n=e.stateNode;if(null===n)return null;var r=ii(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(o(231,t,typeof n));return n}var Ve=!1;if(f)try{var ze={};Object.defineProperty(ze,"passive",{get:function(){Ve=!0}}),window.addEventListener("test",ze,ze),window.removeEventListener("test",ze,ze)}catch(ve){Ve=!1}function Be(e,t,n,r,i,a,o,s,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var qe=!1,He=null,Ke=!1,We=null,Ge={onError:function(e){qe=!0,He=e}};function Qe(e,t,n,r,i,a,o,s,u){qe=!1,He=null,Be.apply(Ge,arguments)}function $e(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(1026&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function Ye(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Xe(e){if($e(e)!==e)throw Error(o(188))}function Je(e){if(e=function(e){var t=e.alternate;if(!t){if(null===(t=$e(e)))throw Error(o(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return Xe(i),e;if(a===r)return Xe(i),t;a=a.sibling}throw Error(o(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,u=i.child;u;){if(u===n){s=!0,n=i,r=a;break}if(u===r){s=!0,r=i,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=i;break}if(u===r){s=!0,r=a,n=i;break}u=u.sibling}if(!s)throw Error(o(189))}}if(n.alternate!==r)throw Error(o(190))}if(3!==n.tag)throw Error(o(188));return n.stateNode.current===n?e:t}(e),!e)return null;for(var t=e;;){if(5===t.tag||6===t.tag)return t;if(t.child)t.child.return=t,t=t.child;else{if(t===e)break;for(;!t.sibling;){if(!t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}}return null}function Ze(e,t){for(var n=e.alternate;null!==t;){if(t===e||t===n)return!0;t=t.return}return!1}var et,tt,nt,rt,it=!1,at=[],ot=null,st=null,ut=null,ct=new Map,lt=new Map,ft=[],ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function dt(e,t,n,r,i){return{blockedOn:e,domEventName:t,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function pt(e,t){switch(e){case"focusin":case"focusout":ot=null;break;case"dragenter":case"dragleave":st=null;break;case"mouseover":case"mouseout":ut=null;break;case"pointerover":case"pointerout":ct.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":lt.delete(t.pointerId)}}function vt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e=dt(t,n,r,i,a),null!==t&&(null!==(t=ni(t))&&tt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function mt(e){var t=ti(e.target);if(null!==t){var n=$e(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=Ye(n)))return e.blockedOn=t,void rt(e.lanePriority,(function(){a.unstable_runWithPriority(e.priority,(function(){nt(n)}))}))}else if(3===t&&n.stateNode.hydrate)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function yt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ni(n))&&tt(t),e.blockedOn=n,!1;t.shift()}return!0}function gt(e,t,n){yt(e)&&n.delete(t)}function kt(){for(it=!1;0<at.length;){var e=at[0];if(null!==e.blockedOn){null!==(e=ni(e.blockedOn))&&et(e);break}for(var t=e.targetContainers;0<t.length;){var n=Jt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n){e.blockedOn=n;break}t.shift()}null===e.blockedOn&&at.shift()}null!==ot&&yt(ot)&&(ot=null),null!==st&&yt(st)&&(st=null),null!==ut&&yt(ut)&&(ut=null),ct.forEach(gt),lt.forEach(gt)}function bt(e,t){e.blockedOn===t&&(e.blockedOn=null,it||(it=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,kt)))}function wt(e){function t(t){return bt(t,e)}if(0<at.length){bt(at[0],e);for(var n=1;n<at.length;n++){var r=at[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==ot&&bt(ot,e),null!==st&&bt(st,e),null!==ut&&bt(ut,e),ct.forEach(t),lt.forEach(t),n=0;n<ft.length;n++)(r=ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<ft.length&&null===(n=ft[0]).blockedOn;)mt(n),null===n.blockedOn&&ft.shift()}function xt(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Et={animationend:xt("Animation","AnimationEnd"),animationiteration:xt("Animation","AnimationIteration"),animationstart:xt("Animation","AnimationStart"),transitionend:xt("Transition","TransitionEnd")},St={},It={};function Ct(e){if(St[e])return St[e];if(!Et[e])return e;var t,n=Et[e];for(t in n)if(n.hasOwnProperty(t)&&t in It)return St[e]=n[t];return e}f&&(It=document.createElement("div").style,"AnimationEvent"in window||(delete Et.animationend.animation,delete Et.animationiteration.animation,delete Et.animationstart.animation),"TransitionEvent"in window||delete Et.transitionend.transition);var Tt=Ct("animationend"),_t=Ct("animationiteration"),Nt=Ct("animationstart"),Pt=Ct("transitionend"),Ot=new Map,Rt=new Map,At=["abort","abort",Tt,"animationEnd",_t,"animationIteration",Nt,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Pt,"transitionEnd","waiting","waiting"];function Dt(e,t){for(var n=0;n<e.length;n+=2){var r=e[n],i=e[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Rt.set(r,t),Ot.set(r,i),c(i,[r])}}(0,a.unstable_now)();var jt=8;function Lt(e){if(0!==(1&e))return jt=15,1;if(0!==(2&e))return jt=14,2;if(0!==(4&e))return jt=13,4;var t=24&e;return 0!==t?(jt=12,t):0!==(32&e)?(jt=11,32):0!==(t=192&e)?(jt=10,t):0!==(256&e)?(jt=9,256):0!==(t=3584&e)?(jt=8,t):0!==(4096&e)?(jt=7,4096):0!==(t=4186112&e)?(jt=6,t):0!==(t=62914560&e)?(jt=5,t):67108864&e?(jt=4,67108864):0!==(134217728&e)?(jt=3,134217728):0!==(t=805306368&e)?(jt=2,t):0!==(1073741824&e)?(jt=1,1073741824):(jt=8,e)}function Mt(e,t){var n=e.pendingLanes;if(0===n)return jt=0;var r=0,i=0,a=e.expiredLanes,o=e.suspendedLanes,s=e.pingedLanes;if(0!==a)r=a,i=jt=15;else if(0!==(a=134217727&n)){var u=a&~o;0!==u?(r=Lt(u),i=jt):0!==(s&=a)&&(r=Lt(s),i=jt)}else 0!==(a=n&~o)?(r=Lt(a),i=jt):0!==s&&(r=Lt(s),i=jt);if(0===r)return 0;if(r=n&((0>(r=31-qt(r))?0:1<<r)<<1)-1,0!==t&&t!==r&&0===(t&o)){if(Lt(t),i<=jt)return t;jt=i}if(0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-qt(t)),r|=e[n],t&=~i;return r}function Ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function Ut(e,t){switch(e){case 15:return 1;case 14:return 2;case 12:return 0===(e=Vt(24&~t))?Ut(10,t):e;case 10:return 0===(e=Vt(192&~t))?Ut(8,t):e;case 8:return 0===(e=Vt(3584&~t))&&(0===(e=Vt(4186112&~t))&&(e=512)),e;case 2:return 0===(t=Vt(805306368&~t))&&(t=268435456),t}throw Error(o(358,e))}function Vt(e){return e&-e}function zt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Bt(e,t,n){e.pendingLanes|=t;var r=t-1;e.suspendedLanes&=r,e.pingedLanes&=r,(e=e.eventTimes)[t=31-qt(t)]=n}var qt=Math.clz32?Math.clz32:function(e){return 0===e?32:31-(Ht(e)/Kt|0)|0},Ht=Math.log,Kt=Math.LN2;var Wt=a.unstable_UserBlockingPriority,Gt=a.unstable_runWithPriority,Qt=!0;function $t(e,t,n,r){Le||De();var i=Xt,a=Le;Le=!0;try{Ae(i,e,t,n,r)}finally{(Le=a)||Fe()}}function Yt(e,t,n,r){Gt(Wt,Xt.bind(null,e,t,n,r))}function Xt(e,t,n,r){var i;if(Qt)if((i=0===(4&t))&&0<at.length&&-1<ht.indexOf(e))e=dt(null,e,t,n,r),at.push(e);else{var a=Jt(e,t,n,r);if(null===a)i&&pt(e,r);else{if(i){if(-1<ht.indexOf(e))return e=dt(a,e,t,n,r),void at.push(e);if(function(e,t,n,r,i){switch(t){case"focusin":return ot=vt(ot,e,t,n,r,i),!0;case"dragenter":return st=vt(st,e,t,n,r,i),!0;case"mouseover":return ut=vt(ut,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return ct.set(a,vt(ct.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,lt.set(a,vt(lt.get(a)||null,e,t,n,r,i)),!0}return!1}(a,e,t,n,r))return;pt(e,r)}Dr(e,t,r,null,n)}}}function Jt(e,t,n,r){var i=Ie(r);if(null!==(i=ti(i))){var a=$e(i);if(null===a)i=null;else{var o=a.tag;if(13===o){if(null!==(i=Ye(a)))return i;i=null}else if(3===o){if(a.stateNode.hydrate)return 3===a.tag?a.stateNode.containerInfo:null;i=null}else a!==i&&(i=null)}}return Dr(e,t,r,i,n),null}var Zt=null,en=null,tn=null;function nn(){if(tn)return tn;var e,t,n=en,r=n.length,i="value"in Zt?Zt.value:Zt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return tn=i.slice(e,1<t?1-t:void 0)}function rn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function an(){return!0}function on(){return!1}function sn(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:on,this.isPropagationStopped=on,this}return i(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),t}var un,cn,ln,fn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},hn=sn(fn),dn=i({},fn,{view:0,detail:0}),pn=sn(dn),vn=i({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(un=e.screenX-ln.screenX,cn=e.screenY-ln.screenY):cn=un=0,ln=e),un)},movementY:function(e){return"movementY"in e?e.movementY:cn}}),mn=sn(vn),yn=sn(i({},vn,{dataTransfer:0})),gn=sn(i({},dn,{relatedTarget:0})),kn=sn(i({},fn,{animationName:0,elapsedTime:0,pseudoElement:0})),bn=i({},fn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wn=sn(bn),xn=sn(i({},fn,{data:0})),En={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},In={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=In[e])&&!!t[e]}function Tn(){return Cn}var _n=i({},dn,{key:function(e){if(e.key){var t=En[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=rn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(e){return"keypress"===e.type?rn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?rn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Nn=sn(_n),Pn=sn(i({},vn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),On=sn(i({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Rn=sn(i({},fn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=i({},vn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Dn=sn(An),jn=[9,13,27,32],Ln=f&&"CompositionEvent"in window,Mn=null;f&&"documentMode"in document&&(Mn=document.documentMode);var Fn=f&&"TextEvent"in window&&!Mn,Un=f&&(!Ln||Mn&&8<Mn&&11>=Mn),Vn=String.fromCharCode(32),zn=!1;function Bn(e,t){switch(e){case"keyup":return-1!==jn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Hn=!1;var Kn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Kn[e.type]:"textarea"===t}function Gn(e,t,n,r){Pe(r),0<(t=Lr(t,"onChange")).length&&(n=new hn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Qn=null,$n=null;function Yn(e){_r(e,0)}function Xn(e){if(X(ri(e)))return e}function Jn(e,t){if("change"===e)return t}var Zn=!1;if(f){var er;if(f){var tr="oninput"in document;if(!tr){var nr=document.createElement("div");nr.setAttribute("oninput","return;"),tr="function"===typeof nr.oninput}er=tr}else er=!1;Zn=er&&(!document.documentMode||9<document.documentMode)}function rr(){Qn&&(Qn.detachEvent("onpropertychange",ir),$n=Qn=null)}function ir(e){if("value"===e.propertyName&&Xn($n)){var t=[];if(Gn(t,$n,e,Ie(e)),e=Yn,Le)e(t);else{Le=!0;try{Re(e,t)}finally{Le=!1,Fe()}}}}function ar(e,t,n){"focusin"===e?(rr(),$n=n,(Qn=t).attachEvent("onpropertychange",ir)):"focusout"===e&&rr()}function or(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Xn($n)}function sr(e,t){if("click"===e)return Xn(t)}function ur(e,t){if("input"===e||"change"===e)return Xn(t)}var cr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},lr=Object.prototype.hasOwnProperty;function fr(e,t){if(cr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(t,n[r])||!cr(e[n[r]],t[n[r]]))return!1;return!0}function hr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=hr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=hr(r)}}function pr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?pr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function vr(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=J((e=t.contentWindow).document)}return t}function mr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}var yr=f&&"documentMode"in document&&11>=document.documentMode,gr=null,kr=null,br=null,wr=!1;function xr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;wr||null==gr||gr!==J(r)||("selectionStart"in(r=gr)&&mr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},br&&fr(br,r)||(br=r,0<(r=Lr(kr,"onSelect")).length&&(t=new hn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=gr)))}Dt("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Dt("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Dt(At,2);for(var Er="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<Er.length;Sr++)Rt.set(Er[Sr],0);l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ir="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ir));function Tr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,s,u,c){if(Qe.apply(this,arguments),qe){if(!qe)throw Error(o(198));var l=He;qe=!1,He=null,Ke||(Ke=!0,We=l)}}(r,t,void 0,e),e.currentTarget=null}function _r(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var s=r[o],u=s.instance,c=s.currentTarget;if(s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}else for(o=0;o<r.length;o++){if(u=(s=r[o]).instance,c=s.currentTarget,s=s.listener,u!==a&&i.isPropagationStopped())break e;Tr(i,s,c),a=u}}}if(Ke)throw e=We,Ke=!1,We=null,e}function Nr(e,t){var n=ai(t),r=e+"__bubble";n.has(r)||(Ar(t,e,2,!1),n.add(r))}var Pr="_reactListening"+Math.random().toString(36).slice(2);function Or(e){e[Pr]||(e[Pr]=!0,s.forEach((function(t){Cr.has(t)||Rr(t,!1,e,null),Rr(t,!0,e,null)})))}function Rr(e,t,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,a=n;if("selectionchange"===e&&9!==n.nodeType&&(a=n.ownerDocument),null!==r&&!t&&Cr.has(e)){if("scroll"!==e)return;i|=2,a=r}var o=ai(a),s=e+"__"+(t?"capture":"bubble");o.has(s)||(t&&(i|=4),Ar(a,e,i,t),o.add(s))}function Ar(e,t,n,r){var i=Rt.get(t);switch(void 0===i?2:i){case 0:i=$t;break;case 1:i=Yt;break;default:i=Xt}n=i.bind(null,t,n,e),i=void 0,!Ve||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Dr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var u=o.tag;if((3===u||4===u)&&((u=o.stateNode.containerInfo)===i||8===u.nodeType&&u.parentNode===i))return;o=o.return}for(;null!==s;){if(null===(o=ti(s)))return;if(5===(u=o.tag)||6===u){r=a=o;continue e}s=s.parentNode}}r=r.return}!function(e,t,n){if(Me)return e(t,n);Me=!0;try{return je(e,t,n)}finally{Me=!1,Fe()}}((function(){var r=a,i=Ie(n),o=[];e:{var s=Ot.get(e);if(void 0!==s){var u=hn,c=e;switch(e){case"keypress":if(0===rn(n))break e;case"keydown":case"keyup":u=Nn;break;case"focusin":c="focus",u=gn;break;case"focusout":c="blur",u=gn;break;case"beforeblur":case"afterblur":u=gn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":u=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":u=yn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":u=On;break;case Tt:case _t:case Nt:u=kn;break;case Pt:u=Rn;break;case"scroll":u=pn;break;case"wheel":u=Dn;break;case"copy":case"cut":case"paste":u=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":u=Pn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==s?s+"Capture":null:s;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Ue(p,h))&&l.push(jr(p,v,d)))),f)break;p=p.return}0<l.length&&(s=new u(s,c,null,n,i),o.push({event:s,listeners:l}))}}if(0===(7&t)){if(u="mouseout"===e||"pointerout"===e,(!(s="mouseover"===e||"pointerover"===e)||0!==(16&t)||!(c=n.relatedTarget||n.fromElement)||!ti(c)&&!c[Zr])&&(u||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,u?(u=r,null!==(c=(c=n.relatedTarget||n.toElement)?ti(c):null)&&(c!==(f=$e(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(u=null,c=r),u!==c)){if(l=mn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Pn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==u?s:ri(u),d=null==c?s:ri(c),(s=new l(v,p+"leave",u,n,i)).target=f,s.relatedTarget=d,v=null,ti(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,u&&c)e:{for(h=c,p=0,d=l=u;d;d=Mr(d))p++;for(d=0,v=h;v;v=Mr(v))d++;for(;0<p-d;)l=Mr(l),p--;for(;0<d-p;)h=Mr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Mr(l),h=Mr(h)}l=null}else l=null;null!==u&&Fr(o,s,u,l,!1),null!==c&&null!==f&&Fr(o,f,c,l,!0)}if("select"===(u=(s=r?ri(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===u&&"file"===s.type)var m=Jn;else if(Wn(s))if(Zn)m=ur;else{m=or;var y=ar}else(u=s.nodeName)&&"input"===u.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(m=sr);switch(m&&(m=m(e,r))?Gn(o,m,n,i):(y&&y(e,s,r),"focusout"===e&&(y=s._wrapperState)&&y.controlled&&"number"===s.type&&ie(s,"number",s.value)),y=r?ri(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(gr=y,kr=r,br=null);break;case"focusout":br=kr=gr=null;break;case"mousedown":wr=!0;break;case"contextmenu":case"mouseup":case"dragend":wr=!1,xr(o,n,i);break;case"selectionchange":if(yr)break;case"keydown":case"keyup":xr(o,n,i)}var g;if(Ln)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Hn?Bn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Un&&"ko"!==n.locale&&(Hn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Hn&&(g=nn()):(en="value"in(Zt=i)?Zt.value:Zt.textContent,Hn=!0)),0<(y=Lr(r,k)).length&&(k=new xn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=qn(n))&&(k.data=g))),(g=Fn?function(e,t){switch(e){case"compositionend":return qn(t);case"keypress":return 32!==t.which?null:(zn=!0,Vn);case"textInput":return(e=t.data)===Vn&&zn?null:e;default:return null}}(e,n):function(e,t){if(Hn)return"compositionend"===e||!Ln&&Bn(e,t)?(e=nn(),tn=en=Zt=null,Hn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Un&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Lr(r,"onBeforeInput")).length&&(i=new xn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}_r(o,t)}))}function jr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Lr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Ue(e,n))&&r.unshift(jr(e,a,i)),null!=(a=Ue(e,t))&&r.push(jr(e,a,i))),e=e.return}return r}function Mr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Fr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var s=n,u=s.alternate,c=s.stateNode;if(null!==u&&u===r)break;5===s.tag&&null!==c&&(s=c,i?null!=(u=Ue(n,a))&&o.unshift(jr(n,u,s)):i||null!=(u=Ue(n,a))&&o.push(jr(n,u,s))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}function Ur(){}var Vr=null,zr=null;function Br(e,t){switch(e){case"button":case"input":case"select":case"textarea":return!!t.autoFocus}return!1}function qr(e,t){return"textarea"===e||"option"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var Hr="function"===typeof setTimeout?setTimeout:void 0,Kr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(e){1===e.nodeType?e.textContent="":9===e.nodeType&&(null!=(e=e.body)&&(e.textContent=""))}function Gr(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break}return e}function Qr(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var $r=0;var Yr=Math.random().toString(36).slice(2),Xr="__reactFiber$"+Yr,Jr="__reactProps$"+Yr,Zr="__reactContainer$"+Yr,ei="__reactEvents$"+Yr;function ti(e){var t=e[Xr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Zr]||n[Xr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=Qr(e);null!==e;){if(n=e[Xr])return n;e=Qr(e)}return t}n=(e=n).parentNode}return null}function ni(e){return!(e=e[Xr]||e[Zr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ri(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(o(33))}function ii(e){return e[Jr]||null}function ai(e){var t=e[ei];return void 0===t&&(t=e[ei]=new Set),t}var oi=[],si=-1;function ui(e){return{current:e}}function ci(e){0>si||(e.current=oi[si],oi[si]=null,si--)}function li(e,t){si++,oi[si]=e.current,e.current=t}var fi={},hi=ui(fi),di=ui(!1),pi=fi;function vi(e,t){var n=e.type.contextTypes;if(!n)return fi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function mi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function yi(){ci(di),ci(hi)}function gi(e,t,n){if(hi.current!==fi)throw Error(o(168));li(hi,t),li(di,n)}function ki(e,t,n){var r=e.stateNode;if(e=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in e))throw Error(o(108,G(t)||"Unknown",a));return i({},n,r)}function bi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||fi,pi=hi.current,li(hi,e),li(di,di.current),!0}function wi(e,t,n){var r=e.stateNode;if(!r)throw Error(o(169));n?(e=ki(e,t,pi),r.__reactInternalMemoizedMergedChildContext=e,ci(di),ci(hi),li(hi,e)):ci(di),li(di,n)}var xi=null,Ei=null,Si=a.unstable_runWithPriority,Ii=a.unstable_scheduleCallback,Ci=a.unstable_cancelCallback,Ti=a.unstable_shouldYield,_i=a.unstable_requestPaint,Ni=a.unstable_now,Pi=a.unstable_getCurrentPriorityLevel,Oi=a.unstable_ImmediatePriority,Ri=a.unstable_UserBlockingPriority,Ai=a.unstable_NormalPriority,Di=a.unstable_LowPriority,ji=a.unstable_IdlePriority,Li={},Mi=void 0!==_i?_i:function(){},Fi=null,Ui=null,Vi=!1,zi=Ni(),Bi=1e4>zi?Ni:function(){return Ni()-zi};function qi(){switch(Pi()){case Oi:return 99;case Ri:return 98;case Ai:return 97;case Di:return 96;case ji:return 95;default:throw Error(o(332))}}function Hi(e){switch(e){case 99:return Oi;case 98:return Ri;case 97:return Ai;case 96:return Di;case 95:return ji;default:throw Error(o(332))}}function Ki(e,t){return e=Hi(e),Si(e,t)}function Wi(e,t,n){return e=Hi(e),Ii(e,t,n)}function Gi(){if(null!==Ui){var e=Ui;Ui=null,Ci(e)}Qi()}function Qi(){if(!Vi&&null!==Fi){Vi=!0;var e=0;try{var t=Fi;Ki(99,(function(){for(;e<t.length;e++){var n=t[e];do{n=n(!0)}while(null!==n)}})),Fi=null}catch(n){throw null!==Fi&&(Fi=Fi.slice(e+1)),Ii(Oi,Gi),n}finally{Vi=!1}}}var $i=w.ReactCurrentBatchConfig;function Yi(e,t){if(e&&e.defaultProps){for(var n in t=i({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Xi=ui(null),Ji=null,Zi=null,ea=null;function ta(){ea=Zi=Ji=null}function na(e){var t=Xi.current;ci(Xi),e.type._context._currentValue=t}function ra(e,t){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)===t){if(null===n||(n.childLanes&t)===t)break;n.childLanes|=t}else e.childLanes|=t,null!==n&&(n.childLanes|=t);e=e.return}}function ia(e,t){Ji=e,ea=Zi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Lo=!0),e.firstContext=null)}function aa(e,t){if(ea!==e&&!1!==t&&0!==t)if("number"===typeof t&&1073741823!==t||(ea=e,t=1073741823),t={context:e,observedBits:t,next:null},null===Zi){if(null===Ji)throw Error(o(308));Zi=t,Ji.dependencies={lanes:0,firstContext:t,responders:null}}else Zi=Zi.next=t;return e._currentValue}var oa=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ua(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ca(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function la(e,t){if(null!==(e=e.updateQueue)){var n=(e=e.shared).pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}}function fa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ha(e,t,n,r){var a=e.updateQueue;oa=!1;var o=a.firstBaseUpdate,s=a.lastBaseUpdate,u=a.shared.pending;if(null!==u){a.shared.pending=null;var c=u,l=c.next;c.next=null,null===s?o=l:s.next=l,s=c;var f=e.alternate;if(null!==f){var h=(f=f.updateQueue).lastBaseUpdate;h!==s&&(null===h?f.firstBaseUpdate=l:h.next=l,f.lastBaseUpdate=c)}}if(null!==o){for(h=a.baseState,s=0,f=l=c=null;;){u=o.lane;var d=o.eventTime;if((r&u)===u){null!==f&&(f=f.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,v=o;switch(u=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){h=p.call(d,h,u);break e}h=p;break e;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(u="function"===typeof(p=v.payload)?p.call(d,h,u):p)||void 0===u)break e;h=i({},h,u);break e;case 2:oa=!0}}null!==o.callback&&(e.flags|=32,null===(u=a.effects)?a.effects=[o]:u.push(o))}else d={eventTime:d,lane:u,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===f?(l=f=d,c=h):f=f.next=d,s|=u;if(null===(o=o.next)){if(null===(u=a.shared.pending))break;o=u.next,u.next=null,a.lastBaseUpdate=u,a.shared.pending=null}}null===f&&(c=h),a.baseState=c,a.firstBaseUpdate=l,a.lastBaseUpdate=f,zs|=s,e.lanes=s,e.memoizedState=h}}function da(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(o(191,i));i.call(r)}}}var pa=(new r.Component).refs;function va(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:i({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ma={isMounted:function(e){return!!(e=e._reactInternals)&&$e(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=ca(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),pu(e,i,r)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hu(),i=du(e),a=ca(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),la(e,a),pu(e,i,r)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hu(),r=du(e),i=ca(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),la(e,i),pu(e,r,n)}};function ya(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!fr(n,r)||!fr(i,a))}function ga(e,t,n){var r=!1,i=fi,a=t.contextType;return"object"===typeof a&&null!==a?a=aa(a):(i=mi(t)?pi:hi.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?vi(e,i):fi),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ma,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function ka(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ma.enqueueReplaceState(t,t.state,null)}function ba(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=pa,sa(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=aa(a):(a=mi(t)?pi:hi.current,i.context=vi(e,a)),ha(e,n,i,r),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(va(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ma.enqueueReplaceState(i,i.state,null),ha(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4)}var wa=Array.isArray;function xa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(o(309));var r=n.stateNode}if(!r)throw Error(o(147,e));var i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=r.refs;t===pa&&(t=r.refs={}),null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(o(284));if(!n._owner)throw Error(o(290,e))}return e}function Ea(e,t){if("textarea"!==e.type)throw Error(o(31,"[object Object]"===Object.prototype.toString.call(t)?"object with keys {"+Object.keys(t).join(", ")+"}":t))}function Sa(e){function t(t,n){if(e){var r=t.lastEffect;null!==r?(r.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Wu(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags=2,n):r:(t.flags=2,n):n}function s(t){return e&&null===t.alternate&&(t.flags=2),t}function u(e,t,n,r){return null===t||6!==t.tag?((t=Yu(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){return null!==t&&t.elementType===n.type?((r=i(t,n.props)).ref=xa(e,t,n),r.return=e,r):((r=Gu(n.type,n.key,n.props,null,e.mode,r)).ref=xa(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Xu(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Qu(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t||"number"===typeof t)return(t=Yu(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case x:return(n=Gu(t.type,t.key,t.props,null,e.mode,n)).ref=xa(e,null,t),n.return=e,n;case E:return(t=Xu(t,e.mode,n)).return=e,t}if(wa(t)||B(t))return(t=Qu(t,e.mode,n,null)).return=e,t;Ea(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case x:return n.key===i?n.type===S?f(e,t,n.props.children,r,i):c(e,t,n,r):null;case E:return n.key===i?l(e,t,n,r):null}if(wa(n)||B(n))return null!==i?null:f(e,t,n,r,null);Ea(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r||"number"===typeof r)return u(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case x:return e=e.get(null===r.key?n:r.key)||null,r.type===S?f(t,e,r.props.children,i,r.key):c(t,e,r,i);case E:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i)}if(wa(r)||B(r))return f(t,e=e.get(n)||null,r,i,null);Ea(t,r)}return null}function v(i,o,s,u){for(var c=null,l=null,f=o,v=o=0,m=null;null!==f&&v<s.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,s[v],u);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),o=a(y,o,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===s.length)return n(i,f),c;if(null===f){for(;v<s.length;v++)null!==(f=h(i,s[v],u))&&(o=a(f,o,v),null===l?c=f:l.sibling=f,l=f);return c}for(f=r(i,f);v<s.length;v++)null!==(m=p(f,i,v,s[v],u))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),o=a(m,o,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),c}function m(i,s,u,c){var l=B(u);if("function"!==typeof l)throw Error(o(150));if(null==(u=l.call(u)))throw Error(o(151));for(var f=l=null,v=s,m=s=0,y=null,g=u.next();null!==v&&!g.done;m++,g=u.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),s=a(k,s,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),l;if(null===v){for(;!g.done;m++,g=u.next())null!==(g=h(i,g.value,c))&&(s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return l}for(v=r(i,v);!g.done;m++,g=u.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),s=a(g,s,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),l}return function(e,r,a,u){var c="object"===typeof a&&null!==a&&a.type===S&&null===a.key;c&&(a=a.props.children);var l="object"===typeof a&&null!==a;if(l)switch(a.$$typeof){case x:e:{for(l=a.key,c=r;null!==c;){if(c.key===l){if(7===c.tag){if(a.type===S){n(e,c.sibling),(r=i(c,a.props.children)).return=e,e=r;break e}}else if(c.elementType===a.type){n(e,c.sibling),(r=i(c,a.props)).ref=xa(e,c,a),r.return=e,e=r;break e}n(e,c);break}t(e,c),c=c.sibling}a.type===S?((r=Qu(a.props.children,e.mode,u,a.key)).return=e,e=r):((u=Gu(a.type,a.key,a.props,null,e.mode,u)).ref=xa(e,r,a),u.return=e,e=u)}return s(e);case E:e:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(e,r.sibling),(r=i(r,a.children||[])).return=e,e=r;break e}n(e,r);break}t(e,r),r=r.sibling}(r=Xu(a,e.mode,u)).return=e,e=r}return s(e)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(e,r.sibling),(r=i(r,a)).return=e,e=r):(n(e,r),(r=Yu(a,e.mode,u)).return=e,e=r),s(e);if(wa(a))return v(e,r,a,u);if(B(a))return m(e,r,a,u);if(l&&Ea(e,a),"undefined"===typeof a&&!c)switch(e.tag){case 1:case 22:case 0:case 11:case 15:throw Error(o(152,G(e.type)||"Component"))}return n(e,r)}}var Ia=Sa(!0),Ca=Sa(!1),Ta={},_a=ui(Ta),Na=ui(Ta),Pa=ui(Ta);function Oa(e){if(e===Ta)throw Error(o(174));return e}function Ra(e,t){switch(li(Pa,t),li(Na,e),li(_a,Ta),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:de(null,"");break;default:t=de(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ci(_a),li(_a,t)}function Aa(){ci(_a),ci(Na),ci(Pa)}function Da(e){Oa(Pa.current);var t=Oa(_a.current),n=de(t,e.type);t!==n&&(li(Na,e),li(_a,n))}function ja(e){Na.current===e&&(ci(_a),ci(Na))}var La=ui(0);function Ma(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(64&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Fa=null,Ua=null,Va=!1;function za(e,t){var n=Hu(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=t,n.return=e,n.flags=8,null!==e.lastEffect?(e.lastEffect.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n}function Ba(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,!0);default:return!1}}function qa(e){if(Va){var t=Ua;if(t){var n=t;if(!Ba(e,t)){if(!(t=Gr(n.nextSibling))||!Ba(e,t))return e.flags=-1025&e.flags|2,Va=!1,void(Fa=e);za(Fa,n)}Fa=e,Ua=Gr(t.firstChild)}else e.flags=-1025&e.flags|2,Va=!1,Fa=e}}function Ha(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Fa=e}function Ka(e){if(e!==Fa)return!1;if(!Va)return Ha(e),Va=!0,!1;var t=e.type;if(5!==e.tag||"head"!==t&&"body"!==t&&!qr(t,e.memoizedProps))for(t=Ua;t;)za(e,t),t=Gr(t.nextSibling);if(Ha(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(o(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Ua=Gr(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Ua=null}}else Ua=Fa?Gr(e.stateNode.nextSibling):null;return!0}function Wa(){Ua=Fa=null,Va=!1}var Ga=[];function Qa(){for(var e=0;e<Ga.length;e++)Ga[e]._workInProgressVersionPrimary=null;Ga.length=0}var $a=w.ReactCurrentDispatcher,Ya=w.ReactCurrentBatchConfig,Xa=0,Ja=null,Za=null,eo=null,to=!1,no=!1;function ro(){throw Error(o(321))}function io(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!cr(e[n],t[n]))return!1;return!0}function ao(e,t,n,r,i,a){if(Xa=a,Ja=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$a.current=null===e||null===e.memoizedState?Ro:Ao,e=n(r,i),no){a=0;do{if(no=!1,!(25>a))throw Error(o(301));a+=1,eo=Za=null,t.updateQueue=null,$a.current=Do,e=n(r,i)}while(no)}if($a.current=Oo,t=null!==Za&&null!==Za.next,Xa=0,eo=Za=Ja=null,to=!1,t)throw Error(o(300));return e}function oo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===eo?Ja.memoizedState=eo=e:eo=eo.next=e,eo}function so(){if(null===Za){var e=Ja.alternate;e=null!==e?e.memoizedState:null}else e=Za.next;var t=null===eo?Ja.memoizedState:eo.next;if(null!==t)eo=t,Za=e;else{if(null===e)throw Error(o(310));e={memoizedState:(Za=e).memoizedState,baseState:Za.baseState,baseQueue:Za.baseQueue,queue:Za.queue,next:null},null===eo?Ja.memoizedState=eo=e:eo=eo.next=e}return eo}function uo(e,t){return"function"===typeof t?t(e):t}function co(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=Za,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var u=s=a=null,c=i;do{var l=c.lane;if((Xa&l)===l)null!==u&&(u=u.next={lane:0,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null}),r=c.eagerReducer===e?c.eagerState:e(r,c.action);else{var f={lane:l,action:c.action,eagerReducer:c.eagerReducer,eagerState:c.eagerState,next:null};null===u?(s=u=f,a=r):u=u.next=f,Ja.lanes|=l,zs|=l}c=c.next}while(null!==c&&c!==i);null===u?a=r:u.next=s,cr(r,t.memoizedState)||(Lo=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}return[t.memoizedState,n.dispatch]}function lo(e){var t=so(),n=t.queue;if(null===n)throw Error(o(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{a=e(a,s.action),s=s.next}while(s!==i);cr(a,t.memoizedState)||(Lo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function fo(e,t,n){var r=t._getVersion;r=r(t._source);var i=t._workInProgressVersionPrimary;if(null!==i?e=i===r:(e=e.mutableReadLanes,(e=(Xa&e)===e)&&(t._workInProgressVersionPrimary=r,Ga.push(t))),e)return n(t._source);throw Ga.push(t),Error(o(350))}function ho(e,t,n,r){var i=As;if(null===i)throw Error(o(349));var a=t._getVersion,s=a(t._source),u=$a.current,c=u.useState((function(){return fo(i,t,n)})),l=c[1],f=c[0];c=eo;var h=e.memoizedState,d=h.refs,p=d.getSnapshot,v=h.source;h=h.subscribe;var m=Ja;return e.memoizedState={refs:d,source:t,subscribe:r},u.useEffect((function(){d.getSnapshot=n,d.setSnapshot=l;var e=a(t._source);if(!cr(s,e)){e=n(t._source),cr(f,e)||(l(e),e=du(m),i.mutableReadLanes|=e&i.pendingLanes),e=i.mutableReadLanes,i.entangledLanes|=e;for(var r=i.entanglements,o=e;0<o;){var u=31-qt(o),c=1<<u;r[u]|=e,o&=~c}}}),[n,t,r]),u.useEffect((function(){return r(t._source,(function(){var e=d.getSnapshot,n=d.setSnapshot;try{n(e(t._source));var r=du(m);i.mutableReadLanes|=r&i.pendingLanes}catch(a){n((function(){throw a}))}}))}),[t,r]),cr(p,n)&&cr(v,t)&&cr(h,r)||((e={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:f}).dispatch=l=Po.bind(null,Ja,e),c.queue=e,c.baseQueue=null,f=fo(i,t,n),c.memoizedState=c.baseState=f),f}function po(e,t,n){return ho(so(),e,t,n)}function vo(e){var t=oo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e=(e=t.queue={pending:null,dispatch:null,lastRenderedReducer:uo,lastRenderedState:e}).dispatch=Po.bind(null,Ja,e),[t.memoizedState,e]}function mo(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=Ja.updateQueue)?(t={lastEffect:null},Ja.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function yo(e){return e={current:e},oo().memoizedState=e}function go(){return so().memoizedState}function ko(e,t,n,r){var i=oo();Ja.flags|=e,i.memoizedState=mo(1|t,n,void 0,void 0===r?null:r)}function bo(e,t,n,r){var i=so();r=void 0===r?null:r;var a=void 0;if(null!==Za){var o=Za.memoizedState;if(a=o.destroy,null!==r&&io(r,o.deps))return void mo(t,n,a,r)}Ja.flags|=e,i.memoizedState=mo(1|t,n,a,r)}function wo(e,t){return ko(516,4,e,t)}function xo(e,t){return bo(516,4,e,t)}function Eo(e,t){return bo(4,2,e,t)}function So(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Io(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,bo(4,2,So.bind(null,t,e),n)}function Co(){}function To(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function _o(e,t){var n=so();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&io(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function No(e,t){var n=qi();Ki(98>n?98:n,(function(){e(!0)})),Ki(97<n?97:n,(function(){var n=Ya.transition;Ya.transition=1;try{e(!1),t()}finally{Ya.transition=n}}))}function Po(e,t,n){var r=hu(),i=du(e),a={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},o=t.pending;if(null===o?a.next=a:(a.next=o.next,o.next=a),t.pending=a,o=e.alternate,e===Ja||null!==o&&o===Ja)no=to=!0;else{if(0===e.lanes&&(null===o||0===o.lanes)&&null!==(o=t.lastRenderedReducer))try{var s=t.lastRenderedState,u=o(s,n);if(a.eagerReducer=o,a.eagerState=u,cr(u,s))return}catch(c){}pu(e,i,r)}}var Oo={readContext:aa,useCallback:ro,useContext:ro,useEffect:ro,useImperativeHandle:ro,useLayoutEffect:ro,useMemo:ro,useReducer:ro,useRef:ro,useState:ro,useDebugValue:ro,useDeferredValue:ro,useTransition:ro,useMutableSource:ro,useOpaqueIdentifier:ro,unstable_isNewReconciler:!1},Ro={readContext:aa,useCallback:function(e,t){return oo().memoizedState=[e,void 0===t?null:t],e},useContext:aa,useEffect:wo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,ko(4,2,So.bind(null,t,e),n)},useLayoutEffect:function(e,t){return ko(4,2,e,t)},useMemo:function(e,t){var n=oo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=oo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e=(e=r.queue={pending:null,dispatch:null,lastRenderedReducer:e,lastRenderedState:t}).dispatch=Po.bind(null,Ja,e),[r.memoizedState,e]},useRef:yo,useState:vo,useDebugValue:Co,useDeferredValue:function(e){var t=vo(e),n=t[0],r=t[1];return wo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=vo(!1),t=e[0];return yo(e=No.bind(null,e[1])),[e,t]},useMutableSource:function(e,t,n){var r=oo();return r.memoizedState={refs:{getSnapshot:t,setSnapshot:null},source:e,subscribe:n},ho(r,e,t,n)},useOpaqueIdentifier:function(){if(Va){var e=!1,t=function(e){return{$$typeof:j,toString:e,valueOf:e}}((function(){throw e||(e=!0,n("r:"+($r++).toString(36))),Error(o(355))})),n=vo(t)[1];return 0===(2&Ja.mode)&&(Ja.flags|=516,mo(5,(function(){n("r:"+($r++).toString(36))}),void 0,null)),t}return vo(t="r:"+($r++).toString(36)),t},unstable_isNewReconciler:!1},Ao={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:_o,useReducer:co,useRef:go,useState:function(){return co(uo)},useDebugValue:Co,useDeferredValue:function(e){var t=co(uo),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=co(uo)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return co(uo)[0]},unstable_isNewReconciler:!1},Do={readContext:aa,useCallback:To,useContext:aa,useEffect:xo,useImperativeHandle:Io,useLayoutEffect:Eo,useMemo:_o,useReducer:lo,useRef:go,useState:function(){return lo(uo)},useDebugValue:Co,useDeferredValue:function(e){var t=lo(uo),n=t[0],r=t[1];return xo((function(){var t=Ya.transition;Ya.transition=1;try{r(e)}finally{Ya.transition=t}}),[e]),n},useTransition:function(){var e=lo(uo)[0];return[go().current,e]},useMutableSource:po,useOpaqueIdentifier:function(){return lo(uo)[0]},unstable_isNewReconciler:!1},jo=w.ReactCurrentOwner,Lo=!1;function Mo(e,t,n,r){t.child=null===e?Ca(t,null,n,r):Ia(t,e.child,n,r)}function Fo(e,t,n,r,i){n=n.render;var a=t.ref;return ia(t,i),r=ao(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Mo(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Uo(e,t,n,r,i,a){if(null===e){var o=n.type;return"function"!==typeof o||Ku(o)||void 0!==o.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Gu(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=o,Vo(e,t,o,r,i,a))}return o=e.child,0===(i&a)&&(i=o.memoizedProps,(n=null!==(n=n.compare)?n:fr)(i,r)&&e.ref===t.ref)?as(e,t,a):(t.flags|=1,(e=Wu(o,r)).ref=t.ref,e.return=t,t.child=e)}function Vo(e,t,n,r,i,a){if(null!==e&&fr(e.memoizedProps,r)&&e.ref===t.ref){if(Lo=!1,0===(a&i))return t.lanes=e.lanes,as(e,t,a);0!==(16384&e.flags)&&(Lo=!0)}return qo(e,t,n,r,a)}function zo(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&t.mode))t.memoizedState={baseLanes:0},xu(t,n);else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e},xu(t,e),null;t.memoizedState={baseLanes:0},xu(t,null!==a?a.baseLanes:n)}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,xu(t,r);return Mo(e,t,i,n),t.child}function Bo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=128)}function qo(e,t,n,r,i){var a=mi(n)?pi:hi.current;return a=vi(t,a),ia(t,i),n=ao(e,t,n,r,a,i),null===e||Lo?(t.flags|=1,Mo(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-517,e.lanes&=~i,as(e,t,i))}function Ho(e,t,n,r,i){if(mi(n)){var a=!0;bi(t)}else a=!1;if(ia(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),ga(t,n,r),ba(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,s=t.memoizedProps;o.props=s;var u=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=aa(c):c=vi(t,c=mi(n)?pi:hi.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==r||u!==c)&&ka(t,o,r,c),oa=!1;var h=t.memoizedState;o.state=h,ha(t,r,o,i),u=t.memoizedState,s!==r||h!==u||di.current||oa?("function"===typeof l&&(va(t,n,l,r),u=t.memoizedState),(s=oa||ya(t,n,s,r,h,u,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4)):("function"===typeof o.componentDidMount&&(t.flags|=4),t.memoizedProps=r,t.memoizedState=u),o.props=r,o.state=u,o.context=c,r=s):("function"===typeof o.componentDidMount&&(t.flags|=4),r=!1)}else{o=t.stateNode,ua(e,t),s=t.memoizedProps,c=t.type===t.elementType?s:Yi(t.type,s),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(u=n.contextType)&&null!==u?u=aa(u):u=vi(t,u=mi(n)?pi:hi.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(s!==f||h!==u)&&ka(t,o,r,u),oa=!1,h=t.memoizedState,o.state=h,ha(t,r,o,i);var p=t.memoizedState;s!==f||h!==p||di.current||oa?("function"===typeof d&&(va(t,n,d,r),p=t.memoizedState),(c=oa||ya(t,n,c,r,h,p,u))?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,u),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,u)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=256)):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=u,r=c):("function"!==typeof o.componentDidUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||s===e.memoizedProps&&h===e.memoizedState||(t.flags|=256),r=!1)}return Ko(e,t,n,r,a,i)}function Ko(e,t,n,r,i,a){Bo(e,t);var o=0!==(64&t.flags);if(!r&&!o)return i&&wi(t,n,!1),as(e,t,a);r=t.stateNode,jo.current=t;var s=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ia(t,e.child,null,a),t.child=Ia(t,null,s,a)):Mo(e,t,s,a),t.memoizedState=r.state,i&&wi(t,n,!0),t.child}function Wo(e){var t=e.stateNode;t.pendingContext?gi(0,t.pendingContext,t.pendingContext!==t.context):t.context&&gi(0,t.context,!1),Ra(e,t.containerInfo)}var Go,Qo,$o,Yo,Xo={dehydrated:null,retryLane:0};function Jo(e,t,n){var r,i=t.pendingProps,a=La.current,o=!1;return(r=0!==(64&t.flags))||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-65):null!==e&&null===e.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(a|=1),li(La,1&a),null===e?(void 0!==i.fallback&&qa(t),e=i.children,a=i.fallback,o?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,e):"number"===typeof i.unstable_expectedLoadTime?(e=Zo(t,e,a,n),t.child.memoizedState={baseLanes:n},t.memoizedState=Xo,t.lanes=33554432,e):((n=$u({mode:"visible",children:e},t.mode,n,null)).return=t,t.child=n)):(e.memoizedState,o?(i=ts(e,t,i.children,i.fallback,n),o=t.child,a=e.child.memoizedState,o.memoizedState=null===a?{baseLanes:n}:{baseLanes:a.baseLanes|n},o.childLanes=e.childLanes&~n,t.memoizedState=Xo,i):(n=es(e,t,i.children,n),t.memoizedState=null,n))}function Zo(e,t,n,r){var i=e.mode,a=e.child;return t={mode:"hidden",children:t},0===(2&i)&&null!==a?(a.childLanes=0,a.pendingProps=t):a=$u(t,i,0,null),n=Qu(n,i,r,null),a.return=e,n.return=e,a.sibling=n,e.child=a,n}function es(e,t,n,r){var i=e.child;return e=i.sibling,n=Wu(i,{mode:"visible",children:n}),0===(2&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(e.nextEffect=null,e.flags=8,t.firstEffect=t.lastEffect=e),t.child=n}function ts(e,t,n,r,i){var a=t.mode,o=e.child;e=o.sibling;var s={mode:"hidden",children:n};return 0===(2&a)&&t.child!==o?((n=t.child).childLanes=0,n.pendingProps=s,null!==(o=n.lastEffect)?(t.firstEffect=n.firstEffect,t.lastEffect=o,o.nextEffect=null):t.firstEffect=t.lastEffect=null):n=Wu(o,s),null!==e?r=Wu(e,r):(r=Qu(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function ns(e,t){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),ra(e.return,t)}function rs(e,t,n,r,i,a){var o=e.memoizedState;null===o?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i,o.lastEffect=a)}function is(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(Mo(e,t,r.children,n),0!==(2&(r=La.current)))r=1&r|2,t.flags|=64;else{if(null!==e&&0!==(64&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&ns(e,n);else if(19===e.tag)ns(e,n);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(li(La,r),0===(2&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ma(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),rs(t,!1,i,n,a,t.lastEffect);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ma(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}rs(t,!0,n,null,a,t.lastEffect);break;case"together":rs(t,!1,null,null,void 0,t.lastEffect);break;default:t.memoizedState=null}return t.child}function as(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),zs|=t.lanes,0!==(n&t.childLanes)){if(null!==e&&t.child!==e.child)throw Error(o(153));if(null!==t.child){for(n=Wu(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Wu(e,e.pendingProps)).return=t;n.sibling=null}return t.child}return null}function os(e,t){if(!Va)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ss(e,t,n){var r=t.pendingProps;switch(t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:case 17:return mi(t.type)&&yi(),null;case 3:return Aa(),ci(di),ci(hi),Qa(),(r=t.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ka(t)?t.flags|=4:r.hydrate||(t.flags|=256)),Qo(t),null;case 5:ja(t);var a=Oa(Pa.current);if(n=t.type,null!==e&&null!=t.stateNode)$o(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=128);else{if(!r){if(null===t.stateNode)throw Error(o(166));return null}if(e=Oa(_a.current),Ka(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Xr]=t,r[Jr]=s,n){case"dialog":Nr("cancel",r),Nr("close",r);break;case"iframe":case"object":case"embed":Nr("load",r);break;case"video":case"audio":for(e=0;e<Ir.length;e++)Nr(Ir[e],r);break;case"source":Nr("error",r);break;case"img":case"image":case"link":Nr("error",r),Nr("load",r);break;case"details":Nr("toggle",r);break;case"input":ee(r,s),Nr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Nr("invalid",r);break;case"textarea":ue(r,s),Nr("invalid",r)}for(var c in Ee(n,s),e=null,s)s.hasOwnProperty(c)&&(a=s[c],"children"===c?"string"===typeof a?r.textContent!==a&&(e=["children",a]):"number"===typeof a&&r.textContent!==""+a&&(e=["children",""+a]):u.hasOwnProperty(c)&&null!=a&&"onScroll"===c&&Nr("scroll",r));switch(n){case"input":Y(r),re(r,s,!0);break;case"textarea":Y(r),le(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=e,t.updateQueue=r,null!==r&&(t.flags|=4)}else{switch(c=9===a.nodeType?a:a.ownerDocument,e===fe.html&&(e=he(n)),e===fe.html?"script"===n?((e=c.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),"select"===n&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Xr]=t,e[Jr]=r,Go(e,t,!1,!1),t.stateNode=e,c=Se(n,r),n){case"dialog":Nr("cancel",e),Nr("close",e),a=r;break;case"iframe":case"object":case"embed":Nr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ir.length;a++)Nr(Ir[a],e);a=r;break;case"source":Nr("error",e),a=r;break;case"img":case"image":case"link":Nr("error",e),Nr("load",e),a=r;break;case"details":Nr("toggle",e),a=r;break;case"input":ee(e,r),a=Z(e,r),Nr("invalid",e);break;case"option":a=ae(e,r);break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=i({},r,{value:void 0}),Nr("invalid",e);break;case"textarea":ue(e,r),a=se(e,r),Nr("invalid",e);break;default:a=r}Ee(n,a);var l=a;for(s in l)if(l.hasOwnProperty(s)){var f=l[s];"style"===s?we(e,f):"dangerouslySetInnerHTML"===s?null!=(f=f?f.__html:void 0)&&me(e,f):"children"===s?"string"===typeof f?("textarea"!==n||""!==f)&&ye(e,f):"number"===typeof f&&ye(e,""+f):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(u.hasOwnProperty(s)?null!=f&&"onScroll"===s&&Nr("scroll",e):null!=f&&b(e,s,f,c))}switch(n){case"input":Y(e),re(e,r,!1);break;case"textarea":Y(e),le(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?oe(e,!!r.multiple,s,!1):null!=r.defaultValue&&oe(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Ur)}Br(n,r)&&(t.flags|=4)}null!==t.ref&&(t.flags|=128)}return null;case 6:if(e&&null!=t.stateNode)Yo(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(o(166));n=Oa(Pa.current),Oa(_a.current),Ka(t)?(r=t.stateNode,n=t.memoizedProps,r[Xr]=t,r.nodeValue!==n&&(t.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[Xr]=t,t.stateNode=r)}return null;case 13:return ci(La),r=t.memoizedState,0!==(64&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?void 0!==t.memoizedProps.fallback&&Ka(t):n=null!==e.memoizedState,r&&!n&&0!==(2&t.mode)&&(null===e&&!0!==t.memoizedProps.unstable_avoidThisFallback||0!==(1&La.current)?0===Fs&&(Fs=3):(0!==Fs&&3!==Fs||(Fs=4),null===As||0===(134217727&zs)&&0===(134217727&Bs)||gu(As,js))),(r||n)&&(t.flags|=4),null);case 4:return Aa(),Qo(t),null===e&&Or(t.stateNode.containerInfo),null;case 10:return na(t),null;case 19:if(ci(La),null===(r=t.memoizedState))return null;if(s=0!==(64&t.flags),null===(c=r.rendering))if(s)os(r,!1);else{if(0!==Fs||null!==e&&0!==(64&e.flags))for(e=t.child;null!==e;){if(null!==(c=Ma(e))){for(t.flags|=64,os(r,!1),null!==(s=c.updateQueue)&&(t.updateQueue=s,t.flags|=4),null===r.lastEffect&&(t.firstEffect=null),t.lastEffect=r.lastEffect,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(c=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return li(La,1&La.current|2),t.child}e=e.sibling}null!==r.tail&&Bi()>Ws&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432)}else{if(!s)if(null!==(e=Ma(c))){if(t.flags|=64,s=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),os(r,!0),null===r.tail&&"hidden"===r.tailMode&&!c.alternate&&!Va)return null!==(t=t.lastEffect=r.lastEffect)&&(t.nextEffect=null),null}else 2*Bi()-r.renderingStartTime>Ws&&1073741824!==n&&(t.flags|=64,s=!0,os(r,!1),t.lanes=33554432);r.isBackwards?(c.sibling=t.child,t.child=c):(null!==(n=r.last)?n.sibling=c:t.child=c,r.last=c)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=t.lastEffect,r.renderingStartTime=Bi(),n.sibling=null,t=La.current,li(La,s?1&t|2:1&t),n):null;case 23:case 24:return Eu(),null!==e&&null!==e.memoizedState!==(null!==t.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(t.flags|=4),null}throw Error(o(156,t.tag))}function us(e){switch(e.tag){case 1:mi(e.type)&&yi();var t=e.flags;return 4096&t?(e.flags=-4097&t|64,e):null;case 3:if(Aa(),ci(di),ci(hi),Qa(),0!==(64&(t=e.flags)))throw Error(o(285));return e.flags=-4097&t|64,e;case 5:return ja(e),null;case 13:return ci(La),4096&(t=e.flags)?(e.flags=-4097&t|64,e):null;case 19:return ci(La),null;case 4:return Aa(),null;case 10:return na(e),null;case 23:case 24:return Eu(),null;default:return null}}function cs(e,t){try{var n="",r=t;do{n+=W(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function ls(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}Go=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Qo=function(){},$o=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Oa(_a.current);var o,s=null;switch(n){case"input":a=Z(e,a),r=Z(e,r),s=[];break;case"option":a=ae(e,a),r=ae(e,r),s=[];break;case"select":a=i({},a,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":a=se(e,a),r=se(e,r),s=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Ur)}for(f in Ee(n,r),n=null,a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&null!=a[f])if("style"===f){var c=a[f];for(o in c)c.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else"dangerouslySetInnerHTML"!==f&&"children"!==f&&"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&"autoFocus"!==f&&(u.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var l=r[f];if(c=null!=a?a[f]:void 0,r.hasOwnProperty(f)&&l!==c&&(null!=l||null!=c))if("style"===f)if(c){for(o in c)!c.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&c[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(f,n)),n=l;else"dangerouslySetInnerHTML"===f?(l=l?l.__html:void 0,c=c?c.__html:void 0,null!=l&&c!==l&&(s=s||[]).push(f,l)):"children"===f?"string"!==typeof l&&"number"!==typeof l||(s=s||[]).push(f,""+l):"suppressContentEditableWarning"!==f&&"suppressHydrationWarning"!==f&&(u.hasOwnProperty(f)?(null!=l&&"onScroll"===f&&Nr("scroll",e),s||c===l||(s=[])):"object"===typeof l&&null!==l&&l.$$typeof===j?l.toString():(s=s||[]).push(f,l))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}},Yo=function(e,t,n,r){n!==r&&(t.flags|=4)};var fs="function"===typeof WeakMap?WeakMap:Map;function hs(e,t,n){(n=ca(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Ys||(Ys=!0,Xs=r),ls(0,t)},n}function ds(e,t,n){(n=ca(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return ls(0,t),r(i)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Js?Js=new Set([this]):Js.add(this),ls(0,t));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}var ps="function"===typeof WeakSet?WeakSet:Set;function vs(e){var t=e.ref;if(null!==t)if("function"===typeof t)try{t(null)}catch(n){Vu(e,n)}else t.current=null}function ms(e,t){switch(t.tag){case 0:case 11:case 15:case 22:case 5:case 6:case 4:case 17:return;case 1:if(256&t.flags&&null!==e){var n=e.memoizedProps,r=e.memoizedState;t=(e=t.stateNode).getSnapshotBeforeUpdate(t.elementType===t.type?n:Yi(t.type,n),r),e.__reactInternalSnapshotBeforeUpdate=t}return;case 3:return void(256&t.flags&&Wr(t.stateNode.containerInfo))}throw Error(o(163))}function ys(e,t,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{if(3===(3&e.tag)){var r=e.create;e.destroy=r()}e=e.next}while(e!==t)}if(null!==(t=null!==(t=n.updateQueue)?t.lastEffect:null)){e=t=t.next;do{var i=e;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Mu(n,e),Lu(n,e)),e=r}while(e!==t)}return;case 1:return e=n.stateNode,4&n.flags&&(null===t?e.componentDidMount():(r=n.elementType===n.type?t.memoizedProps:Yi(n.type,t.memoizedProps),e.componentDidUpdate(r,t.memoizedState,e.__reactInternalSnapshotBeforeUpdate))),void(null!==(t=n.updateQueue)&&da(n,t,e));case 3:if(null!==(t=n.updateQueue)){if(e=null,null!==n.child)switch(n.child.tag){case 5:case 1:e=n.child.stateNode}da(n,t,e)}return;case 5:return e=n.stateNode,void(null===t&&4&n.flags&&Br(n.type,n.memoizedProps)&&e.focus());case 6:case 4:case 12:case 19:case 17:case 20:case 21:case 23:case 24:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&wt(n)))))}throw Error(o(163))}function gs(e,t){for(var n=e;;){if(5===n.tag){var r=n.stateNode;if(t)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=be("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=t?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===e)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ks(e,t){if(Ei&&"function"===typeof Ei.onCommitFiberUnmount)try{Ei.onCommitFiberUnmount(xi,t)}catch(a){}switch(t.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(e=t.updateQueue)&&null!==(e=e.lastEffect)){var n=e=e.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Mu(t,n);else{r=t;try{i()}catch(a){Vu(r,a)}}n=n.next}while(n!==e)}break;case 1:if(vs(t),"function"===typeof(e=t.stateNode).componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(a){Vu(t,a)}break;case 5:vs(t);break;case 4:Is(e,t)}}function bs(e){e.alternate=null,e.child=null,e.dependencies=null,e.firstEffect=null,e.lastEffect=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.return=null,e.updateQueue=null}function ws(e){return 5===e.tag||3===e.tag||4===e.tag}function xs(e){e:{for(var t=e.return;null!==t;){if(ws(t))break e;t=t.return}throw Error(o(160))}var n=t;switch(t=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:t=t.containerInfo,r=!0;break;default:throw Error(o(161))}16&n.flags&&(ye(t,""),n.flags&=-17);e:t:for(n=e;;){for(;null===n.sibling;){if(null===n.return||ws(n.return)){n=null;break e}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue t;if(null===n.child||4===n.tag)continue t;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break e}}r?Es(e,n,t):Ss(e,n,t)}function Es(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Ur));else if(4!==r&&null!==(e=e.child))for(Es(e,t,n),e=e.sibling;null!==e;)Es(e,t,n),e=e.sibling}function Ss(e,t,n){var r=e.tag,i=5===r||6===r;if(i)e=i?e.stateNode:e.stateNode.instance,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(Ss(e,t,n),e=e.sibling;null!==e;)Ss(e,t,n),e=e.sibling}function Is(e,t){for(var n,r,i=t,a=!1;;){if(!a){a=i.return;e:for(;;){if(null===a)throw Error(o(160));switch(n=a.stateNode,a.tag){case 5:r=!1;break e;case 3:case 4:n=n.containerInfo,r=!0;break e}a=a.return}a=!0}if(5===i.tag||6===i.tag){e:for(var s=e,u=i,c=u;;)if(ks(s,c),null!==c.child&&4!==c.tag)c.child.return=c,c=c.child;else{if(c===u)break e;for(;null===c.sibling;){if(null===c.return||c.return===u)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}r?(s=n,u=i.stateNode,8===s.nodeType?s.parentNode.removeChild(u):s.removeChild(u)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ks(e,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===t)break;for(;null===i.sibling;){if(null===i.return||i.return===t)return;4===(i=i.return).tag&&(a=!1)}i.sibling.return=i.return,i=i.sibling}}function Cs(e,t){switch(t.tag){case 0:case 11:case 14:case 15:case 22:var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(e=r.destroy,r.destroy=void 0,void 0!==e&&e()),r=r.next}while(r!==n)}return;case 1:case 12:case 17:return;case 5:if(null!=(n=t.stateNode)){r=t.memoizedProps;var i=null!==e?e.memoizedProps:r;e=t.type;var a=t.updateQueue;if(t.updateQueue=null,null!==a){for(n[Jr]=r,"input"===e&&"radio"===r.type&&null!=r.name&&te(n,r),Se(e,i),t=Se(e,r),i=0;i<a.length;i+=2){var s=a[i],u=a[i+1];"style"===s?we(n,u):"dangerouslySetInnerHTML"===s?me(n,u):"children"===s?ye(n,u):b(n,s,u,t)}switch(e){case"input":ne(n,r);break;case"textarea":ce(n,r);break;case"select":e=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(a=r.value)?oe(n,!!r.multiple,a,!1):e!==!!r.multiple&&(null!=r.defaultValue?oe(n,!!r.multiple,r.defaultValue,!0):oe(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===t.stateNode)throw Error(o(162));return void(t.stateNode.nodeValue=t.memoizedProps);case 3:return void((n=t.stateNode).hydrate&&(n.hydrate=!1,wt(n.containerInfo)));case 13:return null!==t.memoizedState&&(Ks=Bi(),gs(t.child,!0)),void Ts(t);case 19:return void Ts(t);case 23:case 24:return void gs(t,null!==t.memoizedState)}throw Error(o(163))}function Ts(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ps),t.forEach((function(t){var r=Bu.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function _s(e,t){return null!==e&&(null===(e=e.memoizedState)||null!==e.dehydrated)&&(null!==(t=t.memoizedState)&&null===t.dehydrated)}var Ns=Math.ceil,Ps=w.ReactCurrentDispatcher,Os=w.ReactCurrentOwner,Rs=0,As=null,Ds=null,js=0,Ls=0,Ms=ui(0),Fs=0,Us=null,Vs=0,zs=0,Bs=0,qs=0,Hs=null,Ks=0,Ws=1/0;function Gs(){Ws=Bi()+500}var Qs,$s=null,Ys=!1,Xs=null,Js=null,Zs=!1,eu=null,tu=90,nu=[],ru=[],iu=null,au=0,ou=null,su=-1,uu=0,cu=0,lu=null,fu=!1;function hu(){return 0!==(48&Rs)?Bi():-1!==su?su:su=Bi()}function du(e){if(0===(2&(e=e.mode)))return 1;if(0===(4&e))return 99===qi()?1:2;if(0===uu&&(uu=Vs),0!==$i.transition){0!==cu&&(cu=null!==Hs?Hs.pendingLanes:0),e=uu;var t=4186112&~cu;return 0===(t&=-t)&&(0===(t=(e=4186112&~e)&-e)&&(t=8192)),t}return e=qi(),0!==(4&Rs)&&98===e?e=Ut(12,uu):e=Ut(e=function(e){switch(e){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(e),uu),e}function pu(e,t,n){if(50<au)throw au=0,ou=null,Error(o(185));if(null===(e=vu(e,t)))return null;Bt(e,t,n),e===As&&(Bs|=t,4===Fs&&gu(e,js));var r=qi();1===t?0!==(8&Rs)&&0===(48&Rs)?ku(e):(mu(e,n),0===Rs&&(Gs(),Gi())):(0===(4&Rs)||98!==r&&99!==r||(null===iu?iu=new Set([e]):iu.add(e)),mu(e,n)),Hs=e}function vu(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function mu(e,t){for(var n=e.callbackNode,r=e.suspendedLanes,i=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var u=31-qt(s),c=1<<u,l=a[u];if(-1===l){if(0===(c&r)||0!==(c&i)){l=t,Lt(c);var f=jt;a[u]=10<=f?l+250:6<=f?l+5e3:-1}}else l<=t&&(e.expiredLanes|=c);s&=~c}if(r=Mt(e,e===As?js:0),t=jt,0===r)null!==n&&(n!==Li&&Ci(n),e.callbackNode=null,e.callbackPriority=0);else{if(null!==n){if(e.callbackPriority===t)return;n!==Li&&Ci(n)}15===t?(n=ku.bind(null,e),null===Fi?(Fi=[n],Ui=Ii(Oi,Qi)):Fi.push(n),n=Li):14===t?n=Wi(99,ku.bind(null,e)):(n=function(e){switch(e){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(o(358,e))}}(t),n=Wi(n,yu.bind(null,e))),e.callbackPriority=t,e.callbackNode=n}}function yu(e){if(su=-1,cu=uu=0,0!==(48&Rs))throw Error(o(327));var t=e.callbackNode;if(ju()&&e.callbackNode!==t)return null;var n=Mt(e,e===As?js:0);if(0===n)return null;var r=n,i=Rs;Rs|=16;var a=Cu();for(As===e&&js===r||(Gs(),Su(e,r));;)try{Nu();break}catch(u){Iu(e,u)}if(ta(),Ps.current=a,Rs=i,null!==Ds?r=0:(As=null,js=0,r=Fs),0!==(Vs&Bs))Su(e,0);else if(0!==r){if(2===r&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(n=Ft(e))&&(r=Tu(e,n))),1===r)throw t=Us,Su(e,0),gu(e,n),mu(e,Bi()),t;switch(e.finishedWork=e.current.alternate,e.finishedLanes=n,r){case 0:case 1:throw Error(o(345));case 2:case 5:Ru(e);break;case 3:if(gu(e,n),(62914560&n)===n&&10<(r=Ks+500-Bi())){if(0!==Mt(e,0))break;if(((i=e.suspendedLanes)&n)!==n){hu(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=Hr(Ru.bind(null,e),r);break}Ru(e);break;case 4:if(gu(e,n),(4186112&n)===n)break;for(r=e.eventTimes,i=-1;0<n;){var s=31-qt(n);a=1<<s,(s=r[s])>i&&(i=s),n&=~a}if(n=i,10<(n=(120>(n=Bi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ns(n/1960))-n)){e.timeoutHandle=Hr(Ru.bind(null,e),n);break}Ru(e);break;default:throw Error(o(329))}}return mu(e,Bi()),e.callbackNode===t?yu.bind(null,e):null}function gu(e,t){for(t&=~qs,t&=~Bs,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-qt(t),r=1<<n;e[n]=-1,t&=~r}}function ku(e){if(0!==(48&Rs))throw Error(o(327));if(ju(),e===As&&0!==(e.expiredLanes&js)){var t=js,n=Tu(e,t);0!==(Vs&Bs)&&(n=Tu(e,t=Mt(e,t)))}else n=Tu(e,t=Mt(e,0));if(0!==e.tag&&2===n&&(Rs|=64,e.hydrate&&(e.hydrate=!1,Wr(e.containerInfo)),0!==(t=Ft(e))&&(n=Tu(e,t))),1===n)throw n=Us,Su(e,0),gu(e,t),mu(e,Bi()),n;return e.finishedWork=e.current.alternate,e.finishedLanes=t,Ru(e),mu(e,Bi()),null}function bu(e,t){var n=Rs;Rs|=1;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Gi())}}function wu(e,t){var n=Rs;Rs&=-2,Rs|=8;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Gi())}}function xu(e,t){li(Ms,Ls),Ls|=t,Vs|=t}function Eu(){Ls=Ms.current,ci(Ms)}function Su(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,Kr(n)),null!==Ds)for(n=Ds.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&yi();break;case 3:Aa(),ci(di),ci(hi),Qa();break;case 5:ja(r);break;case 4:Aa();break;case 13:case 19:ci(La);break;case 10:na(r);break;case 23:case 24:Eu()}n=n.return}As=e,Ds=Wu(e.current,null),js=Ls=Vs=t,Fs=0,Us=null,qs=Bs=zs=0}function Iu(e,t){for(;;){var n=Ds;try{if(ta(),$a.current=Oo,to){for(var r=Ja.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}to=!1}if(Xa=0,eo=Za=Ja=null,no=!1,Os.current=null,null===n||null===n.return){Fs=1,Us=t,Ds=null;break}e:{var a=e,o=n.return,s=n,u=t;if(t=js,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==u&&"object"===typeof u&&"function"===typeof u.then){var c=u;if(0===(2&s.mode)){var l=s.alternate;l?(s.updateQueue=l.updateQueue,s.memoizedState=l.memoizedState,s.lanes=l.lanes):(s.updateQueue=null,s.memoizedState=null)}var f=0!==(1&La.current),h=o;do{var d;if(d=13===h.tag){var p=h.memoizedState;if(null!==p)d=null!==p.dehydrated;else{var v=h.memoizedProps;d=void 0!==v.fallback&&(!0!==v.unstable_avoidThisFallback||!f)}}if(d){var m=h.updateQueue;if(null===m){var y=new Set;y.add(c),h.updateQueue=y}else m.add(c);if(0===(2&h.mode)){if(h.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var g=ca(-1,1);g.tag=2,la(s,g)}s.lanes|=1;break e}u=void 0,s=t;var k=a.pingCache;if(null===k?(k=a.pingCache=new fs,u=new Set,k.set(c,u)):void 0===(u=k.get(c))&&(u=new Set,k.set(c,u)),!u.has(s)){u.add(s);var b=zu.bind(null,a,c,s);c.then(b,b)}h.flags|=4096,h.lanes=t;break e}h=h.return}while(null!==h);u=Error((G(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Fs&&(Fs=2),u=cs(u,s),h=o;do{switch(h.tag){case 3:a=u,h.flags|=4096,t&=-t,h.lanes|=t,fa(h,hs(0,a,t));break e;case 1:a=u;var w=h.type,x=h.stateNode;if(0===(64&h.flags)&&("function"===typeof w.getDerivedStateFromError||null!==x&&"function"===typeof x.componentDidCatch&&(null===Js||!Js.has(x)))){h.flags|=4096,t&=-t,h.lanes|=t,fa(h,ds(h,a,t));break e}}h=h.return}while(null!==h)}Ou(n)}catch(E){t=E,Ds===n&&null!==n&&(Ds=n=n.return);continue}break}}function Cu(){var e=Ps.current;return Ps.current=Oo,null===e?Oo:e}function Tu(e,t){var n=Rs;Rs|=16;var r=Cu();for(As===e&&js===t||Su(e,t);;)try{_u();break}catch(i){Iu(e,i)}if(ta(),Rs=n,Ps.current=r,null!==Ds)throw Error(o(261));return As=null,js=0,Fs}function _u(){for(;null!==Ds;)Pu(Ds)}function Nu(){for(;null!==Ds&&!Ti();)Pu(Ds)}function Pu(e){var t=Qs(e.alternate,e,Ls);e.memoizedProps=e.pendingProps,null===t?Ou(e):Ds=t,Os.current=null}function Ou(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(2048&t.flags)){if(null!==(n=ss(n,t,Ls)))return void(Ds=n);if(24!==(n=t).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Ls)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==e&&0===(2048&e.flags)&&(null===e.firstEffect&&(e.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==e.lastEffect&&(e.lastEffect.nextEffect=t.firstEffect),e.lastEffect=t.lastEffect),1<t.flags&&(null!==e.lastEffect?e.lastEffect.nextEffect=t:e.firstEffect=t,e.lastEffect=t))}else{if(null!==(n=us(t)))return n.flags&=2047,void(Ds=n);null!==e&&(e.firstEffect=e.lastEffect=null,e.flags|=2048)}if(null!==(t=t.sibling))return void(Ds=t);Ds=t=e}while(null!==t);0===Fs&&(Fs=5)}function Ru(e){var t=qi();return Ki(99,Au.bind(null,e,t)),null}function Au(e,t){do{ju()}while(null!==eu);if(0!==(48&Rs))throw Error(o(327));var n=e.finishedWork;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(o(177));e.callbackNode=null;var r=n.lanes|n.childLanes,i=r,a=e.pendingLanes&~i;e.pendingLanes=i,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=i,e.mutableReadLanes&=i,e.entangledLanes&=i,i=e.entanglements;for(var s=e.eventTimes,u=e.expirationTimes;0<a;){var c=31-qt(a),l=1<<c;i[c]=0,s[c]=-1,u[c]=-1,a&=~l}if(null!==iu&&0===(24&r)&&iu.has(e)&&iu.delete(e),e===As&&(Ds=As=null,js=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Rs,Rs|=32,Os.current=null,Vr=Qt,mr(s=vr())){if("selectionStart"in s)u={start:s.selectionStart,end:s.selectionEnd};else e:if(u=(u=s.ownerDocument)&&u.defaultView||window,(l=u.getSelection&&u.getSelection())&&0!==l.rangeCount){u=l.anchorNode,a=l.anchorOffset,c=l.focusNode,l=l.focusOffset;try{u.nodeType,c.nodeType}catch(C){u=null;break e}var f=0,h=-1,d=-1,p=0,v=0,m=s,y=null;t:for(;;){for(var g;m!==u||0!==a&&3!==m.nodeType||(h=f+a),m!==c||0!==l&&3!==m.nodeType||(d=f+l),3===m.nodeType&&(f+=m.nodeValue.length),null!==(g=m.firstChild);)y=m,m=g;for(;;){if(m===s)break t;if(y===u&&++p===a&&(h=f),y===c&&++v===l&&(d=f),null!==(g=m.nextSibling))break;y=(m=y).parentNode}m=g}u=-1===h||-1===d?null:{start:h,end:d}}else u=null;u=u||{start:0,end:0}}else u=null;zr={focusedElem:s,selectionRange:u},Qt=!1,lu=null,fu=!1,$s=r;do{try{Du()}catch(C){if(null===$s)throw Error(o(330));Vu($s,C),$s=$s.nextEffect}}while(null!==$s);lu=null,$s=r;do{try{for(s=e;null!==$s;){var k=$s.flags;if(16&k&&ye($s.stateNode,""),128&k){var b=$s.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&k){case 2:xs($s),$s.flags&=-3;break;case 6:xs($s),$s.flags&=-3,Cs($s.alternate,$s);break;case 1024:$s.flags&=-1025;break;case 1028:$s.flags&=-1025,Cs($s.alternate,$s);break;case 4:Cs($s.alternate,$s);break;case 8:Is(s,u=$s);var x=u.alternate;bs(u),null!==x&&bs(x)}$s=$s.nextEffect}}catch(C){if(null===$s)throw Error(o(330));Vu($s,C),$s=$s.nextEffect}}while(null!==$s);if(w=zr,b=vr(),k=w.focusedElem,s=w.selectionRange,b!==k&&k&&k.ownerDocument&&pr(k.ownerDocument.documentElement,k)){null!==s&&mr(k)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in k?(k.selectionStart=b,k.selectionEnd=Math.min(w,k.value.length)):(w=(b=k.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),u=k.textContent.length,x=Math.min(s.start,u),s=void 0===s.end?x:Math.min(s.end,u),!w.extend&&x>s&&(u=s,s=x,x=u),u=dr(k,x),a=dr(k,s),u&&a&&(1!==w.rangeCount||w.anchorNode!==u.node||w.anchorOffset!==u.offset||w.focusNode!==a.node||w.focusOffset!==a.offset)&&((b=b.createRange()).setStart(u.node,u.offset),w.removeAllRanges(),x>s?(w.addRange(b),w.extend(a.node,a.offset)):(b.setEnd(a.node,a.offset),w.addRange(b))))),b=[];for(w=k;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof k.focus&&k.focus(),k=0;k<b.length;k++)(w=b[k]).element.scrollLeft=w.left,w.element.scrollTop=w.top}Qt=!!Vr,zr=Vr=null,e.current=n,$s=r;do{try{for(k=e;null!==$s;){var E=$s.flags;if(36&E&&ys(k,$s.alternate,$s),128&E){b=void 0;var S=$s.ref;if(null!==S){var I=$s.stateNode;$s.tag,b=I,"function"===typeof S?S(b):S.current=b}}$s=$s.nextEffect}}catch(C){if(null===$s)throw Error(o(330));Vu($s,C),$s=$s.nextEffect}}while(null!==$s);$s=null,Mi(),Rs=i}else e.current=n;if(Zs)Zs=!1,eu=e,tu=t;else for($s=r;null!==$s;)t=$s.nextEffect,$s.nextEffect=null,8&$s.flags&&((E=$s).sibling=null,E.stateNode=null),$s=t;if(0===(r=e.pendingLanes)&&(Js=null),1===r?e===ou?au++:(au=0,ou=e):au=0,n=n.stateNode,Ei&&"function"===typeof Ei.onCommitFiberRoot)try{Ei.onCommitFiberRoot(xi,n,void 0,64===(64&n.current.flags))}catch(C){}if(mu(e,Bi()),Ys)throw Ys=!1,e=Xs,Xs=null,e;return 0!==(8&Rs)||Gi(),null}function Du(){for(;null!==$s;){var e=$s.alternate;fu||null===lu||(0!==(8&$s.flags)?Ze($s,lu)&&(fu=!0):13===$s.tag&&_s(e,$s)&&Ze($s,lu)&&(fu=!0));var t=$s.flags;0!==(256&t)&&ms(e,$s),0===(512&t)||Zs||(Zs=!0,Wi(97,(function(){return ju(),null}))),$s=$s.nextEffect}}function ju(){if(90!==tu){var e=97<tu?97:tu;return tu=90,Ki(e,Fu)}return!1}function Lu(e,t){nu.push(t,e),Zs||(Zs=!0,Wi(97,(function(){return ju(),null})))}function Mu(e,t){ru.push(t,e),Zs||(Zs=!0,Wi(97,(function(){return ju(),null})))}function Fu(){if(null===eu)return!1;var e=eu;if(eu=null,0!==(48&Rs))throw Error(o(331));var t=Rs;Rs|=32;var n=ru;ru=[];for(var r=0;r<n.length;r+=2){var i=n[r],a=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(n=nu,nu=[],r=0;r<n.length;r+=2){i=n[r],a=n[r+1];try{var u=i.create;i.destroy=u()}catch(c){if(null===a)throw Error(o(330));Vu(a,c)}}for(u=e.current.firstEffect;null!==u;)e=u.nextEffect,u.nextEffect=null,8&u.flags&&(u.sibling=null,u.stateNode=null),u=e;return Rs=t,Gi(),!0}function Uu(e,t,n){la(e,t=hs(0,t=cs(n,t),1)),t=hu(),null!==(e=vu(e,1))&&(Bt(e,1,t),mu(e,t))}function Vu(e,t){if(3===e.tag)Uu(e,e,t);else for(var n=e.return;null!==n;){if(3===n.tag){Uu(n,e,t);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r))){var i=ds(n,e=cs(t,e),1);if(la(n,i),i=hu(),null!==(n=vu(n,1)))Bt(n,1,i),mu(n,i);else if("function"===typeof r.componentDidCatch&&(null===Js||!Js.has(r)))try{r.componentDidCatch(t,e)}catch(a){}break}}n=n.return}}function zu(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hu(),e.pingedLanes|=e.suspendedLanes&n,As===e&&(js&n)===n&&(4===Fs||3===Fs&&(62914560&js)===js&&500>Bi()-Ks?Su(e,0):qs|=n),mu(e,t)}function Bu(e,t){var n=e.stateNode;null!==n&&n.delete(t),0===(t=0)&&(0===(2&(t=e.mode))?t=1:0===(4&t)?t=99===qi()?1:2:(0===uu&&(uu=Vs),0===(t=Vt(62914560&~uu))&&(t=4194304))),n=hu(),null!==(e=vu(e,t))&&(Bt(e,t,n),mu(e,n))}function qu(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Hu(e,t,n,r){return new qu(e,t,n,r)}function Ku(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Wu(e,t){var n=e.alternate;return null===n?((n=Hu(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Gu(e,t,n,r,i,a){var s=2;if(r=e,"function"===typeof e)Ku(e)&&(s=1);else if("string"===typeof e)s=5;else e:switch(e){case S:return Qu(n.children,i,a,t);case L:s=8,i|=16;break;case I:s=8,i|=1;break;case C:return(e=Hu(12,n,t,8|i)).elementType=C,e.type=C,e.lanes=a,e;case P:return(e=Hu(13,n,t,i)).type=P,e.elementType=P,e.lanes=a,e;case O:return(e=Hu(19,n,t,i)).elementType=O,e.lanes=a,e;case M:return $u(n,i,a,t);case F:return(e=Hu(24,n,t,i)).elementType=F,e.lanes=a,e;default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case T:s=10;break e;case _:s=9;break e;case N:s=11;break e;case R:s=14;break e;case A:s=16,r=null;break e;case D:s=22;break e}throw Error(o(130,null==e?e:typeof e,""))}return(t=Hu(s,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Qu(e,t,n,r){return(e=Hu(7,e,r,t)).lanes=n,e}function $u(e,t,n,r){return(e=Hu(23,e,r,t)).elementType=M,e.lanes=n,e}function Yu(e,t,n){return(e=Hu(6,e,null,t)).lanes=n,e}function Xu(e,t,n){return(t=Hu(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ju(e,t,n){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=zt(0),this.expirationTimes=zt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zt(0),this.mutableSourceEagerHydrationData=null}function Zu(e,t,n,r){var i=t.current,a=hu(),s=du(i);e:if(n){t:{if($e(n=n._reactInternals)!==n||1!==n.tag)throw Error(o(170));var u=n;do{switch(u.tag){case 3:u=u.stateNode.context;break t;case 1:if(mi(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break t}}u=u.return}while(null!==u);throw Error(o(171))}if(1===n.tag){var c=n.type;if(mi(c)){n=ki(n,c,u);break e}}n=u}else n=fi;return null===t.context?t.context=n:t.pendingContext=n,(t=ca(a,s)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),la(i,t),pu(i,s,a),s}function ec(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function tc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function nc(e,t){tc(e,t),(e=e.alternate)&&tc(e,t)}function rc(e,t,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new Ju(e,t,null!=n&&!0===n.hydrate),t=Hu(3,null,null,2===t?7:1===t?3:0),n.current=t,t.stateNode=n,sa(t),e[Zr]=n.current,Or(8===e.nodeType?e.parentNode:e),r)for(e=0;e<r.length;e++){var i=(t=r[e])._getVersion;i=i(t._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[t,i]:n.mutableSourceEagerHydrationData.push(t,i)}this._internalRoot=n}function ic(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function ac(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a._internalRoot;if("function"===typeof i){var s=i;i=function(){var e=ec(o);s.call(e)}}Zu(t,o,e,i)}else{if(a=n._reactRootContainer=function(e,t){if(t||(t=!(!(t=e?9===e.nodeType?e.documentElement:e.firstChild:null)||1!==t.nodeType||!t.hasAttribute("data-reactroot"))),!t)for(var n;n=e.lastChild;)e.removeChild(n);return new rc(e,0,t?{hydrate:!0}:void 0)}(n,r),o=a._internalRoot,"function"===typeof i){var u=i;i=function(){var e=ec(o);u.call(e)}}wu((function(){Zu(t,o,e,i)}))}return ec(o)}function oc(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!ic(t))throw Error(o(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:E,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)}Qs=function(e,t,n){var r=t.lanes;if(null!==e)if(e.memoizedProps!==t.pendingProps||di.current)Lo=!0;else{if(0===(n&r)){switch(Lo=!1,t.tag){case 3:Wo(t),Wa();break;case 5:Da(t);break;case 1:mi(t.type)&&bi(t);break;case 4:Ra(t,t.stateNode.containerInfo);break;case 10:r=t.memoizedProps.value;var i=t.type._context;li(Xi,i._currentValue),i._currentValue=r;break;case 13:if(null!==t.memoizedState)return 0!==(n&t.child.childLanes)?Jo(e,t,n):(li(La,1&La.current),null!==(t=as(e,t,n))?t.sibling:null);li(La,1&La.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(64&e.flags)){if(r)return is(e,t,n);t.flags|=64}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(La,La.current),r)break;return null;case 23:case 24:return t.lanes=0,zo(e,t,n)}return as(e,t,n)}Lo=0!==(16384&e.flags)}else Lo=!1;switch(t.lanes=0,t.tag){case 2:if(r=t.type,null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=vi(t,hi.current),ia(t,n),i=ao(null,t,r,e,i,n),t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(t.tag=1,t.memoizedState=null,t.updateQueue=null,mi(r)){var a=!0;bi(t)}else a=!1;t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,sa(t);var s=r.getDerivedStateFromProps;"function"===typeof s&&va(t,r,s,e),i.updater=ma,t.stateNode=i,i._reactInternals=t,ba(t,r,e,n),t=Ko(null,t,r,!0,a,n)}else t.tag=0,Mo(null,t,i,n),t=t.child;return t;case 16:i=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,i=(a=i._init)(i._payload),t.type=i,a=t.tag=function(e){if("function"===typeof e)return Ku(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===N)return 11;if(e===R)return 14}return 2}(i),e=Yi(i,e),a){case 0:t=qo(null,t,i,e,n);break e;case 1:t=Ho(null,t,i,e,n);break e;case 11:t=Fo(null,t,i,e,n);break e;case 14:t=Uo(null,t,i,Yi(i.type,e),r,n);break e}throw Error(o(306,i,""))}return t;case 0:return r=t.type,i=t.pendingProps,qo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Ho(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 3:if(Wo(t),r=t.updateQueue,null===e||null===r)throw Error(o(282));if(r=t.pendingProps,i=null!==(i=t.memoizedState)?i.element:null,ua(e,t),ha(t,r,null,n),(r=t.memoizedState.element)===i)Wa(),t=as(e,t,n);else{if((a=(i=t.stateNode).hydrate)&&(Ua=Gr(t.stateNode.containerInfo.firstChild),Fa=t,a=Va=!0),a){if(null!=(e=i.mutableSourceEagerHydrationData))for(i=0;i<e.length;i+=2)(a=e[i])._workInProgressVersionPrimary=e[i+1],Ga.push(a);for(n=Ca(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Mo(e,t,r,n),Wa();t=t.child}return t;case 5:return Da(t),null===e&&qa(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,s=i.children,qr(r,i)?s=null:null!==a&&qr(r,a)&&(t.flags|=16),Bo(e,t),Mo(e,t,s,n),t.child;case 6:return null===e&&qa(t),null;case 13:return Jo(e,t,n);case 4:return Ra(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ia(t,null,r,n):Mo(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,Fo(e,t,r,i=t.elementType===r?i:Yi(r,i),n);case 7:return Mo(e,t,t.pendingProps,n),t.child;case 8:case 12:return Mo(e,t,t.pendingProps.children,n),t.child;case 10:e:{r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value;var u=t.type._context;if(li(Xi,u._currentValue),u._currentValue=a,null!==s)if(u=s.value,0===(a=cr(u,a)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===i.children&&!di.current){t=as(e,t,n);break e}}else for(null!==(u=t.child)&&(u.return=t);null!==u;){var c=u.dependencies;if(null!==c){s=u.child;for(var l=c.firstContext;null!==l;){if(l.context===r&&0!==(l.observedBits&a)){1===u.tag&&((l=ca(-1,n&-n)).tag=2,la(u,l)),u.lanes|=n,null!==(l=u.alternate)&&(l.lanes|=n),ra(u.return,n),c.lanes|=n;break}l=l.next}}else s=10===u.tag&&u.type===t.type?null:u.child;if(null!==s)s.return=u;else for(s=u;null!==s;){if(s===t){s=null;break}if(null!==(u=s.sibling)){u.return=s.return,s=u;break}s=s.return}u=s}Mo(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=(a=t.pendingProps).children,ia(t,n),r=r(i=aa(i,a.unstable_observedBits)),t.flags|=1,Mo(e,t,r,n),t.child;case 14:return a=Yi(i=t.type,t.pendingProps),Uo(e,t,i,a=Yi(i.type,a),r,n);case 15:return Vo(e,t,t.type,t.pendingProps,r,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Yi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,mi(r)?(e=!0,bi(t)):e=!1,ia(t,n),ga(t,r,i),ba(t,r,i,n),Ko(null,t,r,!0,e,n);case 19:return is(e,t,n);case 23:case 24:return zo(e,t,n)}throw Error(o(156,t.tag))},rc.prototype.render=function(e){Zu(e,this._internalRoot,null,null)},rc.prototype.unmount=function(){var e=this._internalRoot,t=e.containerInfo;Zu(null,e,null,(function(){t[Zr]=null}))},et=function(e){13===e.tag&&(pu(e,4,hu()),nc(e,4))},tt=function(e){13===e.tag&&(pu(e,67108864,hu()),nc(e,67108864))},nt=function(e){if(13===e.tag){var t=hu(),n=du(e);pu(e,n,t),nc(e,n)}},rt=function(e,t){return t()},Ce=function(e,t,n){switch(t){case"input":if(ne(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ii(r);if(!i)throw Error(o(90));X(r),ne(r,i)}}}break;case"textarea":ce(e,n);break;case"select":null!=(t=n.value)&&oe(e,!!n.multiple,t,!1)}},Re=bu,Ae=function(e,t,n,r,i){var a=Rs;Rs|=4;try{return Ki(98,e.bind(null,t,n,r,i))}finally{0===(Rs=a)&&(Gs(),Gi())}},De=function(){0===(49&Rs)&&(function(){if(null!==iu){var e=iu;iu=null,e.forEach((function(e){e.expiredLanes|=24&e.pendingLanes,mu(e,Bi())}))}Gi()}(),ju())},je=function(e,t){var n=Rs;Rs|=2;try{return e(t)}finally{0===(Rs=n)&&(Gs(),Gi())}};var sc={Events:[ni,ri,ii,Pe,Oe,ju,{current:!1}]},uc={findFiberByHostInstance:ti,bundleType:0,version:"17.0.2",rendererPackageName:"react-dom"},cc={bundleType:uc.bundleType,version:uc.version,rendererPackageName:uc.rendererPackageName,rendererConfig:uc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Je(e))?null:e.stateNode},findFiberByHostInstance:uc.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lc.isDisabled&&lc.supportsFiber)try{xi=lc.inject(cc),Ei=lc}catch(ve){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sc,t.createPortal=oc,t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(o(188));throw Error(o(268,Object.keys(e)))}return e=null===(e=Je(t))?null:e.stateNode},t.flushSync=function(e,t){var n=Rs;if(0!==(48&n))return e(t);Rs|=1;try{if(e)return Ki(99,e.bind(null,t))}finally{Rs=n,Gi()}},t.hydrate=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!0,n)},t.render=function(e,t,n){if(!ic(t))throw Error(o(200));return ac(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!ic(e))throw Error(o(40));return!!e._reactRootContainer&&(wu((function(){ac(null,null,e,!1,(function(){e._reactRootContainer=null,e[Zr]=null}))})),!0)},t.unstable_batchedUpdates=bu,t.unstable_createPortal=function(e,t){return oc(e,t,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ic(n))throw Error(o(200));if(null==e||void 0===e._reactInternals)throw Error(o(38));return ac(e,t,n,!1,r)},t.version="17.0.2"},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},374:function(e,t,n){"use strict";n(725);var r=n(791),i=60103;if(t.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var a=Symbol.for;i=a("react.element"),t.Fragment=a("react.fragment")}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,u={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)s.call(t,r)&&!u.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:o.current}}t.jsx=c,t.jsxs=c},117:function(e,t,n){"use strict";var r=n(725),i=60103,a=60106;t.Fragment=60107,t.StrictMode=60108,t.Profiler=60114;var o=60109,s=60110,u=60112;t.Suspense=60113;var c=60115,l=60116;if("function"===typeof Symbol&&Symbol.for){var f=Symbol.for;i=f("react.element"),a=f("react.portal"),t.Fragment=f("react.fragment"),t.StrictMode=f("react.strict_mode"),t.Profiler=f("react.profiler"),o=f("react.provider"),s=f("react.context"),u=f("react.forward_ref"),t.Suspense=f("react.suspense"),c=f("react.memo"),l=f("react.lazy")}var h="function"===typeof Symbol&&Symbol.iterator;function d(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v={};function m(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}function y(){}function g(e,t,n){this.props=e,this.context=t,this.refs=v,this.updater=n||p}m.prototype.isReactComponent={},m.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error(d(85));this.updater.enqueueSetState(this,e,t,"setState")},m.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=m.prototype;var k=g.prototype=new y;k.constructor=g,r(k,m.prototype),k.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,x={key:!0,ref:!0,__self:!0,__source:!0};function E(e,t,n){var r,a={},o=null,s=null;if(null!=t)for(r in void 0!==t.ref&&(s=t.ref),void 0!==t.key&&(o=""+t.key),t)w.call(t,r)&&!x.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(1===u)a.children=n;else if(1<u){for(var c=Array(u),l=0;l<u;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(r in u=e.defaultProps)void 0===a[r]&&(a[r]=u[r]);return{$$typeof:i,type:e,key:o,ref:s,props:a,_owner:b.current}}function S(e){return"object"===typeof e&&null!==e&&e.$$typeof===i}var I=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function T(e,t,n,r,o){var s=typeof e;"undefined"!==s&&"boolean"!==s||(e=null);var u=!1;if(null===e)u=!0;else switch(s){case"string":case"number":u=!0;break;case"object":switch(e.$$typeof){case i:case a:u=!0}}if(u)return o=o(u=e),e=""===r?"."+C(u,0):r,Array.isArray(o)?(n="",null!=e&&(n=e.replace(I,"$&/")+"/"),T(o,t,n,"",(function(e){return e}))):null!=o&&(S(o)&&(o=function(e,t){return{$$typeof:i,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,n+(!o.key||u&&u.key===o.key?"":(""+o.key).replace(I,"$&/")+"/")+e)),t.push(o)),1;if(u=0,r=""===r?".":r+":",Array.isArray(e))for(var c=0;c<e.length;c++){var l=r+C(s=e[c],c);u+=T(s,t,n,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=h&&e[h]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(s=e.next()).done;)u+=T(s=s.value,t,n,l=r+C(s,c++),o);else if("object"===s)throw t=""+e,Error(d(31,"[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t));return u}function _(e,t,n){if(null==e)return e;var r=[],i=0;return T(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function N(e){if(-1===e._status){var t=e._result;t=t(),e._status=0,e._result=t,t.then((function(t){0===e._status&&(t=t.default,e._status=1,e._result=t)}),(function(t){0===e._status&&(e._status=2,e._result=t)}))}if(1===e._status)return e._result;throw e._result}var P={current:null};function O(){var e=P.current;if(null===e)throw Error(d(321));return e}var R={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};t.Children={map:_,forEach:function(e,t,n){_(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return _(e,(function(){t++})),t},toArray:function(e){return _(e,(function(e){return e}))||[]},only:function(e){if(!S(e))throw Error(d(143));return e}},t.Component=m,t.PureComponent=g,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error(d(267,e));var a=r({},e.props),o=e.key,s=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,u=b.current),void 0!==t.key&&(o=""+t.key),e.type&&e.type.defaultProps)var c=e.type.defaultProps;for(l in t)w.call(t,l)&&!x.hasOwnProperty(l)&&(a[l]=void 0===t[l]&&void 0!==c?c[l]:t[l])}var l=arguments.length-2;if(1===l)a.children=n;else if(1<l){c=Array(l);for(var f=0;f<l;f++)c[f]=arguments[f+2];a.children=c}return{$$typeof:i,type:e.type,key:o,ref:s,props:a,_owner:u}},t.createContext=function(e,t){return void 0===t&&(t=null),(e={$$typeof:s,_calculateChangedBits:t,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=E,t.createFactory=function(e){var t=E.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:u,render:e}},t.isValidElement=S,t.lazy=function(e){return{$$typeof:l,_payload:{_status:-1,_result:e},_init:N}},t.memo=function(e,t){return{$$typeof:c,type:e,compare:void 0===t?null:t}},t.useCallback=function(e,t){return O().useCallback(e,t)},t.useContext=function(e,t){return O().useContext(e,t)},t.useDebugValue=function(){},t.useEffect=function(e,t){return O().useEffect(e,t)},t.useImperativeHandle=function(e,t,n){return O().useImperativeHandle(e,t,n)},t.useLayoutEffect=function(e,t){return O().useLayoutEffect(e,t)},t.useMemo=function(e,t){return O().useMemo(e,t)},t.useReducer=function(e,t,n){return O().useReducer(e,t,n)},t.useRef=function(e){return O().useRef(e)},t.useState=function(e){return O().useState(e)},t.version="17.0.2"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",s=i.toStringTag||"@@toStringTag";function u(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{u({},"")}catch(O){u=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new _(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return P()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var s=I(o,n);if(s){if(s===v)continue;return s}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var u=l(e,t,n);if("normal"===u.type){if(r=n.done?p:h,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=p,n.method="throw",n.arg=u.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(O){return{type:"throw",arg:O}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};u(k,a,(function(){return this}));var b=Object.getPrototypeOf,w=b&&b(b(N([])));w&&w!==n&&r.call(w,a)&&(k=w);var x=g.prototype=m.prototype=Object.create(k);function E(e){["next","throw","return"].forEach((function(t){u(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(i,a,o,s){var u=l(e[i],e,a);if("throw"!==u.type){var c=u.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function I(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,I(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function C(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function _(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(C,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:P}}function P(){return{value:t,done:!0}}return y.prototype=g,u(x,"constructor",g),u(g,"constructor",y),y.displayName=u(g,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,u(e,s,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},E(S.prototype),u(S.prototype,o,(function(){return this})),e.AsyncIterator=S,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new S(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},E(x),u(x,s,"Generator"),u(x,a,(function(){return this})),u(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return s.type="throw",s.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(u&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";var n,r,i,a;if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,u=s.now();t.unstable_now=function(){return s.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var c=null,l=null,f=function e(){if(null!==c)try{var n=t.unstable_now();c(!0,n),c=null}catch(r){throw setTimeout(e,0),r}};n=function(e){null!==c?setTimeout(n,0,e):(c=e,setTimeout(f,0))},r=function(e,t){l=setTimeout(e,t)},i=function(){clearTimeout(l)},t.unstable_shouldYield=function(){return!1},a=t.unstable_forceFrameRate=function(){}}else{var h=window.setTimeout,d=window.clearTimeout;if("undefined"!==typeof console){var p=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof p&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var v=!1,m=null,y=-1,g=5,k=0;t.unstable_shouldYield=function(){return t.unstable_now()>=k},a=function(){},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):g=0<e?Math.floor(1e3/e):5};var b=new MessageChannel,w=b.port2;b.port1.onmessage=function(){if(null!==m){var e=t.unstable_now();k=e+g;try{m(!0,e)?w.postMessage(null):(v=!1,m=null)}catch(n){throw w.postMessage(null),n}}else v=!1},n=function(e){m=e,v||(v=!0,w.postMessage(null))},r=function(e,n){y=h((function(){e(t.unstable_now())}),n)},i=function(){d(y),y=-1}}function x(e,t){var n=e.length;e.push(t);e:for(;;){var r=n-1>>>1,i=e[r];if(!(void 0!==i&&0<I(i,t)))break e;e[r]=t,e[n]=i,n=r}}function E(e){return void 0===(e=e[0])?null:e}function S(e){var t=e[0];if(void 0!==t){var n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length;r<i;){var a=2*(r+1)-1,o=e[a],s=a+1,u=e[s];if(void 0!==o&&0>I(o,n))void 0!==u&&0>I(u,o)?(e[r]=u,e[s]=n,r=s):(e[r]=o,e[a]=n,r=a);else{if(!(void 0!==u&&0>I(u,n)))break e;e[r]=u,e[s]=n,r=s}}}return t}return null}function I(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}var C=[],T=[],_=1,N=null,P=3,O=!1,R=!1,A=!1;function D(e){for(var t=E(T);null!==t;){if(null===t.callback)S(T);else{if(!(t.startTime<=e))break;S(T),t.sortIndex=t.expirationTime,x(C,t)}t=E(T)}}function j(e){if(A=!1,D(e),!R)if(null!==E(C))R=!0,n(L);else{var t=E(T);null!==t&&r(j,t.startTime-e)}}function L(e,n){R=!1,A&&(A=!1,i()),O=!0;var a=P;try{for(D(n),N=E(C);null!==N&&(!(N.expirationTime>n)||e&&!t.unstable_shouldYield());){var o=N.callback;if("function"===typeof o){N.callback=null,P=N.priorityLevel;var s=o(N.expirationTime<=n);n=t.unstable_now(),"function"===typeof s?N.callback=s:N===E(C)&&S(C),D(n)}else S(C);N=E(C)}if(null!==N)var u=!0;else{var c=E(T);null!==c&&r(j,c.startTime-n),u=!1}return u}finally{N=null,P=a,O=!1}}var M=a;t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){R||O||(R=!0,n(L))},t.unstable_getCurrentPriorityLevel=function(){return P},t.unstable_getFirstCallbackNode=function(){return E(C)},t.unstable_next=function(e){switch(P){case 1:case 2:case 3:var t=3;break;default:t=P}var n=P;P=t;try{return e()}finally{P=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=M,t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=P;P=e;try{return t()}finally{P=n}},t.unstable_scheduleCallback=function(e,a,o){var s=t.unstable_now();switch("object"===typeof o&&null!==o?o="number"===typeof(o=o.delay)&&0<o?s+o:s:o=s,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:_++,callback:a,priorityLevel:e,startTime:o,expirationTime:u=o+u,sortIndex:-1},o>s?(e.sortIndex=o,x(T,e),null===E(C)&&e===E(T)&&(A?i():A=!0,r(j,o-s))):(e.sortIndex=u,x(C,e),R||O||(R=!0,n(L))),e},t.unstable_wrapCallback=function(e){var t=P;return function(){var n=P;P=t;try{return e.apply(this,arguments)}finally{P=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},391:function(e){"use strict";var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.m=e,n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var o={};e=e||[null,t({}),t([]),t(t)];for(var s=2&i&&r;"object"==typeof s&&!~e.indexOf(s);s=t(s))Object.getOwnPropertyNames(s).forEach((function(e){o[e]=function(){return r[e]}}));return o.default=function(){return r},n.d(a,o),a}}(),n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=function(e){return Promise.all(Object.keys(n.f).reduce((function(t,r){return n.f[r](e,t),t}),[]))},n.u=function(e){return"static/js/"+e+".4ef7427d.chunk.js"},n.miniCssF=function(e){},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={},t="react-typescript-starter:";n.l=function(r,i,a,o){if(e[r])e[r].push(i);else{var s,u;if(void 0!==a)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var f=c[l];if(f.getAttribute("src")==r||f.getAttribute("data-webpack")==t+a){s=f;break}}s||(u=!0,(s=document.createElement("script")).charset="utf-8",s.timeout=120,n.nc&&s.setAttribute("nonce",n.nc),s.setAttribute("data-webpack",t+a),s.src=r),e[r]=[i];var h=function(t,n){s.onerror=s.onload=null,clearTimeout(d);var i=e[r];if(delete e[r],s.parentNode&&s.parentNode.removeChild(s),i&&i.forEach((function(e){return e(n)})),t)return t(n)},d=setTimeout(h.bind(null,void 0,{type:"timeout",target:s}),12e4);s.onerror=h.bind(null,s.onerror),s.onload=h.bind(null,s.onload),u&&document.head.appendChild(s)}}}(),n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/275-Final-Project/",function(){var e={179:0};n.f.j=function(t,r){var i=n.o(e,t)?e[t]:void 0;if(0!==i)if(i)r.push(i[2]);else{var a=new Promise((function(n,r){i=e[t]=[n,r]}));r.push(i[2]=a);var o=n.p+n.u(t),s=new Error;n.l(o,(function(r){if(n.o(e,t)&&(0!==(i=e[t])&&(e[t]=void 0),i)){var a=r&&("load"===r.type?"missing":r.type),o=r&&r.target&&r.target.src;s.message="Loading chunk "+t+" failed.\n("+a+": "+o+")",s.name="ChunkLoadError",s.type=a,s.request=o,i[1](s)}}),"chunk-"+t,t)}};var t=function(t,r){var i,a,o=r[0],s=r[1],u=r[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(i in s)n.o(s,i)&&(n.m[i]=s[i]);if(u)u(n)}for(t&&t(r);c<o.length;c++)a=o[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkreact_typescript_starter=self.webpackChunkreact_typescript_starter||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}(),function(){"use strict";var e=n(791),t=n(164);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function s(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var u=n(694),c=n.n(u),l=n(184),f=e.createContext({prefixes:{}});f.Consumer,f.Provider;function h(t,n){var r=(0,e.useContext)(f).prefixes;return t||r[n]||n}var d=["bsPrefix","fluid","as","className"],p=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.fluid,i=e.as,o=void 0===i?"div":i,u=e.className,f=s(e,d),p=h(n,"container"),v="string"===typeof r?"-".concat(r):"-fluid";return(0,l.jsx)(o,a(a({ref:t},f),{},{className:c()(u,r?"".concat(p).concat(v):p)}))}));p.displayName="Container",p.defaultProps={fluid:!1};var v=p;function m(e){if(Array.isArray(e))return e}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e,t){if(e){if("string"===typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function b(e,t){return m(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,s=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(u){s=!0,i=u}finally{try{o||null==n.return||n.return()}finally{if(s)throw i}}return a}}(e,t)||g(e,t)||k()}var w=["as","bsPrefix","className"],x=["className"],E=["xxl","xl","lg","md","sm","xs"];var S=e.forwardRef((function(e,t){var n=function(e){var t=e.as,n=e.bsPrefix,r=e.className,i=s(e,w);n=h(n,"col");var o=[],u=[];return E.forEach((function(e){var t,r,a,s=i[e];delete i[e],"object"===typeof s&&null!=s?(t=s.span,r=s.offset,a=s.order):t=s;var c="xs"!==e?"-".concat(e):"";t&&o.push(!0===t?"".concat(n).concat(c):"".concat(n).concat(c,"-").concat(t)),null!=a&&u.push("order".concat(c,"-").concat(a)),null!=r&&u.push("offset".concat(c,"-").concat(r))})),[a(a({},i),{},{className:c().apply(void 0,[r].concat(o,u))}),{as:t,bsPrefix:n,spans:o}]}(e),r=b(n,2),i=r[0],o=i.className,u=s(i,x),f=r[1],d=f.as,p=void 0===d?"div":d,v=f.bsPrefix,m=f.spans;return(0,l.jsx)(p,a(a({},u),{},{ref:t,className:c()(o,!m.length&&v)}))}));S.displayName="Col";var I=S;function C(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function T(e){return function(e){if(Array.isArray(e))return y(e)}(e)||C(e)||g(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function N(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function P(e,t,n){return t&&N(e.prototype,t),n&&N(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function O(e,t){return O=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},O(e,t)}function R(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&O(e,t)}function A(e){return A=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},A(e)}function D(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function L(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function M(e){var t=D();return function(){var n,r=A(e);if(t){var i=A(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return function(e,t){if(t&&("object"===j(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return L(e)}(this,n)}}function F(e,t,n){return F=D()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&O(i,n.prototype),i},F.apply(null,arguments)}function U(e){var t="function"===typeof Map?new Map:void 0;return U=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return F(e,arguments,A(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),O(n,e)},U(e)}function V(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=g(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}var z,B=n(757),q=n.n(B);function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(z||(z={}));var K,W="popstate";function G(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function Q(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function $(e,t){return{usr:e.state,key:e.key,idx:t}}function Y(e,t,n,r){return void 0===n&&(n=null),H({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?J(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function X(e){var t=e.pathname,n=void 0===t?"/":t,r=e.search,i=void 0===r?"":r,a=e.hash,o=void 0===a?"":a;return i&&"?"!==i&&(n+="?"===i.charAt(0)?i:"?"+i),o&&"#"!==o&&(n+="#"===o.charAt(0)?o:"#"+o),n}function J(e){var t={};if(e){var n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));var r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Z(e,t,n,r){void 0===r&&(r={});var i=r,a=i.window,o=void 0===a?document.defaultView:a,s=i.v5Compat,u=void 0!==s&&s,c=o.history,l=z.Pop,f=null,h=d();function d(){return(c.state||{idx:null}).idx}function p(){l=z.Pop;var e=d(),t=null==e?null:e-h;h=e,f&&f({action:l,location:m.location,delta:t})}function v(e){var t="null"!==o.location.origin?o.location.origin:o.location.href,n="string"===typeof e?e:X(e);return G(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==h&&(h=0,c.replaceState(H({},c.state,{idx:h}),""));var m={get action(){return l},get location(){return e(o,c)},listen:function(e){if(f)throw new Error("A history only accepts one active listener");return o.addEventListener(W,p),f=e,function(){o.removeEventListener(W,p),f=null}},createHref:function(e){return t(o,e)},createURL:v,encodeLocation:function(e){var t=v(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){l=z.Push;var r=Y(m.location,e,t);n&&n(r,e);var i=$(r,h=d()+1),a=m.createHref(r);try{c.pushState(i,"",a)}catch(s){o.location.assign(a)}u&&f&&f({action:l,location:m.location,delta:1})},replace:function(e,t){l=z.Replace;var r=Y(m.location,e,t);n&&n(r,e);var i=$(r,h=d()),a=m.createHref(r);c.replaceState(i,"",a),u&&f&&f({action:l,location:m.location,delta:0})},go:function(e){return c.go(e)}};return m}!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(K||(K={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function ee(e,t,n){void 0===n&&(n="/");var r=pe(("string"===typeof t?J(t):t).pathname||"/",n);if(null==r)return null;var i=te(e);!function(e){e.sort((function(e,t){return e.score!==t.score?t.score-e.score:function(e,t){var n=e.length===t.length&&e.slice(0,-1).every((function(e,n){return e===t[n]}));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((function(e){return e.childrenIndex})),t.routesMeta.map((function(e){return e.childrenIndex})))}))}(i);for(var a=null,o=0;null==a&&o<i.length;++o)a=fe(i[o],de(r));return a}function te(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");var i=function(e,i,a){var o={relativePath:void 0===a?e.path||"":a,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(G(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));var s=ge([r,o.relativePath]),u=n.concat(o);e.children&&e.children.length>0&&(G(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+s+'".'),te(e.children,t,u,s)),(null!=e.path||e.index)&&t.push({path:s,score:le(s,e.index),routesMeta:u})};return e.forEach((function(e,t){var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?")){var r,a=V(ne(e.path));try{for(a.s();!(r=a.n()).done;){var o=r.value;i(e,t,o)}}catch(s){a.e(s)}finally{a.f()}}else i(e,t)})),t}function ne(e){var t=e.split("/");if(0===t.length)return[];var n,r=m(n=t)||C(n)||g(n)||k(),i=r[0],a=r.slice(1),o=i.endsWith("?"),s=i.replace(/\?$/,"");if(0===a.length)return o?[s,""]:[s];var u=ne(a.join("/")),c=[];return c.push.apply(c,T(u.map((function(e){return""===e?s:[s,e].join("/")})))),o&&c.push.apply(c,T(u)),c.map((function(t){return e.startsWith("/")&&""===t?"/":t}))}var re=/^:\w+$/,ie=3,ae=2,oe=1,se=10,ue=-2,ce=function(e){return"*"===e};function le(e,t){var n=e.split("/"),r=n.length;return n.some(ce)&&(r+=ue),t&&(r+=ae),n.filter((function(e){return!ce(e)})).reduce((function(e,t){return e+(re.test(t)?ie:""===t?oe:se)}),r)}function fe(e,t){for(var n=e.routesMeta,r={},i="/",a=[],o=0;o<n.length;++o){var s=n[o],u=o===n.length-1,c="/"===i?t:t.slice(i.length)||"/",l=he({path:s.relativePath,caseSensitive:s.caseSensitive,end:u},c);if(!l)return null;Object.assign(r,l.params);var f=s.route;a.push({params:r,pathname:ge([i,l.pathname]),pathnameBase:ke(ge([i,l.pathnameBase])),route:f}),"/"!==l.pathnameBase&&(i=ge([i,l.pathnameBase]))}return a}function he(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});var n=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);Q("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');var r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(function(e,t){return r.push(t),"/([^\\/]+)"}));e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");var a=new RegExp(i,t?void 0:"i");return[a,r]}(e.path,e.caseSensitive,e.end),r=b(n,2),i=r[0],a=r[1],o=t.match(i);if(!o)return null;var s=o[0],u=s.replace(/(.)\/+$/,"$1"),c=o.slice(1);return{params:a.reduce((function(e,t,n){if("*"===t){var r=c[n]||"";u=s.slice(0,s.length-r.length).replace(/(.)\/+$/,"$1")}return e[t]=function(e,t){try{return decodeURIComponent(e)}catch(n){return Q(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}(c[n]||"",t),e}),{}),pathname:s,pathnameBase:u,pattern:e}}function de(e){try{return decodeURI(e)}catch(t){return Q(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function pe(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;var n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function ve(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function me(e){return e.filter((function(e,t){return 0===t||e.route.path&&e.route.path.length>0}))}function ye(e,t,n,r){var i;void 0===r&&(r=!1),"string"===typeof e?i=J(e):(G(!(i=H({},e)).pathname||!i.pathname.includes("?"),ve("?","pathname","search",i)),G(!i.pathname||!i.pathname.includes("#"),ve("#","pathname","hash",i)),G(!i.search||!i.search.includes("#"),ve("#","search","hash",i)));var a,o=""===e||""===i.pathname,s=o?"/":i.pathname;if(r||null==s)a=n;else{var u=t.length-1;if(s.startsWith("..")){for(var c=s.split("/");".."===c[0];)c.shift(),u-=1;i.pathname=c.join("/")}a=u>=0?t[u]:"/"}var l=function(e,t){void 0===t&&(t="/");var n="string"===typeof e?J(e):e,r=n.pathname,i=n.search,a=void 0===i?"":i,o=n.hash,s=void 0===o?"":o,u=r?r.startsWith("/")?r:function(e,t){var n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((function(e){".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(r,t):t;return{pathname:u,search:be(a),hash:we(s)}}(i,a),f=s&&"/"!==s&&s.endsWith("/"),h=(o||"."===s)&&n.endsWith("/");return l.pathname.endsWith("/")||!f&&!h||(l.pathname+="/"),l}var ge=function(e){return e.join("/").replace(/\/\/+/g,"/")},ke=function(e){return e.replace(/\/+$/,"").replace(/^\/*/,"/")},be=function(e){return e&&"?"!==e?e.startsWith("?")?e:"?"+e:""},we=function(e){return e&&"#"!==e?e.startsWith("#")?e:"#"+e:""},xe=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.apply(this,arguments)}return P(n)}(U(Error));function Ee(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Se=["post","put","patch","delete"],Ie=(new Set(Se),["get"].concat(Se));new Set(Ie),new Set([301,302,303,307,308]),new Set([307,308]),"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;Symbol("deferred");var Ce="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},Te=e.useState,_e=e.useEffect,Ne=e.useLayoutEffect,Pe=e.useDebugValue;function Oe(e){var t=e.getSnapshot,n=e.value;try{var r=t();return!Ce(n,r)}catch(i){return!0}}"undefined"===typeof window||"undefined"===typeof window.document||window.document.createElement;var Re=e.createContext(null);var Ae=e.createContext(null);var De=e.createContext(null);var je=e.createContext(null);var Le=e.createContext(null);var Me=e.createContext({outlet:null,matches:[]});var Fe=e.createContext(null);function Ue(){return Ue=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ue.apply(this,arguments)}function Ve(){return null!=e.useContext(Le)}function ze(){return Ve()||G(!1),e.useContext(Le).location}function Be(){Ve()||G(!1);var t=e.useContext(je),n=t.basename,r=t.navigator,i=e.useContext(Me).matches,a=ze().pathname,o=JSON.stringify(me(i).map((function(e){return e.pathnameBase}))),s=e.useRef(!1);e.useEffect((function(){s.current=!0}));var u=e.useCallback((function(e,t){if(void 0===t&&(t={}),s.current)if("number"!==typeof e){var i=ye(e,JSON.parse(o),a,"path"===t.relative);"/"!==n&&(i.pathname="/"===i.pathname?n:ge([n,i.pathname])),(t.replace?r.replace:r.push)(i,t.state,t)}else r.go(e)}),[n,r,o,a]);return u}function qe(){var t=function(){var t,n=e.useContext(Fe),r=$e(Ke.UseRouteError),i=Ye(Ke.UseRouteError);if(n)return n;return null==(t=r.errors)?void 0:t[i]}(),n=Ee(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:i};return e.createElement(e.Fragment,null,e.createElement("h2",null,"Unexpected Application Error!"),e.createElement("h3",{style:{fontStyle:"italic"}},n),r?e.createElement("pre",{style:a},r):null,null)}var He,Ke,We=function(t){R(r,t);var n=M(r);function r(e){var t;return _(this,r),(t=n.call(this,e)).state={location:e.location,error:e.error},t}return P(r,[{key:"componentDidCatch",value:function(e,t){console.error("React Router caught the following error during render",e,t)}},{key:"render",value:function(){return this.state.error?e.createElement(Me.Provider,{value:this.props.routeContext},e.createElement(Fe.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}],[{key:"getDerivedStateFromError",value:function(e){return{error:e}}},{key:"getDerivedStateFromProps",value:function(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}}]),r}(e.Component);function Ge(t){var n=t.routeContext,r=t.match,i=t.children,a=e.useContext(Re);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),e.createElement(Me.Provider,{value:n},i)}function Qe(t,n,r){if(void 0===n&&(n=[]),null==t){if(null==r||!r.errors)return null;t=r.matches}var i=t,a=null==r?void 0:r.errors;if(null!=a){var o=i.findIndex((function(e){return e.route.id&&(null==a?void 0:a[e.route.id])}));o>=0||G(!1),i=i.slice(0,Math.min(i.length,o+1))}return i.reduceRight((function(t,o,s){var u=o.route.id?null==a?void 0:a[o.route.id]:null,c=null;r&&(c=o.route.ErrorBoundary?e.createElement(o.route.ErrorBoundary,null):o.route.errorElement?o.route.errorElement:e.createElement(qe,null));var l=n.concat(i.slice(0,s+1)),f=function(){var n=t;return u?n=c:o.route.Component?n=e.createElement(o.route.Component,null):o.route.element&&(n=o.route.element),e.createElement(Ge,{match:o,routeContext:{outlet:t,matches:l},children:n})};return r&&(o.route.ErrorBoundary||o.route.errorElement||0===s)?e.createElement(We,{location:r.location,component:c,error:u,children:f(),routeContext:{outlet:null,matches:l}}):f()}),null)}function $e(t){var n=e.useContext(Ae);return n||G(!1),n}function Ye(t){var n=function(t){var n=e.useContext(Me);return n||G(!1),n}(),r=n.matches[n.matches.length-1];return r.route.id||G(!1),r.route.id}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(He||(He={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(Ke||(Ke={}));var Xe;function Je(e){G(!1)}function Ze(t){var n=t.basename,r=void 0===n?"/":n,i=t.children,a=void 0===i?null:i,o=t.location,s=t.navigationType,u=void 0===s?z.Pop:s,c=t.navigator,l=t.static,f=void 0!==l&&l;Ve()&&G(!1);var h=r.replace(/^\/*/,"/"),d=e.useMemo((function(){return{basename:h,navigator:c,static:f}}),[h,c,f]);"string"===typeof o&&(o=J(o));var p=o,v=p.pathname,m=void 0===v?"/":v,y=p.search,g=void 0===y?"":y,k=p.hash,b=void 0===k?"":k,w=p.state,x=void 0===w?null:w,E=p.key,S=void 0===E?"default":E,I=e.useMemo((function(){var e=pe(m,h);return null==e?null:{location:{pathname:e,search:g,hash:b,state:x,key:S},navigationType:u}}),[h,m,g,b,x,S,u]);return null==I?null:e.createElement(je.Provider,{value:d},e.createElement(Le.Provider,{children:a,value:I}))}function et(t){var n=t.children,r=t.location,i=e.useContext(Re);return function(t,n){Ve()||G(!1);var r,i=e.useContext(je).navigator,a=e.useContext(Ae),o=e.useContext(Me).matches,s=o[o.length-1],u=s?s.params:{},c=(s&&s.pathname,s?s.pathnameBase:"/"),l=(s&&s.route,ze());if(n){var f,h="string"===typeof n?J(n):n;"/"===c||(null==(f=h.pathname)?void 0:f.startsWith(c))||G(!1),r=h}else r=l;var d=r.pathname||"/",p=ee(t,{pathname:"/"===c?d:d.slice(c.length)||"/"}),v=Qe(p&&p.map((function(e){return Object.assign({},e,{params:Object.assign({},u,e.params),pathname:ge([c,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ge([c,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})})),o,a||void 0);return n&&v?e.createElement(Le.Provider,{value:{location:Ue({pathname:"/",search:"",hash:"",state:null,key:"default"},r),navigationType:z.Pop}},v):v}(i&&!n?i.router.routes:nt(n),r)}!function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(Xe||(Xe={}));var tt=new Promise((function(){}));e.Component;function nt(t,n){void 0===n&&(n=[]);var r=[];return e.Children.forEach(t,(function(t,i){if(e.isValidElement(t)){var a=[].concat(T(n),[i]);if(t.type!==e.Fragment){t.type!==Je&&G(!1),t.props.index&&t.props.children&&G(!1);var o={id:t.props.id||a.join("-"),caseSensitive:t.props.caseSensitive,element:t.props.element,Component:t.props.Component,index:t.props.index,path:t.props.path,loader:t.props.loader,action:t.props.action,errorElement:t.props.errorElement,ErrorBoundary:t.props.ErrorBoundary,hasErrorBoundary:null!=t.props.ErrorBoundary||null!=t.props.errorElement,shouldRevalidate:t.props.shouldRevalidate,handle:t.props.handle,lazy:t.props.lazy};t.props.children&&(o.children=nt(t.props.children,a)),r.push(o)}else r.push.apply(r,nt(t.props.children,a))}})),r}var rt=["bsPrefix","size","vertical","className","as"],it=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.size,i=e.vertical,o=e.className,u=e.as,f=void 0===u?"div":u,d=s(e,rt),p=h(n,"btn-group"),v=p;return i&&(v="".concat(p,"-vertical")),(0,l.jsx)(f,a(a({},d),{},{ref:t,className:c()(o,v,r&&"".concat(p,"-").concat(r))}))}));it.displayName="ButtonGroup",it.defaultProps={vertical:!1,role:"group"};var at=it,ot=["as","disabled"];function st(e){var t=e.tagName,n=e.disabled,r=e.href,i=e.target,a=e.rel,o=e.onClick,s=e.tabIndex,u=void 0===s?0:s,c=e.type;t||(t=null!=r||null!=i||null!=a?"a":"button");var l={tagName:t};if("button"===t)return[{type:c||"button",disabled:n},l];var f=function(e){(n||"a"===t&&function(e){return!e||"#"===e.trim()}(r))&&e.preventDefault(),n?e.stopPropagation():null==o||o(e)};return[{role:"button",disabled:void 0,tabIndex:n?void 0:u,href:"a"===t&&n?void 0:r,target:"a"===t?i:void 0,"aria-disabled":n||void 0,rel:"a"===t?a:void 0,onClick:f,onKeyDown:function(e){" "===e.key&&(e.preventDefault(),f(e))}},l]}var ut=e.forwardRef((function(e,t){var n=e.as,r=e.disabled,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,ot),a=b(st(Object.assign({tagName:n,disabled:r},i)),2),o=a[0],s=a[1].tagName;return(0,l.jsx)(s,Object.assign({},i,o,{ref:t}))}));ut.displayName="Button";var ct=ut,lt=["as","bsPrefix","variant","size","active","className"],ft=e.forwardRef((function(e,t){var n=e.as,r=e.bsPrefix,i=e.variant,o=e.size,u=e.active,f=e.className,d=s(e,lt),p=h(r,"btn"),v=b(st(a({tagName:n},d)),2),m=v[0],y=v[1].tagName;return(0,l.jsx)(y,a(a(a({},d),m),{},{ref:t,className:c()(f,p,u&&"active",i&&"".concat(p,"-").concat(i),o&&"".concat(p,"-").concat(o),d.href&&d.disabled&&"disabled")}))}));ft.displayName="Button",ft.defaultProps={variant:"primary",active:!1,disabled:!1};var ht=ft,dt=["bsPrefix","name","className","checked","type","onChange","value","disabled","id","inputRef"],pt=function(){},vt=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.name,i=e.className,o=e.checked,u=e.type,f=e.onChange,d=e.value,p=e.disabled,v=e.id,m=e.inputRef,y=s(e,dt);return n=h(n,"btn-check"),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("input",{className:n,name:r,type:u,value:d,ref:m,autoComplete:"off",checked:!!o,disabled:!!p,onChange:f||pt,id:v}),(0,l.jsx)(ht,a(a({},y),{},{ref:t,className:c()(i,p&&"disabled"),type:void 0,as:"label",htmlFor:v}))]})}));vt.displayName="ToggleButton";var mt=vt,yt=["bsPrefix","className","striped","bordered","borderless","hover","size","variant","responsive"],gt=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.striped,o=e.bordered,u=e.borderless,f=e.hover,d=e.size,p=e.variant,v=e.responsive,m=s(e,yt),y=h(n,"table"),g=c()(r,y,p&&"".concat(y,"-").concat(p),d&&"".concat(y,"-").concat(d),i&&"".concat(y,"-striped"),o&&"".concat(y,"-bordered"),u&&"".concat(y,"-borderless"),f&&"".concat(y,"-hover")),k=(0,l.jsx)("table",a(a({},m),{},{className:g,ref:t}));if(v){var b="".concat(y,"-responsive");return"string"===typeof v&&(b="".concat(b,"-").concat(v)),(0,l.jsx)("div",{className:b,children:k})}return k})),kt=gt;function bt(){return bt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bt.apply(this,arguments)}n(176);function wt(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function xt(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!==typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Et(t,n){return Object.keys(n).reduce((function(r,i){var a,s=r,u=s[wt(i)],c=s[i],l=o(s,[wt(i),i].map(xt)),f=n[i],h=function(t,n,r){var i=(0,e.useRef)(void 0!==t),a=(0,e.useState)(n),o=a[0],s=a[1],u=void 0!==t,c=i.current;return i.current=u,!u&&c&&o!==n&&s(n),[u?t:o,(0,e.useCallback)((function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];r&&r.apply(void 0,[e].concat(n)),s(e)}),[r])]}(c,u,t[f]),d=h[0],p=h[1];return bt({},l,((a={})[i]=d,a[f]=p,a))}),t)}function St(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!==e&&void 0!==e&&this.setState(e)}function It(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!==n&&void 0!==n?n:null}.bind(this))}function Ct(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}St.__suppressDeprecationWarning=!0,It.__suppressDeprecationWarning=!0,Ct.__suppressDeprecationWarning=!0;var Tt=function(t){var n=(0,e.useRef)(t);return(0,e.useEffect)((function(){n.current=t}),[t]),n};function _t(t){var n=Tt(t);return(0,e.useCallback)((function(){return n.current&&n.current.apply(n,arguments)}),[n])}function Nt(){var t=(0,e.useRef)(!0),n=(0,e.useRef)((function(){return t.current}));return(0,e.useEffect)((function(){return function(){t.current=!1}}),[]),n.current}var Pt="undefined"!==typeof n.g&&n.g.navigator&&"ReactNative"===n.g.navigator.product;"undefined"!==typeof document||Pt?e.useLayoutEffect:e.useEffect,new WeakMap;var Ot=["onKeyDown"];var Rt=e.forwardRef((function(e,t){var n,r=e.onKeyDown,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,Ot),a=b(st(Object.assign({tagName:"a"},i)),1)[0],o=_t((function(e){a.onKeyDown(e),null==r||r(e)}));return((n=i.href)&&"#"!==n.trim()||i.role)&&"button"!==i.role?(0,l.jsx)("a",Object.assign({ref:t},i,{onKeyDown:r})):(0,l.jsx)("a",Object.assign({ref:t},i,a,{onKeyDown:o}))}));Rt.displayName="Anchor";var At=Rt;var Dt=!1,jt=e.createContext(null),Lt="unmounted",Mt="exited",Ft="entering",Ut="entered",Vt="exiting",zt=function(n){var r,i;function a(e,t){var r;r=n.call(this,e,t)||this;var i,a=t&&!t.isMounting?e.enter:e.appear;return r.appearStatus=null,e.in?a?(i=Mt,r.appearStatus=Ft):i=Ut:i=e.unmountOnExit||e.mountOnEnter?Lt:Mt,r.state={status:i},r.nextCallback=null,r}i=n,(r=a).prototype=Object.create(i.prototype),r.prototype.constructor=r,O(r,i),a.getDerivedStateFromProps=function(e,t){return e.in&&t.status===Lt?{status:Mt}:null};var s=a.prototype;return s.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},s.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==Ft&&n!==Ut&&(t=Ft):n!==Ft&&n!==Ut||(t=Vt)}this.updateStatus(!1,t)},s.componentWillUnmount=function(){this.cancelNextCallback()},s.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},s.updateStatus=function(e,n){if(void 0===e&&(e=!1),null!==n)if(this.cancelNextCallback(),n===Ft){if(this.props.unmountOnExit||this.props.mountOnEnter){var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this);r&&function(e){e.scrollTop}(r)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===Mt&&this.setState({status:Lt})},s.performEnter=function(e){var n=this,r=this.props.enter,i=this.context?this.context.isMounting:e,a=this.props.nodeRef?[i]:[t.findDOMNode(this),i],o=a[0],s=a[1],u=this.getTimeouts(),c=i?u.appear:u.enter;!e&&!r||Dt?this.safeSetState({status:Ut},(function(){n.props.onEntered(o)})):(this.props.onEnter(o,s),this.safeSetState({status:Ft},(function(){n.props.onEntering(o,s),n.onTransitionEnd(c,(function(){n.safeSetState({status:Ut},(function(){n.props.onEntered(o,s)}))}))})))},s.performExit=function(){var e=this,n=this.props.exit,r=this.getTimeouts(),i=this.props.nodeRef?void 0:t.findDOMNode(this);n&&!Dt?(this.props.onExit(i),this.safeSetState({status:Vt},(function(){e.props.onExiting(i),e.onTransitionEnd(r.exit,(function(){e.safeSetState({status:Mt},(function(){e.props.onExited(i)}))}))}))):this.safeSetState({status:Mt},(function(){e.props.onExited(i)}))},s.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},s.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},s.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},s.onTransitionEnd=function(e,n){this.setNextCallback(n);var r=this.props.nodeRef?this.props.nodeRef.current:t.findDOMNode(this),i=null==e&&!this.props.addEndListener;if(r&&!i){if(this.props.addEndListener){var a=this.props.nodeRef?[this.nextCallback]:[r,this.nextCallback],o=a[0],s=a[1];this.props.addEndListener(o,s)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},s.render=function(){var t=this.state.status;if(t===Lt)return null;var n=this.props,r=n.children,i=(n.in,n.mountOnEnter,n.unmountOnExit,n.appear,n.enter,n.exit,n.timeout,n.addEndListener,n.onEnter,n.onEntering,n.onEntered,n.onExit,n.onExiting,n.onExited,n.nodeRef,o(n,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return e.createElement(jt.Provider,{value:null},"function"===typeof r?r(t,i):e.cloneElement(e.Children.only(r),i))},a}(e.Component);function Bt(){}zt.contextType=jt,zt.propTypes={},zt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Bt,onEntering:Bt,onEntered:Bt,onExit:Bt,onExiting:Bt,onExited:Bt},zt.UNMOUNTED=Lt,zt.EXITED=Mt,zt.ENTERING=Ft,zt.ENTERED=Ut,zt.EXITING=Vt;var qt=zt;function Ht(e){return e&&e.ownerDocument||document}function Kt(e,t){return function(e){var t=Ht(e);return t&&t.defaultView||window}(e).getComputedStyle(e,t)}var Wt=/([A-Z])/g;var Gt=/^ms-/;function Qt(e){return function(e){return e.replace(Wt,"-$1").toLowerCase()}(e).replace(Gt,"-ms-")}var $t=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;var Yt=function(e,t){var n="",r="";if("string"===typeof t)return e.style.getPropertyValue(Qt(t))||Kt(e).getPropertyValue(Qt(t));Object.keys(t).forEach((function(i){var a=t[i];a||0===a?!function(e){return!(!e||!$t.test(e))}(i)?n+=Qt(i)+": "+a+";":r+=i+"("+a+") ":e.style.removeProperty(Qt(i))})),r&&(n+="transform: "+r+";"),e.style.cssText+=";"+n},Xt=!("undefined"===typeof window||!window.document||!window.document.createElement),Jt=!1,Zt=!1;try{var en={get passive(){return Jt=!0},get once(){return Zt=Jt=!0}};Xt&&(window.addEventListener("test",en,en),window.removeEventListener("test",en,!0))}catch(yN){}var tn=function(e,t,n,r){if(r&&"boolean"!==typeof r&&!Zt){var i=r.once,a=r.capture,o=n;!Zt&&i&&(o=n.__once||function e(r){this.removeEventListener(t,e,a),n.call(this,r)},n.__once=o),e.addEventListener(t,o,Jt?r:a)}e.addEventListener(t,n,r)};var nn=function(e,t,n,r){var i=r&&"boolean"!==typeof r?r.capture:r;e.removeEventListener(t,n,i),n.__once&&e.removeEventListener(t,n.__once,i)};var rn=function(e,t,n,r){return tn(e,t,n,r),function(){nn(e,t,n,r)}};function an(e,t,n){void 0===n&&(n=5);var r=!1,i=setTimeout((function(){r||function(e,t,n,r){if(void 0===n&&(n=!1),void 0===r&&(r=!0),e){var i=document.createEvent("HTMLEvents");i.initEvent(t,n,r),e.dispatchEvent(i)}}(e,"transitionend",!0)}),t+n),a=rn(e,"transitionend",(function(){r=!0}),{once:!0});return function(){clearTimeout(i),a()}}function on(e,t,n,r){null==n&&(n=function(e){var t=Yt(e,"transitionDuration")||"",n=-1===t.indexOf("ms")?1e3:1;return parseFloat(t)*n}(e)||0);var i=an(e,n,r),a=rn(e,"transitionend",t);return function(){i(),a()}}function sn(e,t){var n=Yt(e,t)||"",r=-1===n.indexOf("ms")?1e3:1;return parseFloat(n)*r}function un(e,t){var n=sn(e,"transitionDuration"),r=sn(e,"transitionDelay"),i=on(e,(function(n){n.target===e&&(i(),t(n))}),n+r)}function cn(e){e.offsetHeight}var ln=function(e){return e&&"function"!==typeof e?function(t){e.current=t}:e};var fn=function(t,n){return(0,e.useMemo)((function(){return function(e,t){var n=ln(e),r=ln(t);return function(e){n&&n(e),r&&r(e)}}(t,n)}),[t,n])};var hn,dn=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children","childRef"],pn=e.forwardRef((function(n,r){var i=n.onEnter,o=n.onEntering,u=n.onEntered,c=n.onExit,f=n.onExiting,h=n.onExited,d=n.addEndListener,p=n.children,v=n.childRef,m=s(n,dn),y=(0,e.useRef)(null),g=fn(y,v),k=function(e){var n;g((n=e)&&"setState"in n?t.findDOMNode(n):null!=n?n:null)},b=function(e){return function(t){e&&y.current&&e(y.current,t)}},w=(0,e.useCallback)(b(i),[i]),x=(0,e.useCallback)(b(o),[o]),E=(0,e.useCallback)(b(u),[u]),S=(0,e.useCallback)(b(c),[c]),I=(0,e.useCallback)(b(f),[f]),C=(0,e.useCallback)(b(h),[h]),T=(0,e.useCallback)(b(d),[d]);return(0,l.jsx)(qt,a(a({ref:r},m),{},{onEnter:w,onEntered:E,onEntering:x,onExit:S,onExited:C,onExiting:I,addEndListener:T,nodeRef:y,children:"function"===typeof p?function(e,t){return p(e,a(a({},t),{},{ref:k}))}:e.cloneElement(p,{ref:k})}))})),vn=pn,mn=["className","children","transitionClasses"],yn=(r(hn={},Ft,"show"),r(hn,Ut,"show"),hn),gn=e.forwardRef((function(t,n){var r=t.className,i=t.children,o=t.transitionClasses,u=void 0===o?{}:o,f=s(t,mn),h=(0,e.useCallback)((function(e,t){cn(e),null==f.onEnter||f.onEnter(e,t)}),[f]);return(0,l.jsx)(vn,a(a({ref:n,addEndListener:un},f),{},{onEnter:h,childRef:i.ref,children:function(t,n){return e.cloneElement(i,a(a({},n),{},{className:c()("fade",r,i.props.className,yn[t],u[t])}))}}))}));gn.defaultProps={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1},gn.displayName="Fade";var kn=gn,bn=n(7),wn=n.n(bn),xn=["className","variant"],En={"aria-label":wn().string,onClick:wn().func,variant:wn().oneOf(["white"])},Sn=e.forwardRef((function(e,t){var n=e.className,r=e.variant,i=s(e,xn);return(0,l.jsx)("button",a({ref:t,type:"button",className:c()("btn-close",r&&"btn-close-".concat(r),n)},i))}));Sn.displayName="CloseButton",Sn.propTypes=En,Sn.defaultProps={"aria-label":"Close"};var In=Sn,Cn=function(t){return e.forwardRef((function(e,n){return(0,l.jsx)("div",a(a({},e),{},{ref:n,className:c()(e.className,t)}))}))},Tn=/-(.)/g;var _n=["className","bsPrefix","as"],Nn=function(e){return e[0].toUpperCase()+(t=e,t.replace(Tn,(function(e,t){return t.toUpperCase()}))).slice(1);var t};function Pn(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.displayName,i=void 0===r?Nn(t):r,o=n.Component,u=n.defaultProps,f=e.forwardRef((function(e,n){var r=e.className,i=e.bsPrefix,u=e.as,f=void 0===u?o||"div":u,d=s(e,_n),p=h(i,t);return(0,l.jsx)(f,a({ref:n,className:c()(r,p)},d))}));return f.defaultProps=u,f.displayName=i,f}var On=["bsPrefix","show","closeLabel","closeVariant","className","children","variant","onClose","dismissible","transition"],Rn=Cn("h4");Rn.displayName="DivStyledAsH4";var An=Pn("alert-heading",{Component:Rn}),Dn=Pn("alert-link",{Component:At}),jn={variant:"primary",show:!0,transition:kn,closeLabel:"Close alert"},Ln=e.forwardRef((function(e,t){var n=Et(e,{show:"onClose"}),r=n.bsPrefix,i=n.show,o=n.closeLabel,u=n.closeVariant,f=n.className,d=n.children,p=n.variant,v=n.onClose,m=n.dismissible,y=n.transition,g=s(n,On),k=h(r,"alert"),b=_t((function(e){v&&v(!1,e)})),w=!0===y?kn:y,x=(0,l.jsxs)("div",a(a({role:"alert"},w?void 0:g),{},{ref:t,className:c()(f,k,p&&"".concat(k,"-").concat(p),m&&"".concat(k,"-dismissible")),children:[m&&(0,l.jsx)(In,{onClick:b,"aria-label":o,variant:u}),d]}));return w?(0,l.jsx)(w,a(a({unmountOnExit:!0},g),{},{ref:void 0,in:i,children:x})):i?x:null}));Ln.displayName="Alert",Ln.defaultProps=jn;var Mn=Object.assign(Ln,{Link:Dn,Heading:An}),Fn=["bsPrefix","position","className","as"],Un={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},Vn=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.position,i=e.className,o=e.as,u=void 0===o?"div":o,f=s(e,Fn);return n=h(n,"toast-container"),(0,l.jsx)(u,a(a({ref:t},f),{},{className:c()(n,r&&"position-absolute ".concat(Un[r]),i)}))}));Vn.displayName="ToastContainer";var zn=Vn;function Bn(t){var n=function(t){var n=(0,e.useRef)(t);return n.current=t,n}(t);(0,e.useEffect)((function(){return function(){return n.current()}}),[])}var qn,Hn=Math.pow(2,31)-1;function Kn(e,t,n){var r=n-Date.now();e.current=r<=Hn?setTimeout(t,r):setTimeout((function(){return Kn(e,t,n)}),Hn)}function Wn(){var t=Nt(),n=(0,e.useRef)();return Bn((function(){return clearTimeout(n.current)})),(0,e.useMemo)((function(){var e=function(){return clearTimeout(n.current)};return{set:function(r,i){void 0===i&&(i=0),t()&&(e(),i<=Hn?n.current=setTimeout(r,i):Kn(n,r,Date.now()+i))},clear:e}}),[])}var Gn=(r(qn={},Ft,"showing"),r(qn,Vt,"showing show"),qn),Qn=e.forwardRef((function(e,t){return(0,l.jsx)(kn,a(a({},e),{},{ref:t,transitionClasses:Gn}))}));Qn.displayName="ToastFade";var $n=Qn,Yn=e.createContext({onClose:function(){}}),Xn=["bsPrefix","closeLabel","closeVariant","closeButton","className","children"],Jn=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.closeLabel,o=t.closeVariant,u=t.closeButton,f=t.className,d=t.children,p=s(t,Xn);r=h(r,"toast-header");var v=(0,e.useContext)(Yn),m=_t((function(e){null==v||null==v.onClose||v.onClose(e)}));return(0,l.jsxs)("div",a(a({ref:n},p),{},{className:c()(r,f),children:[d,u&&(0,l.jsx)(In,{"aria-label":i,variant:o,onClick:m,"data-dismiss":"toast"})]}))}));Jn.displayName="ToastHeader",Jn.defaultProps={closeLabel:"Close",closeButton:!0};var Zn=Jn,er=Pn("toast-body"),tr=["bsPrefix","className","transition","show","animation","delay","autohide","onClose","bg"],nr=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.transition,u=void 0===o?$n:o,f=t.show,d=void 0===f||f,p=t.animation,v=void 0===p||p,m=t.delay,y=void 0===m?5e3:m,g=t.autohide,k=void 0!==g&&g,b=t.onClose,w=t.bg,x=s(t,tr);r=h(r,"toast");var E=(0,e.useRef)(y),S=(0,e.useRef)(b);(0,e.useEffect)((function(){E.current=y,S.current=b}),[y,b]);var I=Wn(),C=!(!k||!d),T=(0,e.useCallback)((function(){C&&(null==S.current||S.current())}),[C]);(0,e.useEffect)((function(){I.set(T,E.current)}),[I,T]);var _=(0,e.useMemo)((function(){return{onClose:b}}),[b]),N=!(!u||!v),P=(0,l.jsx)("div",a(a({},x),{},{ref:n,className:c()(r,i,w&&"bg-".concat(w),!N&&(d?"show":"hide")),role:"alert","aria-live":"assertive","aria-atomic":"true"}));return(0,l.jsx)(Yn.Provider,{value:_,children:N&&u?(0,l.jsx)(u,{in:d,unmountOnExit:!0,children:P}):P})}));nr.displayName="Toast";var rr,ir=Object.assign(nr,{Body:er,Header:Zn});function ar(e){if((!rr&&0!==rr||e)&&Xt){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),rr=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return rr}function or(e){void 0===e&&(e=Ht());try{var t=e.activeElement;return t&&t.nodeName?t:null}catch(yN){return e.body}}function sr(e,t){return e.contains?e.contains(t):e.compareDocumentPosition?e===t||!!(16&e.compareDocumentPosition(t)):void 0}var ur="data-rr-ui-";function cr(e){return"".concat(ur).concat(e)}var lr=cr("modal-open"),fr=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.ownerDocument,r=t.handleContainerOverflow,i=void 0===r||r,a=t.isRTL,o=void 0!==a&&a;_(this,e),this.handleContainerOverflow=i,this.isRTL=o,this.modals=[],this.ownerDocument=n}return P(e,[{key:"getScrollbarWidth",value:function(){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}(this.ownerDocument)}},{key:"getElement",value:function(){return(this.ownerDocument||document).body}},{key:"setModalAttributes",value:function(e){}},{key:"removeModalAttributes",value:function(e){}},{key:"setContainerStyle",value:function(e){var t={overflow:"hidden"},n=this.isRTL?"paddingLeft":"paddingRight",i=this.getElement();e.style=r({overflow:i.style.overflow},n,i.style[n]),e.scrollBarWidth&&(t[n]="".concat(parseInt(Yt(i,n)||"0",10)+e.scrollBarWidth,"px")),i.setAttribute(lr,""),Yt(i,t)}},{key:"reset",value:function(){var e=this;T(this.modals).forEach((function(t){return e.remove(t)}))}},{key:"removeContainerStyle",value:function(e){var t=this.getElement();t.removeAttribute(lr),Object.assign(t.style,e.style)}},{key:"add",value:function(e){var t=this.modals.indexOf(e);return-1!==t?t:(t=this.modals.length,this.modals.push(e),this.setModalAttributes(e),0!==t||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),t)}},{key:"remove",value:function(e){var t=this.modals.indexOf(e);-1!==t&&(this.modals.splice(t,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(e))}},{key:"isTopModal",value:function(e){return!!this.modals.length&&this.modals[this.modals.length-1]===e}}]),e}(),hr=fr,dr=(0,e.createContext)(Xt?window:void 0);dr.Provider;function pr(){return(0,e.useContext)(dr)}var vr=function(e,t){var n;return Xt?null==e?(t||Ht()).body:("function"===typeof e&&(e=e()),e&&"current"in e&&(e=e.current),null!=(n=e)&&n.nodeType&&e||null):null};var mr,yr=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","backdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function gr(t){var n=pr(),r=t||function(e){return mr||(mr=new hr({ownerDocument:null==e?void 0:e.document})),mr}(n),i=(0,e.useRef)({dialog:null,backdrop:null});return Object.assign(i.current,{add:function(){return r.add(i.current)},remove:function(){return r.remove(i.current)},isTopModal:function(){return r.isTopModal(i.current)},setDialogRef:(0,e.useCallback)((function(e){i.current.dialog=e}),[]),setBackdropRef:(0,e.useCallback)((function(e){i.current.backdrop=e}),[])})}var kr=(0,e.forwardRef)((function(n,r){var i=n.show,a=void 0!==i&&i,o=n.role,s=void 0===o?"dialog":o,u=n.className,c=n.style,f=n.children,h=n.backdrop,d=void 0===h||h,p=n.keyboard,v=void 0===p||p,m=n.onBackdropClick,y=n.onEscapeKeyDown,g=n.transition,k=n.backdropTransition,w=n.autoFocus,x=void 0===w||w,E=n.enforceFocus,S=void 0===E||E,I=n.restoreFocus,C=void 0===I||I,T=n.restoreFocusOptions,_=n.renderDialog,N=n.renderBackdrop,P=void 0===N?function(e){return(0,l.jsx)("div",Object.assign({},e))}:N,O=n.manager,R=n.container,A=n.onShow,D=n.onHide,j=void 0===D?function(){}:D,L=n.onExit,M=n.onExited,F=n.onExiting,U=n.onEnter,V=n.onEntering,z=n.onEntered,B=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,yr),q=function(t,n){var r=pr(),i=b((0,e.useState)((function(){return vr(t,null==r?void 0:r.document)})),2),a=i[0],o=i[1];if(!a){var s=vr(t);s&&o(s)}return(0,e.useEffect)((function(){n&&a&&n(a)}),[n,a]),(0,e.useEffect)((function(){var e=vr(t);e!==a&&o(e)}),[t,a]),a}(R),H=gr(O),K=Nt(),W=function(t){var n=(0,e.useRef)(null);return(0,e.useEffect)((function(){n.current=t})),n.current}(a),G=b((0,e.useState)(!a),2),Q=G[0],$=G[1],Y=(0,e.useRef)(null);(0,e.useImperativeHandle)(r,(function(){return H}),[H]),Xt&&!W&&a&&(Y.current=or()),g||a||Q?a&&Q&&$(!1):$(!0);var X=_t((function(){if(H.add(),re.current=rn(document,"keydown",te),ne.current=rn(document,"focus",(function(){return setTimeout(Z)}),!0),A&&A(),x){var e=or(document);H.dialog&&e&&!sr(H.dialog,e)&&(Y.current=e,H.dialog.focus())}})),J=_t((function(){var e;(H.remove(),null==re.current||re.current(),null==ne.current||ne.current(),C)&&(null==(e=Y.current)||null==e.focus||e.focus(T),Y.current=null)}));(0,e.useEffect)((function(){a&&q&&X()}),[a,q,X]),(0,e.useEffect)((function(){Q&&J()}),[Q,J]),Bn((function(){J()}));var Z=_t((function(){if(S&&K()&&H.isTopModal()){var e=or();H.dialog&&e&&!sr(H.dialog,e)&&H.dialog.focus()}})),ee=_t((function(e){e.target===e.currentTarget&&(null==m||m(e),!0===d&&j())})),te=_t((function(e){v&&27===e.keyCode&&H.isTopModal()&&(null==y||y(e),e.defaultPrevented||j())})),ne=(0,e.useRef)(),re=(0,e.useRef)(),ie=g;if(!q||!(a||ie&&!Q))return null;var ae=Object.assign({role:s,ref:H.setDialogRef,"aria-modal":"dialog"===s||void 0},B,{style:c,className:u,tabIndex:-1}),oe=_?_(ae):(0,l.jsx)("div",Object.assign({},ae,{children:e.cloneElement(f,{role:"document"})}));ie&&(oe=(0,l.jsx)(ie,{appear:!0,unmountOnExit:!0,in:!!a,onExit:L,onExiting:F,onExited:function(){$(!0),null==M||M.apply(void 0,arguments)},onEnter:U,onEntering:V,onEntered:z,children:oe}));var se=null;if(d){var ue=k;se=P({ref:H.setBackdropRef,onClick:ee}),ue&&(se=(0,l.jsx)(ue,{appear:!0,in:!!a,children:se}))}return(0,l.jsx)(l.Fragment,{children:t.createPortal((0,l.jsxs)(l.Fragment,{children:[se,oe]}),q)})}));kr.displayName="Modal";var br=Object.assign(kr,{Manager:hr});function wr(){return wr="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=A(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},wr.apply(this,arguments)}var xr=Function.prototype.bind.call(Function.prototype.call,[].slice);function Er(e,t){return xr(e.querySelectorAll(t))}function Sr(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var Ir,Cr=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Tr=".sticky-top",_r=".navbar-toggler",Nr=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.apply(this,arguments)}return P(n,[{key:"adjustAndStore",value:function(e,t,n){var i=t.style[e];t.dataset[e]=i,Yt(t,r({},e,"".concat(parseFloat(Yt(t,e))+n,"px")))}},{key:"restore",value:function(e,t){var n=t.dataset[e];void 0!==n&&(delete t.dataset[e],Yt(t,r({},e,n)))}},{key:"setContainerStyle",value:function(e){var t=this;wr(A(n.prototype),"setContainerStyle",this).call(this,e);var r,i,a=this.getElement();if(i="modal-open",(r=a).classList?r.classList.add(i):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(r,i)||("string"===typeof r.className?r.className=r.className+" "+i:r.setAttribute("class",(r.className&&r.className.baseVal||"")+" "+i)),e.scrollBarWidth){var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Er(a,Cr).forEach((function(n){return t.adjustAndStore(o,n,e.scrollBarWidth)})),Er(a,Tr).forEach((function(n){return t.adjustAndStore(s,n,-e.scrollBarWidth)})),Er(a,_r).forEach((function(n){return t.adjustAndStore(s,n,e.scrollBarWidth)}))}}},{key:"removeContainerStyle",value:function(e){var t=this;wr(A(n.prototype),"removeContainerStyle",this).call(this,e);var r,i,a=this.getElement();i="modal-open",(r=a).classList?r.classList.remove(i):"string"===typeof r.className?r.className=Sr(r.className,i):r.setAttribute("class",Sr(r.className&&r.className.baseVal||"",i));var o=this.isRTL?"paddingLeft":"paddingRight",s=this.isRTL?"marginLeft":"marginRight";Er(a,Cr).forEach((function(e){return t.restore(o,e)})),Er(a,Tr).forEach((function(e){return t.restore(s,e)})),Er(a,_r).forEach((function(e){return t.restore(s,e)}))}}]),n}(hr);function Pr(e){return Ir||(Ir=new Nr(e)),Ir}var Or=Nr,Rr=Pn("modal-body"),Ar=e.createContext({onHide:function(){}}),Dr=["bsPrefix","className","contentClassName","centered","size","fullscreen","children","scrollable"],jr=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.contentClassName,o=e.centered,u=e.size,f=e.fullscreen,d=e.children,p=e.scrollable,v=s(e,Dr);n=h(n,"modal");var m="".concat(n,"-dialog"),y="string"===typeof f?"".concat(n,"-fullscreen-").concat(f):"".concat(n,"-fullscreen");return(0,l.jsx)("div",a(a({},v),{},{ref:t,className:c()(m,r,u&&"".concat(n,"-").concat(u),o&&"".concat(m,"-centered"),p&&"".concat(m,"-scrollable"),f&&y),children:(0,l.jsx)("div",{className:c()("".concat(n,"-content"),i),children:d})}))}));jr.displayName="ModalDialog";var Lr=jr,Mr=Pn("modal-footer"),Fr=["closeLabel","closeVariant","closeButton","onHide","children"],Ur=e.forwardRef((function(t,n){var r=t.closeLabel,i=t.closeVariant,o=t.closeButton,u=t.onHide,c=t.children,f=s(t,Fr),h=(0,e.useContext)(Ar),d=_t((function(){null==h||h.onHide(),null==u||u()}));return(0,l.jsxs)("div",a(a({ref:n},f),{},{children:[c,o&&(0,l.jsx)(In,{"aria-label":r,variant:i,onClick:d})]}))}));Ur.defaultProps={closeLabel:"Close",closeButton:!1};var Vr=Ur,zr=["bsPrefix","className"],Br=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=s(e,zr);return n=h(n,"modal-header"),(0,l.jsx)(Vr,a(a({ref:t},i),{},{className:c()(r,n)}))}));Br.displayName="ModalHeader",Br.defaultProps={closeLabel:"Close",closeButton:!1};var qr=Br,Hr=Pn("modal-title",{Component:Cn("h4")}),Kr=["bsPrefix","className","style","dialogClassName","contentClassName","children","dialogAs","aria-labelledby","show","animation","backdrop","keyboard","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"],Wr={show:!1,backdrop:!0,keyboard:!0,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,animation:!0,dialogAs:Lr};function Gr(e){return(0,l.jsx)(kn,a(a({},e),{},{timeout:null}))}function Qr(e){return(0,l.jsx)(kn,a(a({},e),{},{timeout:null}))}var $r=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.style,u=t.dialogClassName,d=t.contentClassName,p=t.children,v=t.dialogAs,m=t["aria-labelledby"],y=t.show,g=t.animation,k=t.backdrop,w=t.keyboard,x=t.onEscapeKeyDown,E=t.onShow,S=t.onHide,I=t.container,C=t.autoFocus,T=t.enforceFocus,_=t.restoreFocus,N=t.restoreFocusOptions,P=t.onEntered,O=t.onExit,R=t.onExiting,A=t.onEnter,D=t.onEntering,j=t.onExited,L=t.backdropClassName,M=t.manager,F=s(t,Kr),U=b((0,e.useState)({}),2),V=U[0],z=U[1],B=b((0,e.useState)(!1),2),q=B[0],H=B[1],K=(0,e.useRef)(!1),W=(0,e.useRef)(!1),G=(0,e.useRef)(null),Q=b((0,e.useState)(null),2),$=Q[0],Y=Q[1],X=fn(n,Y),J=_t(S),Z="rtl"===(0,e.useContext)(f).dir;r=h(r,"modal");var ee=(0,e.useMemo)((function(){return{onHide:J}}),[J]);function te(){return M||Pr({isRTL:Z})}function ne(e){if(Xt){var t=te().getScrollbarWidth()>0,n=e.scrollHeight>Ht(e).documentElement.clientHeight;z({paddingRight:t&&!n?ar():void 0,paddingLeft:!t&&n?ar():void 0})}}var re=_t((function(){$&&ne($.dialog)}));Bn((function(){nn(window,"resize",re),null==G.current||G.current()}));var ie=function(){K.current=!0},ae=function(e){K.current&&$&&e.target===$.dialog&&(W.current=!0),K.current=!1},oe=function(){H(!0),G.current=on($.dialog,(function(){H(!1)}))},se=function(e){"static"!==k?W.current||e.target!==e.currentTarget?W.current=!1:null==S||S():function(e){e.target===e.currentTarget&&oe()}(e)},ue=(0,e.useCallback)((function(e){return(0,l.jsx)("div",a(a({},e),{},{className:c()("".concat(r,"-backdrop"),L,!g&&"show")}))}),[g,L,r]),ce=a(a({},o),V);g||(ce.display="block");return(0,l.jsx)(Ar.Provider,{value:ee,children:(0,l.jsx)(br,{show:y,ref:X,backdrop:k,container:I,keyboard:!0,autoFocus:C,enforceFocus:T,restoreFocus:_,restoreFocusOptions:N,onEscapeKeyDown:function(e){w||"static"!==k?w&&x&&x(e):(e.preventDefault(),oe())},onShow:E,onHide:S,onEnter:function(e,t){e&&(e.style.display="block",ne(e)),null==A||A(e,t)},onEntering:function(e,t){null==D||D(e,t),tn(window,"resize",re)},onEntered:P,onExit:function(e){null==G.current||G.current(),null==O||O(e)},onExiting:R,onExited:function(e){e&&(e.style.display=""),null==j||j(e),nn(window,"resize",re)},manager:te(),transition:g?Gr:void 0,backdropTransition:g?Qr:void 0,renderBackdrop:ue,renderDialog:function(e){return(0,l.jsx)("div",a(a({role:"dialog"},e),{},{style:ce,className:c()(i,r,q&&"".concat(r,"-static")),onClick:k?se:void 0,onMouseUp:ae,"aria-labelledby":m,children:(0,l.jsx)(v,a(a({},F),{},{onMouseDown:ie,className:u,contentClassName:d,children:p}))}))}})})}));$r.displayName="Modal",$r.defaultProps=Wr;var Yr=Object.assign($r,{Body:Rr,Header:qr,Title:Hr,Footer:Mr,Dialog:Lr,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150});function Xr(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(c){return void n(c)}s.done?t(u):Promise.resolve(u).then(r,i)}function Jr(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Xr(a,r,i,o,s,"next",e)}function s(e){Xr(a,r,i,o,s,"throw",e)}o(void 0)}))}}var Zr=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},ei={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,c=u?e[i+2]:0,l=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(Zr(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new ti;var c=a<<2|o>>4;if(r.push(c),64!==s){var l=o<<4&240|s>>2;if(r.push(l),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},ti=function(e){R(n,e);var t=M(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).name="DecodeBase64StringError",e}return P(n)}(U(Error)),ni=function(e){return function(e){var t=Zr(e);return ei.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ri=function(e){try{return ei.decodeString(e,!0)}catch(yN){console.error("base64Decode failed: ",yN)}return null};var ii=function(){return function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},ai=function(){try{return ii()||function(){if("undefined"!==typeof process){var e={NODE_ENV:"production",PUBLIC_URL:"/275-Final-Project",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||function(){if("undefined"!==typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(yN){return}var t=e&&ri(e[1]);return t&&JSON.parse(t)}}()}catch(yN){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(yN))}},oi=function(e){var t,n;return null===(n=null===(t=ai())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},si=function(e){var t=oi(e);if(t){var n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));var r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]}},ui=function(){var e;return null===(e=ai())||void 0===e?void 0:e.config},ci=function(e){var t;return null===(t=ai())||void 0===t?void 0:t["_".concat(e)]},li=function(){function e(){var t=this;_(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return P(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function fi(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function hi(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function di(){try{return"object"===typeof indexedDB}catch(yN){return!1}}function pi(){return new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}}))}var vi=function(e){R(n,e);var t=M(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(L(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(L(a),mi.prototype.create),a}return P(n)}(U(Error)),mi=function(){function e(t,n,r){_(this,e),this.service=t,this.serviceName=n,this.errors=r}return P(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(yi,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new vi(n,a,t)}}]),e}();var yi=/\{\$([^}]+)}/g;function gi(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(ki(s)&&ki(u)){if(!gi(s,u))return!1}else if(s!==u)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function ki(e){return null!==e&&"object"===typeof e}function bi(e){for(var t=[],n=function(){var e=b(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function wi(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=b(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function xi(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}var Ei=function(){function e(t,n){var r=this;_(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return P(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=V(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=Si),void 0===r.error&&(r.error=Si),void 0===r.complete&&(r.complete=Si);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(yN){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(yN){"undefined"!==typeof console&&console.error&&console.error(yN)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function Si(){}var Ii=1e3,Ci=2,Ti=144e5,_i=.5;function Ni(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ci,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ii)*Math.pow(t,e),r=Math.round(_i*n*(Math.random()-.5)*2);return Math.min(Ti,n+r)}function Pi(e){return e&&e._delegate?e._delegate:e}var Oi=function(){function e(t,n,r){_(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return P(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Ri="[DEFAULT]",Ai=function(){function e(t,n){_(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return P(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new li;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(yN){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(yN){if(r)return null;throw yN}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Ri})}catch(yN){}var t,n=V(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=b(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(yN){}}}catch(u){n.e(u)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Jr(B.mark((function e(){var t;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(T(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),T(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=V(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=b(i.value,2),u=s[0],c=s[1];r===this.normalizeInstanceIdentifier(u)&&c.resolve(a)}}catch(l){o.e(l)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=V(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(Xm){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Ri?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(Xm){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ri;return this.component?this.component.multipleInstances?e:Ri:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Di,ji,Li=function(){function e(t){_(this,e),this.name=t,this.providers=new Map}return P(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ai(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),Mi=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(ji||(ji={}));var Fi={debug:ji.DEBUG,verbose:ji.VERBOSE,info:ji.INFO,warn:ji.WARN,error:ji.ERROR,silent:ji.SILENT},Ui=ji.INFO,Vi=(r(Di={},ji.DEBUG,"log"),r(Di,ji.VERBOSE,"log"),r(Di,ji.INFO,"info"),r(Di,ji.WARN,"warn"),r(Di,ji.ERROR,"error"),Di),zi=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Vi[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Bi=function(){function e(t){_(this,e),this.name=t,this._logLevel=Ui,this._logHandler=zi,this._userLogHandler=null,Mi.push(this)}return P(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in ji))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?Fi[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ji.DEBUG].concat(t)),this._logHandler.apply(this,[this,ji.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ji.VERBOSE].concat(t)),this._logHandler.apply(this,[this,ji.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ji.INFO].concat(t)),this._logHandler.apply(this,[this,ji.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ji.WARN].concat(t)),this._logHandler.apply(this,[this,ji.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,ji.ERROR].concat(t)),this._logHandler.apply(this,[this,ji.ERROR].concat(t))}}]),e}();var qi,Hi,Ki=function(e,t){return t.some((function(t){return e instanceof t}))};var Wi=new WeakMap,Gi=new WeakMap,Qi=new WeakMap,$i=new WeakMap,Yi=new WeakMap;var Xi={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Gi.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Qi.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ea(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Ji(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Hi||(Hi=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(ta(this),n),ea(Wi.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ea(e.apply(ta(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[ta(this),t].concat(r));return Qi.set(a,t.sort?t.sort():[t]),ea(a)}}function Zi(e){return"function"===typeof e?Ji(e):(e instanceof IDBTransaction&&function(e){if(!Gi.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Gi.set(e,t)}}(e),Ki(e,qi||(qi=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Xi):e)}function ea(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ea(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Wi.set(t,e)})).catch((function(){})),Yi.set(t,e),t}(e);if($i.has(e))return $i.get(e);var t=Zi(e);return t!==e&&($i.set(e,t),Yi.set(t,e)),t}var ta=function(e){return Yi.get(e)};var na,ra,ia=["get","getKey","getAll","getAllKeys","count"],aa=["put","add","delete","clear"],oa=new Map;function sa(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(oa.get(t))return oa.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=aa.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||ia.includes(n))){var a=function(){var e=Jr(B.mark((function e(t){var a,o,s,u,c,l,f=arguments;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return oa.set(t,a),a}}}Xi=function(e){return a(a({},e),{},{get:function(t,n,r){return sa(t,n)||e.get(t,n,r)},has:function(t,n){return!!sa(t,n)||e.has(t,n)}})}(Xi);var ua=function(){function e(t){_(this,e),this.container=t}return P(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var ca="@firebase/app",la="0.9.7",fa=new Bi("@firebase/app"),ha="[DEFAULT]",da=(r(na={},ca,"fire-core"),r(na,"@firebase/app-compat","fire-core-compat"),r(na,"@firebase/analytics","fire-analytics"),r(na,"@firebase/analytics-compat","fire-analytics-compat"),r(na,"@firebase/app-check","fire-app-check"),r(na,"@firebase/app-check-compat","fire-app-check-compat"),r(na,"@firebase/auth","fire-auth"),r(na,"@firebase/auth-compat","fire-auth-compat"),r(na,"@firebase/database","fire-rtdb"),r(na,"@firebase/database-compat","fire-rtdb-compat"),r(na,"@firebase/functions","fire-fn"),r(na,"@firebase/functions-compat","fire-fn-compat"),r(na,"@firebase/installations","fire-iid"),r(na,"@firebase/installations-compat","fire-iid-compat"),r(na,"@firebase/messaging","fire-fcm"),r(na,"@firebase/messaging-compat","fire-fcm-compat"),r(na,"@firebase/performance","fire-perf"),r(na,"@firebase/performance-compat","fire-perf-compat"),r(na,"@firebase/remote-config","fire-rc"),r(na,"@firebase/remote-config-compat","fire-rc-compat"),r(na,"@firebase/storage","fire-gcs"),r(na,"@firebase/storage-compat","fire-gcs-compat"),r(na,"@firebase/firestore","fire-fst"),r(na,"@firebase/firestore-compat","fire-fst-compat"),r(na,"fire-js","fire-js"),r(na,"firebase","fire-js-all"),na),pa=new Map,va=new Map;function ma(e,t){try{e.container.addComponent(t)}catch(yN){fa.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),yN)}}function ya(e){var t=e.name;if(va.has(t))return fa.debug("There were multiple attempts to register component ".concat(t,".")),!1;va.set(t,e);var n,r=V(pa.values());try{for(r.s();!(n=r.n()).done;){ma(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function ga(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}var ka=(r(ra={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),r(ra,"bad-app-name","Illegal App name: '{$appName}"),r(ra,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),r(ra,"app-deleted","Firebase App named '{$appName}' already deleted"),r(ra,"no-options","Need to provide options, when not being deployed to hosting via source."),r(ra,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),r(ra,"invalid-log-argument","First argument to `onLog` must be null or a function."),r(ra,"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),r(ra,"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),r(ra,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),r(ra,"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),ra),ba=new mi("app","Firebase",ka),wa=function(){function e(t,n,r){var i=this;_(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Oi("app",(function(){return i}),"PUBLIC"))}return P(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw ba.create("app-deleted",{appName:this._name})}}]),e}(),xa="9.19.1";function Ea(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==typeof t&&(t={name:t});var r=Object.assign({name:ha,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw ba.create("bad-app-name",{appName:String(i)});if(n||(n=ui()),!n)throw ba.create("no-options");var a=pa.get(i);if(a){if(gi(n,a.options)&&gi(r,a.config))return a;throw ba.create("duplicate-app",{appName:i})}var o,s=new Li(i),u=V(va.values());try{for(u.s();!(o=u.n()).done;){var c=o.value;s.addComponent(c)}}catch(f){u.e(f)}finally{u.f()}var l=new wa(n,r,s);return pa.set(i,l),l}function Sa(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ha,t=pa.get(e);if(!t&&e===ha)return Ea();if(!t)throw ba.create("no-app",{appName:e});return t}function Ia(e,t,n){var r,i=null!==(r=da[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void fa.warn(s.join(" "))}ya(new Oi("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}var Ca="firebase-heartbeat-database",Ta=1,_a="firebase-heartbeat-store",Na=null;function Pa(){return Na||(Na=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=ea(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(ea(s.result),e.oldVersion,e.newVersion,ea(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Ca,Ta,{upgrade:function(e,t){if(0===t)e.createObjectStore(_a)}}).catch((function(e){throw ba.create("idb-open",{originalErrorMessage:e.message})}))),Na}function Oa(e){return Ra.apply(this,arguments)}function Ra(){return Ra=Jr(B.mark((function e(t){var n,r;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pa();case 3:return n=e.sent,e.abrupt("return",n.transaction(_a).objectStore(_a).get(ja(t)));case 7:e.prev=7,e.t0=e.catch(0),e.t0 instanceof vi?fa.warn(e.t0.message):(r=ba.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fa.warn(r.message));case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),Ra.apply(this,arguments)}function Aa(e,t){return Da.apply(this,arguments)}function Da(){return Da=Jr(B.mark((function e(t,n){var r,i,a,o;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Pa();case 3:return r=e.sent,i=r.transaction(_a,"readwrite"),a=i.objectStore(_a),e.next=8,a.put(n,ja(t));case 8:return e.abrupt("return",i.done);case 11:e.prev=11,e.t0=e.catch(0),e.t0 instanceof vi?fa.warn(e.t0.message):(o=ba.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),fa.warn(o.message));case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),Da.apply(this,arguments)}function ja(e){return"".concat(e.name,"!").concat(e.options.appId)}var La=function(){function e(t){var n=this;_(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Va(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return P(e,[{key:"triggerHeartbeat",value:function(){var e=Jr(B.mark((function e(){var t,n,r;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=Ma(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Jr(B.mark((function e(){var t,n,r,i,a;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=Ma(),n=Fa(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=ni(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Ma(){return(new Date).toISOString().substring(0,10)}function Fa(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=V(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),za(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),za(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){if("break"===o())break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var Ua,Va=function(){function e(t){_(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return P(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Jr(B.mark((function e(){return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(di()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",pi().then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Jr(B.mark((function e(){var t;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,Oa(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Jr(B.mark((function e(t){var n,r;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Aa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Jr(B.mark((function e(t){var n,r;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",Aa(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(T(r.heartbeats),T(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function za(e){return ni(JSON.stringify({version:2,heartbeats:e})).length}Ua="",ya(new Oi("platform-logger",(function(e){return new ua(e)}),"PRIVATE")),ya(new Oi("heartbeat",(function(e){return new La(e)}),"PRIVATE")),Ia(ca,la,Ua),Ia(ca,la,"esm2017"),Ia("fire-js","");var Ba,qa="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Ha={},Ka=Ka||{},Wa=qa||self;function Ga(){}function Qa(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function $a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Ya="closure_uid_"+(1e9*Math.random()>>>0),Xa=0;function Ja(e,t,n){return e.call.apply(e.bind,arguments)}function Za(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function eo(e,t,n){return(eo=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Ja:Za).apply(null,arguments)}function to(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function no(e,t){function n(){}n.prototype=t.prototype,e.X=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Wb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function ro(){this.s=this.s,this.o=this.o}ro.prototype.s=!1,ro.prototype.na=function(){var e;!this.s&&(this.s=!0,this.M(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ya)&&e[Ya]||(e[Ya]=++Xa))},ro.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var io=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function ao(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function oo(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Qa(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function so(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}so.prototype.h=function(){this.defaultPrevented=!0};var uo=function(){if(!Wa.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{Wa.addEventListener("test",Ga,t),Wa.removeEventListener("test",Ga,t)}catch(n){}return e}();function co(e){return/^[\s\xa0]*$/.test(e)}var lo=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function fo(e,t){return e<t?-1:e>t?1:0}function ho(){var e=Wa.navigator;return e&&(e=e.userAgent)?e:""}function po(e){return-1!=ho().indexOf(e)}function vo(e){return vo[" "](e),e}vo[" "]=Ga;var mo,yo=po("Opera"),go=po("Trident")||po("MSIE"),ko=po("Edge"),bo=ko||go,wo=po("Gecko")&&!(-1!=ho().toLowerCase().indexOf("webkit")&&!po("Edge"))&&!(po("Trident")||po("MSIE"))&&!po("Edge"),xo=-1!=ho().toLowerCase().indexOf("webkit")&&!po("Edge");function Eo(){var e=Wa.document;return e?e.documentMode:void 0}e:{var So="",Io=function(){var e=ho();return wo?/rv:([^\);]+)(\)|;)/.exec(e):ko?/Edge\/([\d\.]+)/.exec(e):go?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):xo?/WebKit\/(\S+)/.exec(e):yo?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Io&&(So=Io?Io[1]:""),go){var Co=Eo();if(null!=Co&&Co>parseFloat(So)){mo=String(Co);break e}}mo=So}var To,_o={};function No(){return function(e){var t=_o;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=lo(String(mo)).split("."),n=lo("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=fo(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||fo(0==a[2].length,0==o[2].length)||fo(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(Wa.document&&go){var Po=Eo();To=Po||(parseInt(mo,10)||void 0)}else To=void 0;var Oo=To;function Ro(e,t){if(so.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(wo){e:{try{vo(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ao[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Ro.X.h.call(this)}}no(Ro,so);var Ao={2:"touch",3:"pen",4:"mouse"};Ro.prototype.h=function(){Ro.X.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Do="closure_listenable_"+(1e6*Math.random()|0),jo=0;function Lo(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++jo,this.ba=this.ea=!1}function Mo(e){e.ba=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function Fo(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function Uo(e){var t={};for(var n in e)t[n]=e[n];return t}var Vo="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function zo(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<Vo.length;a++)n=Vo[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Bo(e){this.src=e,this.g={},this.h=0}function qo(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=io(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(Mo(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Ho(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ba&&a.listener==t&&a.capture==!!n&&a.ha==r)return i}return-1}Bo.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Ho(e,t,r,i);return-1<o?(t=e[o],n||(t.ea=!1)):((t=new Lo(t,this.src,a,!!r,i)).ea=n,e.push(t)),t};var Ko="closure_lm_"+(1e6*Math.random()|0),Wo={};function Go(e,t,n,r,i){if(r&&r.once)return $o(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)Go(e,t[a],n,r,i);return null}return n=ns(n),e&&e[Do]?e.N(t,n,$a(r)?!!r.capture:!!r,i):Qo(e,t,n,!1,r,i)}function Qo(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=$a(i)?!!i.capture:!!i,s=es(e);if(s||(e[Ko]=s=new Bo(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Zo;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)uo||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Jo(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function $o(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)$o(e,t[a],n,r,i);return null}return n=ns(n),e&&e[Do]?e.O(t,n,$a(r)?!!r.capture:!!r,i):Qo(e,t,n,!0,r,i)}function Yo(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Yo(e,t[a],n,r,i);else r=$a(r)?!!r.capture:!!r,n=ns(n),e&&e[Do]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Ho(a=e.g[t],n,r,i))&&(Mo(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=es(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Ho(t,n,r,i)),(n=-1<e?t[e]:null)&&Xo(n))}function Xo(e){if("number"!==typeof e&&e&&!e.ba){var t=e.src;if(t&&t[Do])qo(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Jo(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=es(t))?(qo(n,e),0==n.h&&(n.src=null,t[Ko]=null)):Mo(e)}}}function Jo(e){return e in Wo?Wo[e]:Wo[e]="on"+e}function Zo(e,t){if(e.ba)e=!0;else{t=new Ro(t,this);var n=e.listener,r=e.ha||e.src;e.ea&&Xo(e),e=n.call(r,t)}return e}function es(e){return(e=e[Ko])instanceof Bo?e:null}var ts="__closure_events_fn_"+(1e9*Math.random()>>>0);function ns(e){return"function"===typeof e?e:(e[ts]||(e[ts]=function(t){return e.handleEvent(t)}),e[ts])}function rs(){ro.call(this),this.i=new Bo(this),this.P=this,this.I=null}function is(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new so(t,e);else if(t instanceof so)t.target=t.target||e;else{var i=t;zo(t=new so(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=as(o,r,!0,t)&&i}if(i=as(o=t.g=e,r,!0,t)&&i,i=as(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=as(o=t.g=n[a],r,!1,t)&&i}function as(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ba&&o.capture==n){var s=o.listener,u=o.ha||o.src;o.ea&&qo(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}no(rs,ro),rs.prototype[Do]=!0,rs.prototype.removeEventListener=function(e,t,n,r){Yo(this,e,t,n,r)},rs.prototype.M=function(){if(rs.X.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Mo(n[r]);delete t.g[e],t.h--}}this.I=null},rs.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},rs.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var os=Wa.JSON.stringify;function ss(){var e=vs,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var us,cs=function(){function e(){_(this,e),this.h=this.g=null}return P(e,[{key:"add",value:function(e,t){var n=ls.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ls=new(function(){function e(t,n){_(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return P(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new fs}),(function(e){return e.reset()})),fs=function(){function e(){_(this,e),this.next=this.g=this.h=null}return P(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function hs(e){Wa.setTimeout((function(){throw e}),0)}function ds(e,t){us||function(){var e=Wa.Promise.resolve(void 0);us=function(){e.then(ms)}}(),ps||(us(),ps=!0),vs.add(e,t)}var ps=!1,vs=new cs;function ms(){for(var e;e=ss();){try{e.h.call(e.g)}catch(n){hs(n)}var t=ls;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}ps=!1}function ys(e,t){rs.call(this),this.h=e||1,this.g=t||Wa,this.j=eo(this.lb,this),this.l=Date.now()}function gs(e){e.ca=!1,e.R&&(e.g.clearTimeout(e.R),e.R=null)}function ks(e,t,n){if("function"===typeof e)n&&(e=eo(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=eo(e.handleEvent,e)}return 2147483647<Number(t)?-1:Wa.setTimeout(e,t||0)}function bs(e){e.g=ks((function(){e.g=null,e.i&&(e.i=!1,bs(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}no(ys,rs),(Ba=ys.prototype).ca=!1,Ba.R=null,Ba.lb=function(){if(this.ca){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-e):(this.R&&(this.g.clearTimeout(this.R),this.R=null),is(this,"tick"),this.ca&&(gs(this),this.start()))}},Ba.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ba.M=function(){ys.X.M.call(this),gs(this),delete this.g};var ws=function(e){R(n,e);var t=M(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return P(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:bs(this)}},{key:"M",value:function(){wr(A(n.prototype),"M",this).call(this),this.g&&(Wa.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}(ro);function xs(e){ro.call(this),this.h=e,this.g={}}no(xs,ro);var Es=[];function Ss(e,t,n,r){Array.isArray(n)||(n&&(Es[0]=n.toString()),n=Es);for(var i=0;i<n.length;i++){var a=Go(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function Is(e){Fo(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Xo(e)}),e),e.g={}}function Cs(){this.g=!0}function Ts(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return os(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}xs.prototype.M=function(){xs.X.M.call(this),Is(this)},xs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cs.prototype.Aa=function(){this.g=!1},Cs.prototype.info=function(){};var _s={},Ns=null;function Ps(){return Ns=Ns||new rs}function Os(e){so.call(this,_s.Pa,e)}function Rs(e){var t=Ps();is(t,new Os(t))}function As(e,t){so.call(this,_s.STAT_EVENT,e),this.stat=t}function Ds(e){var t=Ps();is(t,new As(t,e))}function js(e,t){so.call(this,_s.Qa,e),this.size=t}function Ls(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return Wa.setTimeout((function(){e()}),t)}_s.Pa="serverreachability",no(Os,so),_s.STAT_EVENT="statevent",no(As,so),_s.Qa="timingevent",no(js,so);var Ms={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Fs={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Us(){}function Vs(e){return e.h||(e.h=e.i())}function zs(){}Us.prototype.h=null;var Bs,qs={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Hs(){so.call(this,"d")}function Ks(){so.call(this,"c")}function Ws(){}function Gs(e,t,n,r){this.l=e,this.j=t,this.m=n,this.U=r||1,this.S=new xs(this),this.O=$s,e=bo?125:void 0,this.T=new ys(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Qs}function Qs(){this.i=null,this.g="",this.h=!1}no(Hs,so),no(Ks,so),no(Ws,Us),Ws.prototype.g=function(){return new XMLHttpRequest},Ws.prototype.i=function(){return{}},Bs=new Ws;var $s=45e3,Ys={},Xs={};function Js(e,t,n){e.K=1,e.v=yu(hu(t)),e.s=n,e.P=!0,Zs(e,null)}function Zs(e,t){e.F=Date.now(),ru(e),e.A=hu(e.v);var n=e.A,r=e.U;Array.isArray(r)||(r=[String(r)]),Pu(n.i,"t",r),e.C=0,n=e.l.H,e.h=new Qs,e.g=Oc(e.l,n?t:null,!e.s),0<e.N&&(e.L=new ws(eo(e.La,e,e.g),e.N)),Ss(e.S,e.g,"readystatechange",e.ib),t=e.H?Uo(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.da(e.A,e.u,e.s,t)):(e.u="GET",e.g.da(e.A,e.u,null,t)),Rs(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var c=s[u].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.U,e.s)}function eu(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Da)}function tu(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=nu(e,n))==Xs){4==t&&(e.o=4,Ds(14),i=!1),Ts(e.j,e.m,null,"[Incomplete Response]");break}if(r==Ys){e.o=4,Ds(15),Ts(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Ts(e.j,e.m,r,null),uu(e,r)}eu(e)&&r!=Xs&&r!=Ys&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ds(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.$&&(e.$=!0,(t=e.l).g==e&&t.$&&!t.K&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ec(t),t.K=!0,Ds(11))):(Ts(e.j,e.m,n,"[Invalid Chunked Response]"),su(e),ou(e))}function nu(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Xs:(n=Number(t.substring(n,r)),isNaN(n)?Ys:(r+=1)+n>t.length?Xs:(t=t.substr(r,n),e.C=r+n,t))}function ru(e){e.V=Date.now()+e.O,iu(e,e.O)}function iu(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Ls(eo(e.gb,e),t)}function au(e){e.B&&(Wa.clearTimeout(e.B),e.B=null)}function ou(e){0==e.l.G||e.I||Cc(e.l,e)}function su(e){au(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,gs(e.T),Is(e.S),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function uu(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Fu(n.h,e)))if(!e.J&&Fu(n.h,e)&&3==n.G){try{var r=n.Fa.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Ic(n),vc(n)}xc(n),Ds(18)}}else n.Ba=i[1],0<n.Ba-n.T&&37500>i[2]&&n.L&&0==n.A&&!n.v&&(n.v=Ls(eo(n.cb,n),6e3));if(1>=Mu(n.h)&&n.ja){try{n.ja()}catch(a){}n.ja=void 0}}else _c(n,11)}else if((e.J||n.g==e)&&Ic(n),!co(t))for(i=n.Fa.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.T=a[0],a=a[1],2==n.G)if("c"==a[0]){n.I=a[1],n.ka=a[2];var o=a[3];null!=o&&(n.ma=o,n.j.info("VER="+n.ma));var s=a[4];null!=s&&(n.Ca=s,n.j.info("SVER="+n.Ca));var u=a[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.J=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.h;f.g||-1==l.indexOf("spdy")&&-1==l.indexOf("quic")&&-1==l.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(Uu(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.za=h,mu(r.F,r.D,h))}}n.G=3,n.l&&n.l.xa(),n.$&&(n.P=Date.now()-e.F,n.j.info("Handshake RTT: "+n.P+"ms"));var d=e;if((r=n).sa=Pc(r,r.H?r.ka:null,r.V),d.J){Vu(r.h,d);var p=d,v=r.J;v&&p.setTimeout(v),p.B&&(au(p),ru(p)),r.g=d}else wc(r);0<n.i.length&&yc(n)}else"stop"!=a[0]&&"close"!=a[0]||_c(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?_c(n,7):pc(n):"noop"!=a[0]&&n.l&&n.l.wa(a),n.A=0)}Rs()}catch(a){}}function cu(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Qa(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.oa&&"function"==typeof e.oa)return e.oa();if(!e.W||"function"!=typeof e.W){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(Qa(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.W&&"function"==typeof e.W)return e.W();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(Qa(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Ba=Gs.prototype).setTimeout=function(e){this.O=e},Ba.ib=function(e){e=e.target;var t=this.L;t&&3==uc(e)?t.l():this.La(e)},Ba.La=function(e){try{if(e==this.g)e:{var t=uc(this.g),n=this.g.Ea();this.g.aa();if(!(3>t)&&(3!=t||bo||this.g&&(this.h.h||this.g.fa()||cc(this.g)))){this.I||4!=t||7==n||Rs(),au(this);var r=this.g.aa();this.Y=r;t:if(eu(this)){var i=cc(this.g);e="";var a=i.length,o=4==uc(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){su(this),ou(this);var s="";break t}this.h.i=new Wa.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.splice(0,a),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.fa();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.U,t,r),this.i){if(this.Z&&!this.J){t:{if(this.g){var u,c=this.g;if((u=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!co(u)){var l=u;break t}}l=null}if(!(r=l)){this.i=!1,this.o=3,Ds(12),su(this),ou(this);break e}Ts(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,uu(this,r)}this.P?(tu(this,t,s),bo&&this.i&&3==t&&(Ss(this.S,this.T,"tick",this.hb),this.T.start())):(Ts(this.j,this.m,s,null),uu(this,s)),4==t&&su(this),this.i&&!this.I&&(4==t?Cc(this.l,this):(this.i=!1,ru(this)))}else 400==r&&0<s.indexOf("Unknown SID")?(this.o=3,Ds(12)):(this.o=0,Ds(13)),su(this),ou(this)}}}catch(t){}},Ba.hb=function(){if(this.g){var e=uc(this.g),t=this.g.fa();this.C<t.length&&(au(this),tu(this,e,t),this.i&&4!=e&&ru(this))}},Ba.cancel=function(){this.I=!0,su(this)},Ba.gb=function(){this.B=null;var e=Date.now();0<=e-this.V?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Rs(),Ds(17)),su(this),this.o=2,ou(this)):iu(this,this.V-e)};var lu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function fu(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof fu){this.h=void 0!==t?t:e.h,du(this,e.j),this.s=e.s,this.g=e.g,pu(this,e.m),this.l=e.l,t=e.i;var n=new Cu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),vu(this,n),this.o=e.o}else e&&(n=String(e).match(lu))?(this.h=!!t,du(this,n[1]||"",!0),this.s=gu(n[2]||""),this.g=gu(n[3]||"",!0),pu(this,n[4]),this.l=gu(n[5]||"",!0),vu(this,n[6]||"",!0),this.o=gu(n[7]||"")):(this.h=!!t,this.i=new Cu(null,this.h))}function hu(e){return new fu(e)}function du(e,t,n){e.j=n?gu(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function pu(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function vu(e,t,n){t instanceof Cu?(e.i=t,function(e,t){t&&!e.j&&(Tu(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(_u(this,t),Pu(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=ku(t,Su)),e.i=new Cu(t,e.h))}function mu(e,t,n){e.i.set(t,n)}function yu(e){return mu(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function gu(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ku(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,bu),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function bu(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}fu.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ku(t,wu,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ku(t,wu,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ku(n,"/"==n.charAt(0)?Eu:xu,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ku(n,Iu)),e.join("")};var wu=/[#\/\?@]/g,xu=/[#\?:]/g,Eu=/[#\?]/g,Su=/[#\?@]/g,Iu=/#/g;function Cu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Tu(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function _u(e,t){Tu(e),t=Ou(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function Nu(e,t){return Tu(e),t=Ou(e,t),e.g.has(t)}function Pu(e,t,n){_u(e,t),0<n.length&&(e.i=null,e.g.set(Ou(e,t),ao(n)),e.h+=n.length)}function Ou(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Ba=Cu.prototype).add=function(e,t){Tu(this),this.i=null,e=Ou(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Ba.forEach=function(e,t){Tu(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Ba.oa=function(){Tu(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Ba.W=function(e){Tu(this);var t=[];if("string"===typeof e)Nu(this,e)&&(t=t.concat(this.g.get(Ou(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Ba.set=function(e,t){return Tu(this),this.i=null,Nu(this,e=Ou(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Ba.get=function(e,t){return e&&0<(e=this.W(e)).length?String(e[0]):t},Ba.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.W(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var Ru=P((function e(t,n){_(this,e),this.h=t,this.g=n}));function Au(e){this.l=e||ju,Wa.PerformanceNavigationTiming?e=0<(e=Wa.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Wa.g&&Wa.g.Ga&&Wa.g.Ga()&&Wa.g.Ga().$b),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Du,ju=10;function Lu(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Mu(e){return e.h?1:e.g?e.g.size:0}function Fu(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function Uu(e,t){e.g?e.g.add(t):e.h=t}function Vu(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function zu(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=V(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ao(e.i)}function Bu(){}function qu(){this.g=new Bu}function Hu(e,t,n){var r=n||"";try{cu(e,(function(e,n){var i=e;$a(e)&&(i=os(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(yN){throw t.push(r+"type="+encodeURIComponent("_badmap")),yN}}function Ku(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Wu(e){this.l=e.ac||null,this.j=e.jb||!1}function Gu(e,t){rs.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Qu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Au.prototype.cancel=function(){if(this.i=zu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=V(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},Bu.prototype.stringify=function(e){return Wa.JSON.stringify(e,void 0)},Bu.prototype.parse=function(e){return Wa.JSON.parse(e,void 0)},no(Wu,Us),Wu.prototype.g=function(){return new Gu(this.l,this.j)},Wu.prototype.i=(Du={},function(){return Du}),no(Gu,rs);var Qu=0;function $u(e){e.j.read().then(e.Ta.bind(e)).catch(e.ga.bind(e))}function Yu(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Xu(e)}function Xu(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Ba=Gu.prototype).open=function(e,t){if(this.readyState!=Qu)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Xu(this)},Ba.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||Wa).fetch(new Request(this.B,t)).then(this.Wa.bind(this),this.ga.bind(this))},Ba.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Yu(this)),this.readyState=Qu},Ba.Wa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Xu(this)),this.g&&(this.readyState=3,Xu(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if("undefined"!==typeof Wa.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;$u(this)}else e.text().then(this.Va.bind(this),this.ga.bind(this))},Ba.Ta=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Yu(this):Xu(this),3==this.readyState&&$u(this)}},Ba.Va=function(e){this.g&&(this.response=this.responseText=e,Yu(this))},Ba.Ua=function(e){this.g&&(this.response=e,Yu(this))},Ba.ga=function(){this.g&&Yu(this)},Ba.setRequestHeader=function(e,t){this.v.append(e,t)},Ba.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Ba.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Gu.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ju=Wa.JSON.parse;function Zu(e){rs.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=ec,this.K=this.L=!1}no(Zu,rs);var ec="",tc=/^https?$/i,nc=["POST","PUT"];function rc(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,ic(e),oc(e)}function ic(e){e.D||(e.D=!0,is(e,"complete"),is(e,"error"))}function ac(e){if(e.h&&"undefined"!=typeof Ka&&(!e.C[1]||4!=uc(e)||2!=e.aa()))if(e.v&&4==uc(e))ks(e.Ha,0,e);else if(is(e,"readystatechange"),4==uc(e)){e.h=!1;try{var t,n=e.aa();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(lu)[1]||null;if(!a&&Wa.self&&Wa.self.location){var o=Wa.self.location.protocol;a=o.substr(0,o.length-1)}i=!tc.test(a?a.toLowerCase():"")}t=i}if(t)is(e,"complete"),is(e,"success");else{e.m=6;try{var s=2<uc(e)?e.g.statusText:""}catch(u){s=""}e.j=s+" ["+e.aa()+"]",ic(e)}}finally{oc(e)}}}function oc(e,t){if(e.g){sc(e);var n=e.g,r=e.C[0]?Ga:null;e.g=null,e.C=null,t||is(e,"ready");try{n.onreadystatechange=r}catch(yN){}}}function sc(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(Wa.clearTimeout(e.A),e.A=null)}function uc(e){return e.g?e.g.readyState:0}function cc(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case ec:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Qc){return null}}function lc(e){var t="";return Fo(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function fc(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=lc(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):mu(e,t,n))}function hc(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function dc(e){this.Ca=0,this.i=[],this.j=new Cs,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=hc("failFast",!1,e),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=hc("baseRetryDelayMs",5e3,e),this.bb=hc("retryDelaySeedMs",1e4,e),this.$a=hc("forwardChannelMaxRetries",2,e),this.ta=hc("forwardChannelRequestTimeoutMs",2e4,e),this.ra=e&&e.xmlHttpFactory||void 0,this.Da=e&&e.Zb||!1,this.J=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.I="",this.h=new Au(e&&e.concurrentRequestLimit),this.Fa=new qu,this.O=e&&e.fastHandshake||!1,this.N=e&&e.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=e&&e.Xb||!1,e&&e.Aa&&this.j.Aa(),e&&e.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&e&&e.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function pc(e){if(mc(e),3==e.G){var t=e.U++,n=hu(e.F);mu(n,"SID",e.I),mu(n,"RID",t),mu(n,"TYPE","terminate"),kc(e,n),(t=new Gs(e,e.j,t,void 0)).K=2,t.v=yu(hu(n)),n=!1,Wa.navigator&&Wa.navigator.sendBeacon&&(n=Wa.navigator.sendBeacon(t.v.toString(),"")),!n&&Wa.Image&&((new Image).src=t.v,n=!0),n||(t.g=Oc(t.l,null),t.g.da(t.v)),t.F=Date.now(),ru(t)}Nc(e)}function vc(e){e.g&&(Ec(e),e.g.cancel(),e.g=null)}function mc(e){vc(e),e.u&&(Wa.clearTimeout(e.u),e.u=null),Ic(e),e.h.cancel(),e.m&&("number"===typeof e.m&&Wa.clearTimeout(e.m),e.m=null)}function yc(e){Lu(e.h)||e.m||(e.m=!0,ds(e.Ja,e),e.C=0)}function gc(e,t){var n;n=t?t.m:e.U++;var r=hu(e.F);mu(r,"SID",e.I),mu(r,"RID",n),mu(r,"AID",e.T),kc(e,r),e.o&&e.s&&fc(r,e.o,e.s),n=new Gs(e,e.j,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.i=t.D.concat(e.i)),t=bc(e,n,1e3),n.setTimeout(Math.round(.5*e.ta)+Math.round(.5*e.ta*Math.random())),Uu(e.h,n),Js(n,r,t)}function kc(e,t){e.ia&&Fo(e.ia,(function(e,n){mu(t,n,e)})),e.l&&cu({},(function(e,n){mu(t,n,e)}))}function bc(e,t,n){n=Math.min(e.i.length,n);var r=e.l?eo(e.l.Ra,e.l,e):null;e:for(var i=e.i,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var c=i[u].h,l=i[u].g;if(0>(c-=a))a=Math.max(0,i[u].h-100),s=!1;else try{Hu(l,o,"req"+c+"_")}catch(il){r&&r(l)}}if(s){r=o.join("&");break e}}return e=e.i.splice(0,n),t.D=e,r}function wc(e){e.g||e.u||(e.Z=1,ds(e.Ia,e),e.A=0)}function xc(e){return!(e.g||e.u||3<=e.A)&&(e.Z++,e.u=Ls(eo(e.Ia,e),Tc(e,e.A)),e.A++,!0)}function Ec(e){null!=e.B&&(Wa.clearTimeout(e.B),e.B=null)}function Sc(e){e.g=new Gs(e,e.j,"rpc",e.Z),null===e.o&&(e.g.H=e.s),e.g.N=0;var t=hu(e.sa);mu(t,"RID","rpc"),mu(t,"SID",e.I),mu(t,"CI",e.L?"0":"1"),mu(t,"AID",e.T),mu(t,"TYPE","xmlhttp"),kc(e,t),e.o&&e.s&&fc(t,e.o,e.s),e.J&&e.g.setTimeout(e.J);var n=e.g;e=e.ka,n.K=1,n.v=yu(hu(t)),n.s=null,n.P=!0,Zs(n,e)}function Ic(e){null!=e.v&&(Wa.clearTimeout(e.v),e.v=null)}function Cc(e,t){var n=null;if(e.g==t){Ic(e),Ec(e),e.g=null;var r=2}else{if(!Fu(e.h,t))return;n=t.D,Vu(e.h,t),r=1}if(0!=e.G)if(e.pa=t.Y,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;is(r=Ps(),new js(r,n)),yc(e)}else wc(e);else if(3==(i=t.o)||0==i&&0<e.pa||!(1==r&&function(e,t){return!(Mu(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.C>=(e.Za?0:e.$a))&&(e.m=Ls(eo(e.Ja,e,t),Tc(e,e.C)),e.C++,!0))}(e,t)||2==r&&xc(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:_c(e,5);break;case 4:_c(e,10);break;case 3:_c(e,6);break;default:_c(e,2)}}function Tc(e,t){var n=e.Xa+Math.floor(Math.random()*e.bb);return e.l||(n*=2),n*t}function _c(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=eo(e.kb,e);n||(n=new fu("//www.google.com/images/cleardot.gif"),Wa.location&&"http"==Wa.location.protocol||du(n,"https"),yu(n)),function(e,t){var n=new Cs;if(Wa.Image){var r=new Image;r.onload=to(Ku,n,r,"TestLoadImage: loaded",!0,t),r.onerror=to(Ku,n,r,"TestLoadImage: error",!1,t),r.onabort=to(Ku,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=to(Ku,n,r,"TestLoadImage: timeout",!1,t),Wa.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ds(2);e.G=0,e.l&&e.l.va(t),Nc(e),mc(e)}function Nc(e){if(e.G=0,e.la=[],e.l){var t=zu(e.h);0==t.length&&0==e.i.length||(oo(e.la,t),oo(e.la,e.i),e.h.i.length=0,ao(e.i),e.i.length=0),e.l.ua()}}function Pc(e,t,n){var r=n instanceof fu?hu(n):new fu(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),pu(r,r.m);else{var i=Wa.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new fu(null,void 0);r&&du(a,r),t&&(a.g=t),i&&pu(a,i),n&&(a.l=n),r=a}return n=e.D,t=e.za,n&&t&&mu(r,n,t),mu(r,"VER",e.ma),kc(e,r),r}function Oc(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Da&&!e.ra?new Zu(new Wu({jb:!0})):new Zu(e.ra)).Ka(e.H),t}function Rc(){}function Ac(){if(go&&!(10<=Number(Oo)))throw Error("Environmental error: no available transport.")}function Dc(e,t){rs.call(this),this.g=new dc(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.S=e,(e=t&&t.Yb)&&!co(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!co(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Mc(this)}function jc(e){Hs.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Lc(){Ks.call(this),this.status=1}function Mc(e){this.g=e}(Ba=Zu.prototype).Ka=function(e){this.L=e},Ba.da=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Bs.g(),this.C=this.u?Vs(this.u):Vs(Bs),this.g.onreadystatechange=eo(this.Ha,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(s){return void rc(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=V(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Wa.FormData&&e instanceof Wa.FormData,!(0<=io(nc,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,c=V(n);try{for(c.s();!(u=c.n()).done;){var l=b(u.value,2),f=l[0],h=l[1];this.g.setRequestHeader(f,h)}}catch(d){c.e(d)}finally{c.f()}this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{sc(this),0<this.B&&((this.K=function(e){return go&&No()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=eo(this.qa,this)):this.A=ks(this.qa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){rc(this,s)}},Ba.qa=function(){"undefined"!=typeof Ka&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,is(this,"timeout"),this.abort(8))},Ba.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,is(this,"complete"),is(this,"abort"),oc(this))},Ba.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),oc(this,!0)),Zu.X.M.call(this)},Ba.Ha=function(){this.s||(this.F||this.v||this.l?ac(this):this.fb())},Ba.fb=function(){ac(this)},Ba.aa=function(){try{return 2<uc(this)?this.g.status:-1}catch(Du){return-1}},Ba.fa=function(){try{return this.g?this.g.responseText:""}catch(Du){return""}},Ba.Sa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ju(t)}},Ba.Ea=function(){return this.m},Ba.Oa=function(){return"string"===typeof this.j?this.j:String(this.j)},(Ba=dc.prototype).ma=8,Ba.G=1,Ba.Ja=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;var t=new Gs(this,this.j,e,void 0),n=this.s;if(this.S&&(n?zo(n=Uo(n),this.S):n=this.S),null!==this.o||this.N||(t.H=n,n=null),this.O)e:{for(var r=0,i=0;i<this.i.length;i++){var a=this.i[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.i.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=bc(this,t,r),mu(i=hu(this.F),"RID",e),mu(i,"CVER",22),this.D&&mu(i,"X-HTTP-Session-Id",this.D),kc(this,i),n&&(this.N?r="headers="+encodeURIComponent(String(lc(n)))+"&"+r:this.o&&fc(i,this.o,n)),Uu(this.h,t),this.Ya&&mu(i,"TYPE","init"),this.O?(mu(i,"$req",r),mu(i,"SID","null"),t.Z=!0,Js(t,i,null)):Js(t,i,r),this.G=2}}else 3==this.G&&(e?gc(this,e):0==this.i.length||Lu(this.h)||gc(this))},Ba.Ia=function(){if(this.u=null,Sc(this),this.$&&!(this.K||null==this.g||0>=this.P)){var e=2*this.P;this.j.info("BP detection timer enabled: "+e),this.B=Ls(eo(this.eb,this),e)}},Ba.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Ds(10),vc(this),Sc(this))},Ba.cb=function(){null!=this.v&&(this.v=null,vc(this),xc(this),Ds(19))},Ba.kb=function(e){e?(this.j.info("Successfully pinged google.com"),Ds(2)):(this.j.info("Failed to ping google.com"),Ds(1))},(Ba=Rc.prototype).xa=function(){},Ba.wa=function(){},Ba.va=function(){},Ba.ua=function(){},Ba.Ra=function(){},Ac.prototype.g=function(e,t){return new Dc(e,t)},no(Dc,rs),Dc.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;Ds(0),e.V=t,e.ia=n||{},e.L=e.Y,e.F=Pc(e,null,e.V),yc(e)},Dc.prototype.close=function(){pc(this.g)},Dc.prototype.u=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=os(e),e=n);t.i.push(new Ru(t.ab++,e)),3==t.G&&yc(t)},Dc.prototype.M=function(){this.g.l=null,delete this.j,pc(this.g),delete this.g,Dc.X.M.call(this)},no(jc,Hs),no(Lc,Ks),no(Mc,Rc),Mc.prototype.xa=function(){is(this.g,"a")},Mc.prototype.wa=function(e){is(this.g,new jc(e))},Mc.prototype.va=function(e){is(this.g,new Lc)},Mc.prototype.ua=function(){is(this.g,"b")},Ac.prototype.createWebChannel=Ac.prototype.g,Dc.prototype.send=Dc.prototype.u,Dc.prototype.open=Dc.prototype.m,Dc.prototype.close=Dc.prototype.close,Ms.NO_ERROR=0,Ms.TIMEOUT=8,Ms.HTTP_ERROR=6,Fs.COMPLETE="complete",zs.EventType=qs,qs.OPEN="a",qs.CLOSE="b",qs.ERROR="c",qs.MESSAGE="d",rs.prototype.listen=rs.prototype.N,Zu.prototype.listenOnce=Zu.prototype.O,Zu.prototype.getLastError=Zu.prototype.Oa,Zu.prototype.getLastErrorCode=Zu.prototype.Ea,Zu.prototype.getStatus=Zu.prototype.aa,Zu.prototype.getResponseJson=Zu.prototype.Sa,Zu.prototype.getResponseText=Zu.prototype.fa,Zu.prototype.send=Zu.prototype.da,Zu.prototype.setWithCredentials=Zu.prototype.Ka;var Fc=Ha.createWebChannelTransport=function(){return new Ac},Uc=Ha.getStatEventTarget=function(){return Ps()},Vc=Ha.ErrorCode=Ms,zc=Ha.EventType=Fs,Bc=Ha.Event=_s,qc=Ha.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Hc=Ha.FetchXmlHttpFactory=Wu,Kc=Ha.WebChannel=zs,Wc=Ha.XhrIo=Zu,Gc="@firebase/firestore",Qc=function(){function e(t){_(this,e),this.uid=t}return P(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Qc.UNAUTHENTICATED=new Qc(null),Qc.GOOGLE_CREDENTIALS=new Qc("google-credentials-uid"),Qc.FIRST_PARTY=new Qc("first-party-uid"),Qc.MOCK_USER=new Qc("mock-user");var $c="9.19.0",Yc=new Bi("@firebase/firestore");function Xc(){return Yc.logLevel}function Jc(e){if(Yc.logLevel<=ji.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(tl);Yc.debug.apply(Yc,["Firestore (".concat($c,"): ").concat(e)].concat(T(i)))}}function Zc(e){if(Yc.logLevel<=ji.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(tl);Yc.error.apply(Yc,["Firestore (".concat($c,"): ").concat(e)].concat(T(i)))}}function el(e){if(Yc.logLevel<=ji.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(tl);Yc.warn.apply(Yc,["Firestore (".concat($c,"): ").concat(e)].concat(T(i)))}}function tl(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function nl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat($c,") INTERNAL ASSERTION FAILED: ")+e;throw Zc(t),new Error(t)}function rl(e,t){e||nl()}function il(e,t){return e}var al={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ol=function(e){R(n,e);var t=M(n);function n(e,r){var i;return _(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return P(n)}(vi),sl=P((function e(){var t=this;_(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),ul=P((function e(t,n){_(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),cl=function(){function e(){_(this,e)}return P(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Qc.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),ll=function(){function e(t){_(this,e),this.token=t,this.changeListener=null}return P(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),fl=function(){function e(t){_(this,e),this.t=t,this.currentUser=Qc.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return P(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new sl;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new sl,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},s=function(e){Jc("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return s(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?s(e):(Jc("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new sl)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Jc("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(rl("string"==typeof n.accessToken),new ul(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return rl(null===e||"string"==typeof e),new Qc(e)}}]),e}(),hl=function(){function e(t,n,r){_(this,e),this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Qc.FIRST_PARTY,this.g=new Map}return P(e,[{key:"p",value:function(){return this.m?this.m():null}},{key:"headers",get:function(){this.g.set("X-Goog-AuthUser",this.h);var e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}]),e}(),dl=function(){function e(t,n,r){_(this,e),this.h=t,this.l=n,this.m=r}return P(e,[{key:"getToken",value:function(){return Promise.resolve(new hl(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Qc.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),pl=P((function e(t){_(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),vl=function(){function e(t){_(this,e),this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}return P(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Jc("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.T;return n.T=e.token,Jc("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Jc("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.I.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.I.getImmediate({optional:!0});e?i(e):Jc("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(rl("string"==typeof t.token),e.T=t.token,new pl(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}();function ml(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}var yl=function(){function e(){_(this,e)}return P(e,null,[{key:"A",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=ml(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}]),e}();function gl(e,t){return e<t?-1:e>t?1:0}function kl(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}var bl=function(){function e(t,n){if(_(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ol(al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ol(al.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ol(al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ol(al.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return P(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?gl(this.nanoseconds,e.nanoseconds):gl(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),wl=function(){function e(t){_(this,e),this.timestamp=t}return P(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new bl(0,0))}},{key:"max",value:function(){return new e(new bl(253402300799,999999999))}}]),e}(),xl=function(){function e(t,n,r){_(this,e),void 0===n?n=0:n>t.length&&nl(),void 0===r?r=t.length-n:r>t.length-n&&nl(),this.segments=t,this.offset=n,this.len=r}return P(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),El=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.apply(this,arguments)}return P(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new ol(al.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,T(s.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xl),Sl=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Il=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.apply(this,arguments)}return P(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Sl.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ol(al.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new ol(al.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new ol(al.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new ol(al.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(xl),Cl=function(){function e(t){_(this,e),this.path=t}return P(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===El.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(El.fromString(t))}},{key:"fromName",value:function(t){return new e(El.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(El.emptyPath())}},{key:"comparator",value:function(e,t){return El.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new El(t.slice()))}}]),e}(),Tl=P((function e(t,n,r,i){_(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));Tl.UNKNOWN_ID=-1;function _l(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=wl.fromTimestamp(1e9===r?new bl(n+1,0):new bl(n,r));return new Pl(i,Cl.empty(),t)}function Nl(e){return new Pl(e.readTime,e.key,-1)}var Pl=function(){function e(t,n,r){_(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return P(e,null,[{key:"min",value:function(){return new e(wl.min(),Cl.empty(),-1)}},{key:"max",value:function(){return new e(wl.max(),Cl.empty(),-1)}}]),e}();function Ol(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Cl.comparator(e.documentKey,t.documentKey))?n:gl(e.largestBatchId,t.largestBatchId)}var Rl="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Al=function(){function e(){_(this,e),this.onCommittedListeners=[]}return P(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}();function Dl(e){return jl.apply(this,arguments)}function jl(){return jl=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===al.FAILED_PRECONDITION&&t.message===Rl){e.next=2;break}throw t;case 2:Jc("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),jl.apply(this,arguments)}var Ll=function(){function e(t){var n=this;_(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return P(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&nl(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=V(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(s){var u=s;n(t[u]).next((function(t){a[u]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s(u)}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}]),e}();function Ml(e){return"IndexedDbTransactionError"===e.name}var Fl=function(){function e(t,n){var r=this;_(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.ot(e)},this.ut=function(e){return n.writeSequenceNumber(e)})}return P(e,[{key:"ot",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.ut&&this.ut(e),e}}]),e}();function Ul(e){return null==e}function Vl(e){return 0===e&&1/e==-1/0}function zl(e){return"number"==typeof e&&Number.isInteger(e)&&!Vl(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}Fl.ct=-1;var Bl=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),ql=([].concat(T(Bl),["documentOverlays"]),["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"]),Hl=ql;[].concat(Hl,["indexConfiguration","indexState","indexEntries"]);function Kl(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Wl(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Gl(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Ql=function(){function e(t,n){_(this,e),this.comparator=t,this.root=n||Yl.EMPTY}return P(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Yl.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Yl.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new $l(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new $l(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new $l(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new $l(this.root,e,this.comparator,!0)}}]),e}(),$l=function(){function e(t,n,r,i){_(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return P(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Yl=function(){function e(t,n,r,i,a){_(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return P(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw nl();if(this.right.isRed())throw nl();var e=this.left.check();if(e!==this.right.check())throw nl();return e+(this.isRed()?0:1)}}]),e}();Yl.EMPTY=null,Yl.RED=!0,Yl.BLACK=!1,Yl.EMPTY=new(function(){function e(){_(this,e),this.size=0}return P(e,[{key:"key",get:function(){throw nl()}},{key:"value",get:function(){throw nl()}},{key:"color",get:function(){throw nl()}},{key:"left",get:function(){throw nl()}},{key:"right",get:function(){throw nl()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Yl(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Xl=function(){function e(t){_(this,e),this.comparator=t,this.data=new Ql(this.comparator)}return P(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Jl(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Jl(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Jl=function(){function e(t){_(this,e),this.iter=t}return P(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();var Zl=function(){function e(t){_(this,e),this.fields=t,t.sort(Il.comparator)}return P(e,[{key:"unionWith",value:function(t){var n,r=new Xl(Il.comparator),i=V(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(c){i.e(c)}finally{i.f()}var o,s=V(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(c){s.e(c)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=V(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return kl(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}]),e}(),ef=function(e){R(n,e);var t=M(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).name="Base64DecodeError",e}return P(n)}(U(Error));var tf=function(e){function t(e){_(this,t),this.binaryString=e}return P(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return gl(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new ef("Invalid base64 string: "+e):e}}(e);return new t(n)}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();tf.EMPTY_BYTE_STRING=new tf("");var nf=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function rf(e){if(rl(!!e),"string"==typeof e){var t=0,n=nf.exec(e);if(rl(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:af(e.seconds),nanos:af(e.nanos)}}function af(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function of(e){return"string"==typeof e?tf.fromBase64String(e):tf.fromUint8Array(e)}function sf(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function uf(e){var t=e.mapValue.fields.__previous_value__;return sf(t)?uf(t):t}function cf(e){var t=rf(e.mapValue.fields.__local_write_time__.timestampValue);return new bl(t.seconds,t.nanos)}var lf=P((function e(t,n,r,i,a,o,s,u){_(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=u})),ff=function(){function e(t,n){_(this,e),this.projectId=t,this.database=n||"(default)"}return P(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}(),hf={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function df(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?sf(e)?4:Tf(e)?9007199254740991:10:nl()}function pf(e,t){if(e===t)return!0;var n=df(e);if(n!==df(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return cf(e).isEqual(cf(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=rf(e.timestampValue),r=rf(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return of(e.bytesValue).isEqual(of(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return af(e.geoPointValue.latitude)===af(t.geoPointValue.latitude)&&af(e.geoPointValue.longitude)===af(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return af(e.integerValue)===af(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=af(e.doubleValue),r=af(t.doubleValue);return n===r?Vl(n)===Vl(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return kl(e.arrayValue.values||[],t.arrayValue.values||[],pf);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Kl(n)!==Kl(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!pf(n[i],r[i])))return!1;return!0}(e,t);default:return nl()}}function vf(e,t){return void 0!==(e.values||[]).find((function(e){return pf(e,t)}))}function mf(e,t){if(e===t)return 0;var n=df(e),r=df(t);if(n!==r)return gl(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return gl(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=af(e.integerValue||e.doubleValue),r=af(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return yf(e.timestampValue,t.timestampValue);case 4:return yf(cf(e),cf(t));case 5:return gl(e.stringValue,t.stringValue);case 6:return function(e,t){var n=of(e),r=of(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=gl(n[i],r[i]);if(0!==a)return a}return gl(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=gl(af(e.latitude),af(t.latitude));return 0!==n?n:gl(af(e.longitude),af(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=mf(n[i],r[i]);if(a)return a}return gl(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===hf.mapValue&&t===hf.mapValue)return 0;if(e===hf.mapValue)return 1;if(t===hf.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=gl(r[o],a[o]);if(0!==s)return s;var u=mf(n[r[o]],i[a[o]]);if(0!==u)return u}return gl(r.length,a.length)}(e.mapValue,t.mapValue);default:throw nl()}}function yf(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return gl(e,t);var n=rf(e),r=rf(t),i=gl(n.seconds,r.seconds);return 0!==i?i:gl(n.nanos,r.nanos)}function gf(e){return kf(e)}function kf(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=rf(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?of(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Cl.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=V(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=kf(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=V(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(kf(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):nl();var t,n}function bf(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function wf(e){return!!e&&"integerValue"in e}function xf(e){return!!e&&"arrayValue"in e}function Ef(e){return!!e&&"nullValue"in e}function Sf(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function If(e){return!!e&&"mapValue"in e}function Cf(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Wl(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=Cf(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=Cf(e.arrayValue.values[r]);return n}return Object.assign({},e)}function Tf(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}var _f=function(){function e(t){_(this,e),this.value=t}return P(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!If(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Cf(t)}},{key:"setAll",value:function(e){var t=this,n=Il.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=Cf(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());If(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return pf(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];If(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Wl(t,(function(t,n){return e[t]=n}));var r,i=V(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(Cf(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function Nf(e){var t=[];return Wl(e.fields,(function(e,n){var r=new Il([e]);if(If(n)){var i=Nf(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=V(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new Zl(t)}var Pf=function(){function e(t,n,r,i,a,o,s){_(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return P(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(wl.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=_f.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=_f.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=wl.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,wl.min(),wl.min(),wl.min(),_f.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,wl.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,wl.min(),wl.min(),_f.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,wl.min(),wl.min(),_f.empty(),2)}}]),e}(),Of=P((function e(t,n){_(this,e),this.position=t,this.inclusive=n}));function Rf(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Cl.comparator(Cl.fromName(o.referenceValue),n.key):mf(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Af(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!pf(e.position[n],t.position[n]))return!1;return!0}var Df=P((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";_(this,e),this.field=t,this.dir=n}));function jf(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}var Lf=P((function e(){_(this,e)})),Mf=function(e){R(n,e);var t=M(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return P(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(mf(t,this.value)):null!==t&&df(this.value)===df(t)&&this.matchesComparison(mf(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nl()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}},{key:"getFirstInequalityField",value:function(){return this.isInequality()?this.field:null}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Kf(e,t,r):"array-contains"===t?new $f(e,r):"in"===t?new Yf(e,r):"not-in"===t?new Xf(e,r):"array-contains-any"===t?new Jf(e,r):new n(e,t,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new Wf(e,n):new Gf(e,n)}}]),n}(Lf),Ff=function(e){R(n,e);var t=M(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).filters=e,i.op=r,i.ht=null,i}return P(n,[{key:"matches",value:function(e){return Uf(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ht||(this.ht=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ht}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}},{key:"getFirstInequalityField",value:function(){var e=this.lt((function(e){return e.isInequality()}));return null!==e?e.field:null}},{key:"lt",value:function(e){var t,n=V(this.getFlattenedFilters());try{for(n.s();!(t=n.n()).done;){var r=t.value;if(e(r))return r}}catch(i){n.e(i)}finally{n.f()}return null}}],[{key:"create",value:function(e,t){return new n(e,t)}}]),n}(Lf);function Uf(e){return"and"===e.op}function Vf(e){return zf(e)&&Uf(e)}function zf(e){var t,n=V(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof Ff)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}function Bf(e){if(e instanceof Mf)return e.field.canonicalString()+e.op.toString()+gf(e.value);if(Vf(e))return e.filters.map((function(e){return Bf(e)})).join(",");var t=e.filters.map((function(e){return Bf(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function qf(e,t){return e instanceof Mf?function(e,t){return t instanceof Mf&&e.op===t.op&&e.field.isEqual(t.field)&&pf(e.value,t.value)}(e,t):e instanceof Ff?function(e,t){return t instanceof Ff&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&qf(n,t.filters[r])}),!0)}(e,t):void nl()}function Hf(e){return e instanceof Mf?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(gf(e.value))}(e):e instanceof Ff?function(e){return e.op.toString()+" {"+e.getFilters().map(Hf).join(" ,")+"}"}(e):"Filter"}var Kf=function(e){R(n,e);var t=M(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this,e,r,i)).key=Cl.fromName(i.referenceValue),a}return P(n,[{key:"matches",value:function(e){var t=Cl.comparator(e.key,this.key);return this.matchesComparison(t)}}]),n}(Mf),Wf=function(e){R(n,e);var t=M(n);function n(e,r){var i;return _(this,n),(i=t.call(this,e,"in",r)).keys=Qf("in",r),i}return P(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mf),Gf=function(e){R(n,e);var t=M(n);function n(e,r){var i;return _(this,n),(i=t.call(this,e,"not-in",r)).keys=Qf("not-in",r),i}return P(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Mf);function Qf(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Cl.fromName(e.referenceValue)}))}var $f=function(e){R(n,e);var t=M(n);function n(e,r){return _(this,n),t.call(this,e,"array-contains",r)}return P(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return xf(t)&&vf(t.arrayValue,this.value)}}]),n}(Mf),Yf=function(e){R(n,e);var t=M(n);function n(e,r){return _(this,n),t.call(this,e,"in",r)}return P(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&vf(this.value.arrayValue,t)}}]),n}(Mf),Xf=function(e){R(n,e);var t=M(n);function n(e,r){return _(this,n),t.call(this,e,"not-in",r)}return P(n,[{key:"matches",value:function(e){if(vf(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!vf(this.value.arrayValue,t)}}]),n}(Mf),Jf=function(e){R(n,e);var t=M(n);function n(e,r){return _(this,n),t.call(this,e,"array-contains-any",r)}return P(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!xf(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return vf(t.value.arrayValue,e)}))}}]),n}(Mf),Zf=P((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;_(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ft=null}));function eh(e){return new Zf(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function th(e){var t=il(e);if(null===t.ft){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return Bf(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Ul(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return gf(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return gf(e)})).join(",")),t.ft=n}return t.ft}function nh(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!jf(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!qf(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Af(e.startAt,t.startAt)&&Af(e.endAt,t.endAt)}function rh(e){return Cl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}var ih=P((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;_(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.dt=null,this.wt=null,this.startAt,this.endAt}));function ah(e,t,n,r,i,a,o,s){return new ih(e,t,n,r,i,a,o,s)}function oh(e){return new ih(e)}function sh(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function uh(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function ch(e){var t,n=V(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value.getFirstInequalityField();if(null!==r)return r}}catch(i){n.e(i)}finally{n.f()}return null}function lh(e){return null!==e.collectionGroup}function fh(e){var t=il(e);if(null===t.dt){t.dt=[];var n=ch(t),r=uh(t);if(null!==n&&null===r)n.isKeyField()||t.dt.push(new Df(n)),t.dt.push(new Df(Il.keyField(),"asc"));else{var i,a=!1,o=V(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var s=i.value;t.dt.push(s),s.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var u=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Df(Il.keyField(),u))}}}return t.dt}function hh(e){var t=il(e);if(!t.wt)if("F"===t.limitType)t.wt=eh(t.path,t.collectionGroup,fh(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=V(fh(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new Df(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var s=t.endAt?new Of(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new Of(t.startAt.position,t.startAt.inclusive):null;t.wt=eh(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.wt}function dh(e,t){t.getFirstInequalityField(),ch(e);var n=e.filters.concat([t]);return new ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function ph(e,t,n){return new ih(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function vh(e,t){return nh(hh(e),hh(t))&&e.limitType===t.limitType}function mh(e){return"".concat(th(hh(e)),"|lt:").concat(e.limitType)}function yh(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return Hf(e)})).join(", "),"]")),Ul(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return gf(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return gf(e)})).join(",")),"Target(".concat(t,")")}(hh(e)),"; limitType=").concat(e.limitType,")")}function gh(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Cl.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=V(fh(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=V(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Rf(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,fh(e),t))&&!(e.endAt&&!function(e,t,n){var r=Rf(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,fh(e),t))}(e,t)}function kh(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function bh(e){return function(t,n){var r,i=!1,a=V(fh(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=wh(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function wh(e,t,n){var r=e.field.isKeyField()?Cl.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?mf(r,i):nl()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return nl()}}var xh=function(){function e(t,n){_(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return P(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=V(n);try{for(i.s();!(r=i.n()).done;){var a=b(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Wl(this.inner,(function(t,n){var r,i=V(n);try{for(i.s();!(r=i.n()).done;){var a=b(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Gl(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Eh=new Ql(Cl.comparator);function Sh(){return Eh}var Ih=new Ql(Cl.comparator);function Ch(){for(var e=Ih,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function Th(e){var t=Ih;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function _h(){return Ph()}function Nh(){return Ph()}function Ph(){return new xh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var Oh=new Ql(Cl.comparator),Rh=new Xl(Cl.comparator);function Ah(){for(var e=Rh,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var Dh=new Xl(gl);function jh(){return Dh}function Lh(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vl(t)?"-0":t}}function Mh(e){return{integerValue:""+e}}function Fh(e,t){return zl(t)?Mh(t):Lh(e,t)}var Uh=P((function e(){_(this,e),this._=void 0}));function Vh(e,t,n){return e instanceof qh?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Hh?Kh(e,t):e instanceof Wh?Gh(e,t):function(e,t){var n=Bh(e,t),r=$h(n)+$h(e._t);return wf(n)&&wf(e._t)?Mh(r):Lh(e.serializer,r)}(e,t)}function zh(e,t,n){return e instanceof Hh?Kh(e,t):e instanceof Wh?Gh(e,t):n}function Bh(e,t){return e instanceof Qh?wf(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var qh=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.apply(this,arguments)}return P(n)}(Uh),Hh=function(e){R(n,e);var t=M(n);function n(e){var r;return _(this,n),(r=t.call(this)).elements=e,r}return P(n)}(Uh);function Kh(e,t){var n,r=Yh(t),i=V(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return pf(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Wh=function(e){R(n,e);var t=M(n);function n(e){var r;return _(this,n),(r=t.call(this)).elements=e,r}return P(n)}(Uh);function Gh(e,t){var n,r=Yh(t),i=V(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!pf(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Qh=function(e){R(n,e);var t=M(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).serializer=e,i._t=r,i}return P(n)}(Uh);function $h(e){return af(e.integerValue||e.doubleValue)}function Yh(e){return xf(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var Xh=P((function e(t,n){_(this,e),this.version=t,this.transformResults=n})),Jh=function(){function e(t,n){_(this,e),this.updateTime=t,this.exists=n}return P(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function Zh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var ed=P((function e(){_(this,e)}));function td(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new dd(e.key,Jh.none()):new od(e.key,e.data,Jh.none());var n,r=e.data,i=_f.empty(),a=new Xl(Il.comparator),o=V(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(c){o.e(c)}finally{o.f()}return new sd(e.key,i,new Zl(a.toArray()),Jh.none())}function nd(e,t,n){e instanceof od?function(e,t,n){var r=e.value.clone(),i=cd(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof sd?function(e,t,n){if(Zh(e.precondition,t)){var r=cd(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(ud(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function rd(e,t,n,r){return e instanceof od?function(e,t,n,r){if(!Zh(e.precondition,t))return n;var i=e.value.clone(),a=ld(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof sd?function(e,t,n,r){if(!Zh(e.precondition,t))return n;var i=ld(e.fieldTransforms,r,t),a=t.data;return a.setAll(ud(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Zh(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function id(e,t){var n,r=null,i=V(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Bh(a.transform,o||null);null!=s&&(null===r&&(r=_f.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function ad(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&kl(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Hh&&t instanceof Hh||e instanceof Wh&&t instanceof Wh?kl(e.elements,t.elements,pf):e instanceof Qh&&t instanceof Qh?pf(e._t,t._t):e instanceof qh&&t instanceof qh}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var od=function(e){R(n,e);var t=M(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return _(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return P(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ed),sd=function(e){R(n,e);var t=M(n);function n(e,r,i,a){var o,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return _(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=s,o.type=1,o}return P(n,[{key:"getFieldMask",value:function(){return this.fieldMask}}]),n}(ed);function ud(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function cd(e,t,n){var r=new Map;rl(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,zh(o,s,n[i]))}return r}function ld(e,t,n){var r,i=new Map,a=V(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Vh(s,u,t))}}catch(c){a.e(c)}finally{a.f()}return i}var fd,hd,dd=function(e){R(n,e);var t=M(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return P(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ed),pd=function(e){R(n,e);var t=M(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return P(n,[{key:"getFieldMask",value:function(){return null}}]),n}(ed),vd=function(){function e(t,n,r,i){_(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return P(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&nd(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=V(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=rd(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=V(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=rd(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=Nh();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=td(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(wl.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),Ah())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&kl(this.mutations,e.mutations,(function(e,t){return ad(e,t)}))&&kl(this.baseMutations,e.baseMutations,(function(e,t){return ad(e,t)}))}}]),e}(),md=function(){function e(t,n,r,i){_(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return P(e,null,[{key:"from",value:function(t,n,r){rl(t.mutations.length===r.length);for(var i=Oh,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),yd=function(){function e(t,n){_(this,e),this.largestBatchId=t,this.mutation=n}return P(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),gd=P((function e(t){_(this,e),this.count=t}));function kd(e){switch(e){default:return nl();case al.CANCELLED:case al.UNKNOWN:case al.DEADLINE_EXCEEDED:case al.RESOURCE_EXHAUSTED:case al.INTERNAL:case al.UNAVAILABLE:case al.UNAUTHENTICATED:return!1;case al.INVALID_ARGUMENT:case al.NOT_FOUND:case al.ALREADY_EXISTS:case al.PERMISSION_DENIED:case al.FAILED_PRECONDITION:case al.ABORTED:case al.OUT_OF_RANGE:case al.UNIMPLEMENTED:case al.DATA_LOSS:return!0}}function bd(e){if(void 0===e)return Zc("GRPC error has no .code"),al.UNKNOWN;switch(e){case fd.OK:return al.OK;case fd.CANCELLED:return al.CANCELLED;case fd.UNKNOWN:return al.UNKNOWN;case fd.DEADLINE_EXCEEDED:return al.DEADLINE_EXCEEDED;case fd.RESOURCE_EXHAUSTED:return al.RESOURCE_EXHAUSTED;case fd.INTERNAL:return al.INTERNAL;case fd.UNAVAILABLE:return al.UNAVAILABLE;case fd.UNAUTHENTICATED:return al.UNAUTHENTICATED;case fd.INVALID_ARGUMENT:return al.INVALID_ARGUMENT;case fd.NOT_FOUND:return al.NOT_FOUND;case fd.ALREADY_EXISTS:return al.ALREADY_EXISTS;case fd.PERMISSION_DENIED:return al.PERMISSION_DENIED;case fd.FAILED_PRECONDITION:return al.FAILED_PRECONDITION;case fd.ABORTED:return al.ABORTED;case fd.OUT_OF_RANGE:return al.OUT_OF_RANGE;case fd.UNIMPLEMENTED:return al.UNIMPLEMENTED;case fd.DATA_LOSS:return al.DATA_LOSS;default:return nl()}}(hd=fd||(fd={}))[hd.OK=0]="OK",hd[hd.CANCELLED=1]="CANCELLED",hd[hd.UNKNOWN=2]="UNKNOWN",hd[hd.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",hd[hd.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",hd[hd.NOT_FOUND=5]="NOT_FOUND",hd[hd.ALREADY_EXISTS=6]="ALREADY_EXISTS",hd[hd.PERMISSION_DENIED=7]="PERMISSION_DENIED",hd[hd.UNAUTHENTICATED=16]="UNAUTHENTICATED",hd[hd.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",hd[hd.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",hd[hd.ABORTED=10]="ABORTED",hd[hd.OUT_OF_RANGE=11]="OUT_OF_RANGE",hd[hd.UNIMPLEMENTED=12]="UNIMPLEMENTED",hd[hd.INTERNAL=13]="INTERNAL",hd[hd.UNAVAILABLE=14]="UNAVAILABLE",hd[hd.DATA_LOSS=15]="DATA_LOSS";var wd=function(){function e(){_(this,e),this.onExistenceFilterMismatchCallbacks=new Map}return P(e,[{key:"onExistenceFilterMismatch",value:function(e){var t=this,n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),function(){return t.onExistenceFilterMismatchCallbacks.delete(n)}}},{key:"notifyOnExistenceFilterMismatch",value:function(e){this.onExistenceFilterMismatchCallbacks.forEach((function(t){return t(e)}))}}],[{key:"instance",get:function(){return xd}},{key:"getOrCreateInstance",value:function(){return null===xd&&(xd=new e),xd}}]),e}(),xd=null,Ed=function(){function e(t,n,r,i,a){_(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return P(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,Sd.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(wl.min(),i,jh(),Sh(),Ah())}}]),e}(),Sd=function(){function e(t,n,r,i,a){_(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return P(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,Ah(),Ah(),Ah())}}]),e}(),Id=P((function e(t,n,r,i){_(this,e),this.It=t,this.removedTargetIds=n,this.key=r,this.Tt=i})),Cd=P((function e(t,n){_(this,e),this.targetId=t,this.Et=n})),Td=P((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:tf.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;_(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),_d=function(){function e(){_(this,e),this.At=0,this.Rt=Od(),this.vt=tf.EMPTY_BYTE_STRING,this.bt=!1,this.Pt=!0}return P(e,[{key:"current",get:function(){return this.bt}},{key:"resumeToken",get:function(){return this.vt}},{key:"Vt",get:function(){return 0!==this.At}},{key:"St",get:function(){return this.Pt}},{key:"Dt",value:function(e){e.approximateByteSize()>0&&(this.Pt=!0,this.vt=e)}},{key:"Ct",value:function(){var e=Ah(),t=Ah(),n=Ah();return this.Rt.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:nl()}})),new Sd(this.vt,this.bt,e,t,n)}},{key:"xt",value:function(){this.Pt=!1,this.Rt=Od()}},{key:"Nt",value:function(e,t){this.Pt=!0,this.Rt=this.Rt.insert(e,t)}},{key:"kt",value:function(e){this.Pt=!0,this.Rt=this.Rt.remove(e)}},{key:"Ot",value:function(){this.At+=1}},{key:"$t",value:function(){this.At-=1}},{key:"Mt",value:function(){this.Pt=!0,this.bt=!0}}]),e}(),Nd=function(){function e(t){_(this,e),this.Ft=t,this.Bt=new Map,this.Lt=Sh(),this.qt=Pd(),this.Ut=new Xl(gl)}return P(e,[{key:"Kt",value:function(e){var t,n=V(e.It);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.Tt&&e.Tt.isFoundDocument()?this.Gt(r,e.Tt):this.Qt(r,e.key,e.Tt)}}catch(s){n.e(s)}finally{n.f()}var i,a=V(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.Qt(o,e.key,e.Tt)}}catch(s){a.e(s)}finally{a.f()}}},{key:"zt",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.jt(n);switch(e.state){case 0:t.Wt(n)&&r.Dt(e.resumeToken);break;case 1:r.$t(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.$t(),r.Vt||t.removeTarget(n);break;case 3:t.Wt(n)&&(r.Mt(),r.Dt(e.resumeToken));break;case 4:t.Wt(n)&&(t.Ht(n),r.Dt(e.resumeToken));break;default:nl()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((function(e,r){n.Wt(r)&&t(r)}))}},{key:"Jt",value:function(e){var t,n=e.targetId,r=e.Et.count,i=this.Yt(n);if(i){var a=i.target;if(rh(a))if(0===r){var o=new Cl(a.path);this.Qt(n,o,Pf.newNoDocument(o,wl.min()))}else rl(1===r);else{var s=this.Zt(n);s!==r&&(this.Ht(n),this.Ut=this.Ut.add(n),null===(t=wd.instance)||void 0===t||t.notifyOnExistenceFilterMismatch({localCacheCount:s,existenceFilterCount:e.Et.count}))}}}},{key:"Xt",value:function(e){var t=this,n=new Map;this.Bt.forEach((function(r,i){var a=t.Yt(i);if(a){if(r.current&&rh(a.target)){var o=new Cl(a.target.path);null!==t.Lt.get(o)||t.te(i,o)||t.Qt(i,o,Pf.newNoDocument(o,e))}r.St&&(n.set(i,r.Ct()),r.xt())}}));var r=Ah();this.qt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Yt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.Lt.forEach((function(t,n){return n.setReadTime(e)}));var i=new Ed(e,n,this.Ut,this.Lt,r);return this.Lt=Sh(),this.qt=Pd(),this.Ut=new Xl(gl),i}},{key:"Gt",value:function(e,t){if(this.Wt(e)){var n=this.te(e,t.key)?2:0;this.jt(e).Nt(t.key,n),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}}},{key:"Qt",value:function(e,t,n){if(this.Wt(e)){var r=this.jt(e);this.te(e,t)?r.Nt(t,1):r.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),n&&(this.Lt=this.Lt.insert(t,n))}}},{key:"removeTarget",value:function(e){this.Bt.delete(e)}},{key:"Zt",value:function(e){var t=this.jt(e).Ct();return this.Ft.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Ot",value:function(e){this.jt(e).Ot()}},{key:"jt",value:function(e){var t=this.Bt.get(e);return t||(t=new _d,this.Bt.set(e,t)),t}},{key:"ee",value:function(e){var t=this.qt.get(e);return t||(t=new Xl(gl),this.qt=this.qt.insert(e,t)),t}},{key:"Wt",value:function(e){var t=null!==this.Yt(e);return t||Jc("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Yt",value:function(e){var t=this.Bt.get(e);return t&&t.Vt?null:this.Ft.ne(e)}},{key:"Ht",value:function(e){var t=this;this.Bt.set(e,new _d),this.Ft.getRemoteKeysForTarget(e).forEach((function(n){t.Qt(e,n,null)}))}},{key:"te",value:function(e,t){return this.Ft.getRemoteKeysForTarget(e).has(t)}}]),e}();function Pd(){return new Ql(Cl.comparator)}function Od(){return new Ql(Cl.comparator)}var Rd={asc:"ASCENDING",desc:"DESCENDING"},Ad={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Dd={and:"AND",or:"OR"},jd=P((function e(t,n){_(this,e),this.databaseId=t,this.useProto3Json=n}));function Ld(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Md(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Fd(e,t){return Ld(e,t.toTimestamp())}function Ud(e){return rl(!!e),wl.fromTimestamp(function(e){var t=rf(e);return new bl(t.seconds,t.nanos)}(e))}function Vd(e,t){return function(e){return new El(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function zd(e){var t=El.fromString(e);return rl(sp(t)),t}function Bd(e,t){return Vd(e.databaseId,t.path)}function qd(e,t){var n=zd(t);if(n.get(1)!==e.databaseId.projectId)throw new ol(al.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ol(al.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Cl(Gd(n))}function Hd(e,t){return Vd(e.databaseId,t)}function Kd(e){var t=zd(e);return 4===t.length?El.emptyPath():Gd(t)}function Wd(e){return new El(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Gd(e){return rl(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function Qd(e,t,n){return{name:Bd(e,t),fields:n.value.mapValue.fields}}function $d(e,t){var n;if(t instanceof od)n={update:Qd(e,t.key,t.value)};else if(t instanceof dd)n={delete:Bd(e,t.key)};else if(t instanceof sd)n={update:Qd(e,t.key,t.data),updateMask:op(t.fieldMask)};else{if(!(t instanceof pd))return nl();n={verify:Bd(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof qh)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Hh)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Wh)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Qh)return{fieldPath:t.field.canonicalString(),increment:n._t};throw nl()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:Fd(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:nl()}(e,t.precondition)),n}function Yd(e,t){return{documents:[Hd(e,t.path)]}}function Xd(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=Hd(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=Hd(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length)return ap(Ff.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:rp(e.field),direction:ep(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,s=function(e,t){return e.useProto3Json||Ul(t)?t:{value:t}}(e,t.limit);return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Jd(e){var t=Kd(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){rl(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=Zd(e);return t instanceof Ff&&Vf(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=n.orderBy.map((function(e){return function(e){return new Df(ip(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var u=null;n.limit&&(u=function(e){var t;return Ul(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Of(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Of(n,t)}(n.endAt)),ah(t,i,s,o,u,"F",c,l)}function Zd(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=ip(e.unaryFilter.field);return Mf.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=ip(e.unaryFilter.field);return Mf.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=ip(e.unaryFilter.field);return Mf.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=ip(e.unaryFilter.field);return Mf.create(i,"!=",{nullValue:"NULL_VALUE"});default:return nl()}}(e):void 0!==e.fieldFilter?function(e){return Mf.create(ip(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nl()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Ff.create(e.compositeFilter.filters.map((function(e){return Zd(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return nl()}}(e.compositeFilter.op))}(e):nl()}function ep(e){return Rd[e]}function tp(e){return Ad[e]}function np(e){return Dd[e]}function rp(e){return{fieldPath:e.canonicalString()}}function ip(e){return Il.fromServerFormat(e.fieldPath)}function ap(e){return e instanceof Mf?function(e){if("=="===e.op){if(Sf(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NAN"}};if(Ef(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Sf(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NOT_NAN"}};if(Ef(e.value))return{unaryFilter:{field:rp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rp(e.field),op:tp(e.op),value:e.value}}}(e):e instanceof Ff?function(e){var t=e.getFilters().map((function(e){return ap(e)}));return 1===t.length?t[0]:{compositeFilter:{op:np(e.op),filters:t}}}(e):nl()}function op(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function sp(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}var up=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:wl.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:wl.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:tf.EMPTY_BYTE_STRING;_(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return P(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),cp=P((function e(t){_(this,e),this.se=t}));function lp(e){var t=Jd({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?ph(t,t.limit,"L"):t}var fp=function(){function e(){_(this,e)}return P(e,[{key:"oe",value:function(e,t){this.ue(e,t),t.ce()}},{key:"ue",value:function(e,t){if("nullValue"in e)this.ae(t,5);else if("booleanValue"in e)this.ae(t,10),t.he(e.booleanValue?1:0);else if("integerValue"in e)this.ae(t,15),t.he(af(e.integerValue));else if("doubleValue"in e){var n=af(e.doubleValue);isNaN(n)?this.ae(t,13):(this.ae(t,15),Vl(n)?t.he(0):t.he(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ae(t,20),"string"==typeof r?t.le(r):(t.le("".concat(r.seconds||"")),t.he(r.nanos||0))}else if("stringValue"in e)this.fe(e.stringValue,t),this.de(t);else if("bytesValue"in e)this.ae(t,30),t.we(of(e.bytesValue)),this.de(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ae(t,45),t.he(i.latitude||0),t.he(i.longitude||0)}else"mapValue"in e?Tf(e)?this.ae(t,Number.MAX_SAFE_INTEGER):(this.me(e.mapValue,t),this.de(t)):"arrayValue"in e?(this.ge(e.arrayValue,t),this.de(t)):nl()}},{key:"fe",value:function(e,t){this.ae(t,25),this.ye(e,t)}},{key:"ye",value:function(e,t){t.le(e)}},{key:"me",value:function(e,t){var n=e.fields||{};this.ae(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.fe(a,t),this.ue(n[a],t)}}},{key:"ge",value:function(e,t){var n=e.values||[];this.ae(t,50);var r,i=V(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.ue(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"_e",value:function(e,t){var n=this;this.ae(t,37),Cl.fromName(e).path.forEach((function(e){n.ae(t,60),n.ye(e,t)}))}},{key:"ae",value:function(e,t){e.he(t)}},{key:"de",value:function(e){e.he(2)}}]),e}();fp.pe=new fp;var hp=function(){function e(){_(this,e),this.He=new dp}return P(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.He.add(t),Ll.resolve()}},{key:"getCollectionParents",value:function(e,t){return Ll.resolve(this.He.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return Ll.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return Ll.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return Ll.resolve(null)}},{key:"getIndexType",value:function(e,t){return Ll.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return Ll.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return Ll.resolve(null)}},{key:"getMinOffset",value:function(e,t){return Ll.resolve(Pl.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return Ll.resolve(Pl.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return Ll.resolve()}},{key:"updateIndexEntries",value:function(e,t){return Ll.resolve()}}]),e}(),dp=function(){function e(){_(this,e),this.index={}}return P(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Xl(El.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Xl(El.comparator)).toArray()}}]),e}();new Uint8Array(0);var pp=function(){function e(t,n,r){_(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return P(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();pp.DEFAULT_COLLECTION_PERCENTILE=10,pp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pp.DEFAULT=new pp(41943040,pp.DEFAULT_COLLECTION_PERCENTILE,pp.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pp.DISABLED=new pp(-1,0,0);var vp=function(){function e(t){_(this,e),this.Rn=t}return P(e,[{key:"next",value:function(){return this.Rn+=2,this.Rn}}],[{key:"vn",value:function(){return new e(0)}},{key:"bn",value:function(){return new e(-1)}}]),e}();var mp=function(){function e(){_(this,e),this.changes=new xh((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return P(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,Pf.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?Ll.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}();var yp=P((function e(t,n){_(this,e),this.overlayedDocument=t,this.mutatedFields=n})),gp=function(){function e(t,n,r,i){_(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}return P(e,[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&rd(r.mutation,e,Zl.empty(),bl.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,Ah()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ah(),i=_h();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=Ch();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=_h();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,Ah())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=Sh(),a=Ph(),o=Ph();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof sd)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),rd(o.mutation,t,o.mutation.getFieldMask(),bl.now())):a.set(t.key,Zl.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new yp(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=Ph(),i=new Ql((function(e,t){return e-t})),a=Ah();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=V(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||Zl.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||Ah()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,c=i.value,l=Nh();c.forEach((function(e){if(!a.has(e)){var n=td(t.get(e),r.get(e));null!==n&&l.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,l))};s.hasNext();)u();return Ll.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n){return function(e){return Cl.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):lh(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):Ll.resolve(_h()),s=-1,u=a;return o.next((function(t){return Ll.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?Ll.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,Ah())})).next((function(e){return{batchId:s,changes:Th(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new Cl(t)).next((function(e){var t=Ch();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n){var r=this,i=t.collectionGroup,a=Ch();return this.indexManager.getCollectionParents(e,i).next((function(o){return Ll.forEach(o,(function(o){var s=function(e,t){return new ih(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.getDocumentsMatchingCollectionQuery(e,s,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n){var r,i=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(a){return r=a,i.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)})).next((function(e){r.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,Pf.newInvalidDocument(r)))}));var n=Ch();return e.forEach((function(e,i){var a=r.get(e);void 0!==a&&rd(a.mutation,i,Zl.empty(),bl.now()),gh(t,i)&&(n=n.insert(e,i))})),n}))}}]),e}(),kp=function(){function e(t){_(this,e),this.serializer=t,this.Zn=new Map,this.Xn=new Map}return P(e,[{key:"getBundleMetadata",value:function(e,t){return Ll.resolve(this.Zn.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.Zn.set(t.id,{id:(n=t).id,version:n.version,createTime:Ud(n.createTime)}),Ll.resolve()}},{key:"getNamedQuery",value:function(e,t){return Ll.resolve(this.Xn.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.Xn.set(t.name,function(e){return{name:e.name,query:lp(e.bundledQuery),readTime:Ud(e.readTime)}}(t)),Ll.resolve()}}]),e}(),bp=function(){function e(){_(this,e),this.overlays=new Ql(Cl.comparator),this.ts=new Map}return P(e,[{key:"getOverlay",value:function(e,t){return Ll.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=_h();return Ll.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.re(e,t,i)})),Ll.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.ts.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.ts.delete(n)),Ll.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=_h(),i=t.length+1,a=new Cl(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return Ll.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Ql((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=_h(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=_h(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return Ll.resolve(u)}},{key:"re",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.ts.get(r.largestBatchId).delete(n.key);this.ts.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new yd(t,n));var a=this.ts.get(t);void 0===a&&(a=Ah(),this.ts.set(t,a)),this.ts.set(t,a.add(n.key))}}]),e}(),wp=function(){function e(){_(this,e),this.es=new Xl(xp.ns),this.ss=new Xl(xp.rs)}return P(e,[{key:"isEmpty",value:function(){return this.es.isEmpty()}},{key:"addReference",value:function(e,t){var n=new xp(e,t);this.es=this.es.add(n),this.ss=this.ss.add(n)}},{key:"os",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.us(new xp(e,t))}},{key:"cs",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"hs",value:function(e){var t=this,n=new Cl(new El([])),r=new xp(n,e),i=new xp(n,e+1),a=[];return this.ss.forEachInRange([r,i],(function(e){t.us(e),a.push(e.key)})),a}},{key:"ls",value:function(){var e=this;this.es.forEach((function(t){return e.us(t)}))}},{key:"us",value:function(e){this.es=this.es.delete(e),this.ss=this.ss.delete(e)}},{key:"fs",value:function(e){var t=new Cl(new El([])),n=new xp(t,e),r=new xp(t,e+1),i=Ah();return this.ss.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new xp(e,0),n=this.es.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),xp=function(){function e(t,n){_(this,e),this.key=t,this.ds=n}return P(e,null,[{key:"ns",value:function(e,t){return Cl.comparator(e.key,t.key)||gl(e.ds,t.ds)}},{key:"rs",value:function(e,t){return gl(e.ds,t.ds)||Cl.comparator(e.key,t.key)}}]),e}(),Ep=function(){function e(t,n){_(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.ws=1,this._s=new Xl(xp.ns)}return P(e,[{key:"checkEmpty",value:function(e){return Ll.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.ws;this.ws++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new vd(i,t,n,r);this.mutationQueue.push(a);var o,s=V(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this._s=this._s.add(new xp(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(c){s.e(c)}finally{s.f()}return Ll.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return Ll.resolve(this.gs(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.ys(n),i=r<0?0:r;return Ll.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return Ll.resolve(0===this.mutationQueue.length?-1:this.ws-1)}},{key:"getAllMutationBatches",value:function(e){return Ll.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new xp(t,0),i=new xp(t,Number.POSITIVE_INFINITY),a=[];return this._s.forEachInRange([r,i],(function(e){var t=n.gs(e.ds);a.push(t)})),Ll.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Xl(gl);return t.forEach((function(e){var t=new xp(e,0),i=new xp(e,Number.POSITIVE_INFINITY);n._s.forEachInRange([t,i],(function(e){r=r.add(e.ds)}))})),Ll.resolve(this.ps(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Cl.isDocumentKey(i)||(i=i.child(""));var a=new xp(new Cl(i),0),o=new Xl(gl);return this._s.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.ds)),!0)}),a),Ll.resolve(this.ps(o))}},{key:"ps",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.gs(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;rl(0===this.Is(t.batchId,"removed")),this.mutationQueue.shift();var r=this._s;return Ll.forEach(t.mutations,(function(i){var a=new xp(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n._s=r}))}},{key:"En",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new xp(t,0),r=this._s.firstAfterOrEqual(n);return Ll.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,Ll.resolve()}},{key:"Is",value:function(e,t){return this.ys(e)}},{key:"ys",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"gs",value:function(e){var t=this.ys(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}]),e}(),Sp=function(){function e(t){_(this,e),this.Ts=t,this.docs=new Ql(Cl.comparator),this.size=0}return P(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.Ts(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return Ll.resolve(n?n.document.mutableCopy():Pf.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=Sh();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():Pf.newInvalidDocument(e))})),Ll.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=Sh(),a=t.path,o=new Cl(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),c=u.key,l=u.value.document;if(!a.isPrefixOf(c.path))break;c.path.length>a.length+1||Ol(Nl(l),n)<=0||(r.has(l.key)||gh(t,l))&&(i=i.insert(l.key,l.mutableCopy()))}return Ll.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){nl()}},{key:"Es",value:function(e,t){return Ll.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new Ip(this)}},{key:"getSize",value:function(e){return Ll.resolve(this.size)}}]),e}(),Ip=function(e){R(n,e);var t=M(n);function n(e){var r;return _(this,n),(r=t.call(this)).Jn=e,r}return P(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Jn.addEntry(e,i)):t.Jn.removeEntry(r)})),Ll.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Jn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Jn.getEntries(e,t)}}]),n}(mp),Cp=function(){function e(t){_(this,e),this.persistence=t,this.As=new xh((function(e){return th(e)}),nh),this.lastRemoteSnapshotVersion=wl.min(),this.highestTargetId=0,this.Rs=0,this.vs=new wp,this.targetCount=0,this.bs=vp.vn()}return P(e,[{key:"forEachTarget",value:function(e,t){return this.As.forEach((function(e,n){return t(n)})),Ll.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return Ll.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return Ll.resolve(this.Rs)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.bs.next(),Ll.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Rs&&(this.Rs=t),Ll.resolve()}},{key:"Sn",value:function(e){this.As.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.bs=new vp(t),this.highestTargetId=t),e.sequenceNumber>this.Rs&&(this.Rs=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Sn(t),this.targetCount+=1,Ll.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Sn(t),Ll.resolve()}},{key:"removeTargetData",value:function(e,t){return this.As.delete(t.target),this.vs.hs(t.targetId),this.targetCount-=1,Ll.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.As.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.As.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),Ll.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return Ll.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.As.get(t)||null;return Ll.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.vs.os(t,n),Ll.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.vs.cs(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),Ll.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.vs.hs(t),Ll.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.vs.fs(t);return Ll.resolve(n)}},{key:"containsKey",value:function(e,t){return Ll.resolve(this.vs.containsKey(t))}}]),e}(),Tp=function(){function e(t,n){var r=this;_(this,e),this.Ps={},this.overlays={},this.Vs=new Fl(0),this.Ss=!1,this.Ss=!0,this.referenceDelegate=t(this),this.Ds=new Cp(this),this.indexManager=new hp,this.remoteDocumentCache=new Sp((function(e){return r.referenceDelegate.Cs(e)})),this.serializer=new cp(n),this.xs=new kp(this.serializer)}return P(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.Ss=!1,Promise.resolve()}},{key:"started",get:function(){return this.Ss}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new bp,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Ps[e.toKey()];return n||(n=new Ep(t,this.referenceDelegate),this.Ps[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Ds}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.xs}},{key:"runTransaction",value:function(e,t,n){var r=this;Jc("MemoryPersistence","Starting transaction:",e);var i=new _p(this.Vs.next());return this.referenceDelegate.Ns(),n(i).next((function(e){return r.referenceDelegate.ks(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Os",value:function(e,t){return Ll.or(Object.values(this.Ps).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),_p=function(e){R(n,e);var t=M(n);function n(e){var r;return _(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return P(n)}(Al),Np=function(){function e(t){_(this,e),this.persistence=t,this.$s=new wp,this.Ms=null}return P(e,[{key:"Bs",get:function(){if(this.Ms)return this.Ms;throw nl()}},{key:"addReference",value:function(e,t,n){return this.$s.addReference(n,t),this.Bs.delete(n.toString()),Ll.resolve()}},{key:"removeReference",value:function(e,t,n){return this.$s.removeReference(n,t),this.Bs.add(n.toString()),Ll.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Bs.add(t.toString()),Ll.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.$s.hs(t.targetId).forEach((function(e){return n.Bs.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Bs.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ns",value:function(){this.Ms=new Set}},{key:"ks",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Ll.forEach(this.Bs,(function(r){var i=Cl.fromPath(r);return t.Ls(e,i).next((function(e){e||n.removeEntry(i,wl.min())}))})).next((function(){return t.Ms=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Ls(e,t).next((function(e){e?n.Bs.delete(t.toString()):n.Bs.add(t.toString())}))}},{key:"Cs",value:function(e){return 0}},{key:"Ls",value:function(e,t){var n=this;return Ll.or([function(){return Ll.resolve(n.$s.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Os(e,t)}])}}],[{key:"Fs",value:function(t){return new e(t)}}]),e}();var Pp=function(){function e(t,n,r,i){_(this,e),this.targetId=t,this.fromCache=n,this.Vi=r,this.Si=i}return P(e,null,[{key:"Di",value:function(t,n){var r,i=Ah(),a=Ah(),o=V(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),Op=function(){function e(){_(this,e),this.Ci=!1}return P(e,[{key:"initialize",value:function(e,t){this.xi=e,this.indexManager=t,this.Ci=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this;return this.Ni(e,t).next((function(a){return a||i.ki(e,t,r,n)})).next((function(n){return n||i.Oi(e,t)}))}},{key:"Ni",value:function(e,t){var n=this;if(sh(t))return Ll.resolve(null);var r=hh(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=ph(t,null,"F"),r=hh(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=Ah.apply(void 0,T(i));return n.xi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.$i(t,i);return n.Mi(t,o,a,r.readTime)?n.Ni(e,ph(t,null,"F")):n.Fi(e,o,t,r)}))}))})))}))}},{key:"ki",value:function(e,t,n,r){var i=this;return sh(t)||r.isEqual(wl.min())?this.Oi(e,t):this.xi.getDocuments(e,n).next((function(a){var o=i.$i(t,a);return i.Mi(t,o,n,r)?i.Oi(e,t):(Xc()<=ji.DEBUG&&Jc("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),yh(t)),i.Fi(e,o,t,_l(r,-1)))}))}},{key:"$i",value:function(e,t){var n=new Xl(bh(e));return t.forEach((function(t,r){gh(e,r)&&(n=n.add(r))})),n}},{key:"Mi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Oi",value:function(e,t){return Xc()<=ji.DEBUG&&Jc("QueryEngine","Using full collection scan to execute query:",yh(t)),this.xi.getDocumentsMatchingQuery(e,t,Pl.min())}},{key:"Fi",value:function(e,t,n,r){return this.xi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),Rp=function(){function e(t,n,r,i){_(this,e),this.persistence=t,this.Bi=n,this.serializer=i,this.Li=new Ql(gl),this.qi=new xh((function(e){return th(e)}),nh),this.Ui=new Map,this.Ki=t.getRemoteDocumentCache(),this.Ds=t.getTargetCache(),this.xs=t.getBundleCache(),this.Gi(r)}return P(e,[{key:"Gi",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new gp(this.Ki,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ki.setIndexManager(this.indexManager),this.Bi.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.Li)}))}}]),e}();function Ap(e,t,n,r){return new Rp(e,t,n,r)}function Dp(e,t){return jp.apply(this,arguments)}function jp(){return jp=Jr(q().mark((function e(t,n){var r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=il(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r.Gi(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=Ah(),u=V(t);try{for(u.s();!(i=u.n()).done;){var c=i.value;a.push(c.batchId);var l,f=V(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,p=V(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=V(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;s=s.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{Qi:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function Lp(e,t){var n=il(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.Ki.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=Ll.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);rl(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=Ah(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function Mp(e){var t=il(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Ds.getLastRemoteSnapshotVersion(e)}))}function Fp(e,t){var n=il(e),r=t.snapshotVersion,i=n.Li;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.Ki.newChangeBuffer({trackRemovals:!0});i=n.Li;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Ds.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Ds.addMatchingKeys(e,a.addedDocuments,s)})));var c=u.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(s)?c=c.withResumeToken(tf.EMPTY_BYTE_STRING,wl.min()).withLastLimboFreeSnapshotVersion(wl.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(s,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,c,a)&&o.push(n.Ds.updateTargetData(e,c))}}));var s=Sh(),u=Ah();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(Up(e,a,t.documentUpdates).next((function(e){s=e.zi,u=e.ji}))),!r.isEqual(wl.min())){var c=n.Ds.getLastRemoteSnapshotVersion(e).next((function(t){return n.Ds.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(c)}return Ll.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.Li=i,e}))}function Up(e,t,n){var r=Ah(),i=Ah();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=Sh();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(wl.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Jc("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{zi:r,ji:i}}))}function Vp(e,t){var n=il(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function zp(e,t){var n=il(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Ds.getTargetData(e,t).next((function(i){return i?(r=i,Ll.resolve(r)):n.Ds.allocateTargetId(e).next((function(i){return r=new up(t,i,0,e.currentSequenceNumber),n.Ds.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.Li.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Li=n.Li.insert(e.targetId,e),n.qi.set(t,e.targetId)),e}))}function Bp(e,t,n){return qp.apply(this,arguments)}function qp(){return qp=Jr(q().mark((function e(t,n,r){var i,a,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=il(t),a=i.Li.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),Ml(e.t1)){e.next=12;break}throw e.t1;case 12:Jc("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.Li=i.Li.remove(n),i.qi.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),qp.apply(this,arguments)}function Hp(e,t,n){var r=il(e),i=wl.min(),a=Ah();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=il(e),i=r.qi.get(n);return void 0!==i?Ll.resolve(r.Li.get(i)):r.Ds.getTargetData(t,n)}(r,e,hh(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Ds.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.Bi.getDocumentsMatchingQuery(e,t,n?i:wl.min(),n?a:Ah())})).next((function(e){return Kp(r,kh(t),e),{documents:e,Wi:a}}))}))}function Kp(e,t,n){var r=e.Ui.get(t)||wl.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Ui.set(t,r)}var Wp=function(){function e(){_(this,e),this.activeTargetIds=jh()}return P(e,[{key:"tr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"er",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"Xi",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),Gp=function(){function e(){_(this,e),this.Br=new Wp,this.Lr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return P(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Br.tr(e),this.Lr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.Lr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Br.er(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.Lr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Br.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Br.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Br=new Wp,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),Qp=function(){function e(){_(this,e)}return P(e,[{key:"qr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),$p=function(){function e(){var t=this;_(this,e),this.Ur=function(){return t.Kr()},this.Gr=function(){return t.Qr()},this.zr=[],this.jr()}return P(e,[{key:"qr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Ur),window.removeEventListener("offline",this.Gr)}},{key:"jr",value:function(){window.addEventListener("online",this.Ur),window.addEventListener("offline",this.Gr)}},{key:"Kr",value:function(){Jc("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=V(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Qr",value:function(){Jc("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=V(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),Yp=null;function Xp(){return null===Yp?Yp=268435456+Math.round(2147483648*Math.random()):Yp++,"0x"+Yp.toString(16)}var Jp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},Zp=function(){function e(t){_(this,e),this.Wr=t.Wr,this.Hr=t.Hr}return P(e,[{key:"Jr",value:function(e){this.Yr=e}},{key:"Zr",value:function(e){this.Xr=e}},{key:"onMessage",value:function(e){this.eo=e}},{key:"close",value:function(){this.Hr()}},{key:"send",value:function(e){this.Wr(e)}},{key:"no",value:function(){this.Yr()}},{key:"so",value:function(e){this.Xr(e)}},{key:"io",value:function(e){this.eo(e)}}]),e}(),ev="WebChannelConnection",tv=function(e){R(n,e);var t=M(n);function n(e){var r;return _(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return P(n,[{key:"lo",value:function(e,t,n,r){var i=Xp();return new Promise((function(a,o){var s=new Wc;s.setWithCredentials(!0),s.listenOnce(zc.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Vc.NO_ERROR:var t=s.getResponseJson();Jc(ev,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Vc.TIMEOUT:Jc(ev,"RPC '".concat(e,"' ").concat(i," timed out")),o(new ol(al.DEADLINE_EXCEEDED,"Request time out"));break;case Vc.HTTP_ERROR:var n=s.getStatus();if(Jc(ev,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var c=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(al).indexOf(t)>=0?t:al.UNKNOWN}(u.status);o(new ol(c,u.message))}else o(new ol(al.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new ol(al.UNAVAILABLE,"Connection failed."));break;default:nl()}}finally{Jc(ev,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Jc(ev,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=Xp(),i=[this.ro,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=Fc(),o=Uc(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new Hc({})),this.ho(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var u=i.join("");Jc(ev,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(u),s);var c=a.createWebChannel(u,s),l=!1,f=!1,h=new Zp({Wr:function(t){f?Jc(ev,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(l||(Jc(ev,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),l=!0),Jc(ev,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},Hr:function(){return c.close()}}),d=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return d(c,Kc.EventType.OPEN,(function(){f||Jc(ev,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),d(c,Kc.EventType.CLOSE,(function(){f||(f=!0,Jc(ev,"RPC '".concat(e,"' stream ").concat(r," transport closed")),h.so())})),d(c,Kc.EventType.ERROR,(function(t){f||(f=!0,el(ev,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),h.so(new ol(al.UNAVAILABLE,"The operation could not be completed")))})),d(c,Kc.EventType.MESSAGE,(function(t){var n;if(!f){var i=t.data[0];rl(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Jc(ev,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=fd[e];if(void 0!==t)return bd(t)}(s),l=o.message;void 0===u&&(u=al.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),f=!0,h.so(new ol(u,l)),c.close()}else Jc(ev,"RPC '".concat(e,"' stream ").concat(r," received:"),i),h.io(i)}})),d(o,Bc.STAT_EVENT,(function(t){t.stat===qc.PROXY?Jc(ev,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===qc.NOPROXY&&Jc(ev,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){h.no()}),0),h}}]),n}(function(){function e(t){_(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.ro=n+"://"+t.host,this.oo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return P(e,[{key:"uo",get:function(){return!1}},{key:"co",value:function(e,t,n,r,i){var a=Xp(),o=this.ao(e,t);Jc("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={};return this.ho(s,r,i),this.lo(e,o,s,n).then((function(t){return Jc("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw el("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"fo",value:function(e,t,n,r,i,a){return this.co(e,t,n,r,i)}},{key:"ho",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+$c,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ao",value:function(e,t){var n=Jp[e];return"".concat(this.ro,"/v1/").concat(t,":").concat(n)}}]),e}());function nv(){return"undefined"!=typeof document?document:null}function rv(e){return new jd(e,!0)}var iv=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;_(this,e),this.Ws=t,this.timerId=n,this._o=r,this.mo=i,this.yo=a,this.po=0,this.Io=null,this.To=Date.now(),this.reset()}return P(e,[{key:"reset",value:function(){this.po=0}},{key:"Eo",value:function(){this.po=this.yo}},{key:"Ao",value:function(e){var t=this;this.cancel();var n=Math.floor(this.po+this.Ro()),r=Math.max(0,Date.now()-this.To),i=Math.max(0,n-r);i>0&&Jc("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.po," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Io=this.Ws.enqueueAfterDelay(this.timerId,i,(function(){return t.To=Date.now(),e()})),this.po*=this.mo,this.po<this._o&&(this.po=this._o),this.po>this.yo&&(this.po=this.yo)}},{key:"vo",value:function(){null!==this.Io&&(this.Io.skipDelay(),this.Io=null)}},{key:"cancel",value:function(){null!==this.Io&&(this.Io.cancel(),this.Io=null)}},{key:"Ro",value:function(){return(Math.random()-.5)*this.po}}]),e}(),av=function(){function e(t,n,r,i,a,o,s,u){_(this,e),this.Ws=t,this.bo=r,this.Po=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Vo=0,this.So=null,this.Do=null,this.stream=null,this.Co=new iv(t,n)}return P(e,[{key:"xo",value:function(){return 1===this.state||5===this.state||this.No()}},{key:"No",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.ko()}},{key:"stop",value:function(){var e=Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.xo(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Oo",value:function(){this.state=0,this.Co.reset()}},{key:"$o",value:function(){var e=this;this.No()&&null===this.So&&(this.So=this.Ws.enqueueAfterDelay(this.bo,6e4,(function(){return e.Mo()})))}},{key:"Fo",value:function(e){this.Bo(),this.stream.send(e)}},{key:"Mo",value:function(){var e=Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.No()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Bo",value:function(){this.So&&(this.So.cancel(),this.So=null)}},{key:"Lo",value:function(){this.Do&&(this.Do.cancel(),this.Do=null)}},{key:"close",value:function(){var e=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Bo(),this.Lo(),this.Co.cancel(),this.Vo++,4!==t?this.Co.reset():n&&n.code===al.RESOURCE_EXHAUSTED?(Zc(n.toString()),Zc("Using maximum backoff delay to prevent overloading the backend."),this.Co.Eo()):n&&n.code===al.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.qo(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.Zr(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"qo",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Uo(this.Vo),n=this.Vo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=b(t,2),i=r[0],a=r[1];e.Vo===n&&e.Ko(i,a)}),(function(n){t((function(){var t=new ol(al.UNKNOWN,"Fetching auth token failed: "+n.message);return e.Go(t)}))}))}},{key:"Ko",value:function(e,t){var n=this,r=this.Uo(this.Vo);this.stream=this.Qo(e,t),this.stream.Jr((function(){r((function(){return n.state=2,n.Do=n.Ws.enqueueAfterDelay(n.Po,1e4,(function(){return n.No()&&(n.state=3),Promise.resolve()})),n.listener.Jr()}))})),this.stream.Zr((function(e){r((function(){return n.Go(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"ko",value:function(){var e=this;this.state=5,this.Co.Ao(Jr(q().mark((function t(){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"Go",value:function(e){return Jc("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Uo",value:function(e){var t=this;return function(n){t.Ws.enqueueAndForget((function(){return t.Vo===e?n():(Jc("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),ov=function(e){R(n,e);var t=M(n);function n(e,r,i,a,o,s){var u;return _(this,n),(u=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u}return P(n,[{key:"Qo",value:function(e,t){return this.connection.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.Co.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:nl()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(rl(void 0===t||"string"==typeof t),tf.fromBase64String(t||"")):(rl(void 0===t||t instanceof Uint8Array),tf.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?al.UNKNOWN:bd(e.code);return new ol(t,e.message||"")}(o);n=new Td(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var c=qd(e,u.document.name),l=Ud(u.document.updateTime),f=u.document.createTime?Ud(u.document.createTime):wl.min(),h=new _f({mapValue:{fields:u.document.fields}}),d=Pf.newFoundDocument(c,l,f,h),p=u.targetIds||[],v=u.removedTargetIds||[];n=new Id(p,v,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var y=qd(e,m.document),g=m.readTime?Ud(m.readTime):wl.min(),k=Pf.newNoDocument(y,g),b=m.removedTargetIds||[];n=new Id([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var x=qd(e,w.document),E=w.removedTargetIds||[];n=new Id([],E,x,null)}else{if(!("filter"in t))return nl();t.filter;var S=t.filter;S.targetId;var I=S.count||0,C=new gd(I),T=S.targetId;n=new Cd(T,C)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return wl.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?wl.min():t.readTime?Ud(t.readTime):wl.min()}(e);return this.listener.zo(t,n)}},{key:"jo",value:function(e){var t={};t.database=Wd(this.serializer),t.addTarget=function(e,t){var n,r=t.target;return(n=rh(r)?{documents:Yd(e,r)}:{query:Xd(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=Md(e,t.resumeToken):t.snapshotVersion.compareTo(wl.min())>0&&(n.readTime=Ld(e,t.snapshotVersion.toTimestamp())),n}(this.serializer,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nl()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.Fo(t)}},{key:"Wo",value:function(e){var t={};t.database=Wd(this.serializer),t.removeTarget=e,this.Fo(t)}}]),n}(av),sv=function(e){R(n,e);var t=M(n);function n(e,r,i,a,o,s){var u;return _(this,n),(u=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,s)).serializer=o,u.Ho=!1,u}return P(n,[{key:"Jo",get:function(){return this.Ho}},{key:"start",value:function(){this.Ho=!1,this.lastStreamToken=void 0,wr(A(n.prototype),"start",this).call(this)}},{key:"qo",value:function(){this.Ho&&this.Yo([])}},{key:"Qo",value:function(e,t){return this.connection.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(rl(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Ho){this.Co.reset();var t=function(e,t){return e&&e.length>0?(rl(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?Ud(e.updateTime):Ud(t);return n.isEqual(wl.min())&&(n=Ud(t)),new Xh(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=Ud(e.commitTime);return this.listener.Zo(n,t)}return rl(!e.writeResults||0===e.writeResults.length),this.Ho=!0,this.listener.Xo()}},{key:"tu",value:function(){var e={};e.database=Wd(this.serializer),this.Fo(e)}},{key:"Yo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return $d(t.serializer,e)}))};this.Fo(n)}}]),n}(av),uv=function(e){R(n,e);var t=M(n);function n(e,r,i,a){var o;return _(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.connection=i,o.serializer=a,o.eu=!1,o}return P(n,[{key:"nu",value:function(){if(this.eu)throw new ol(al.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=b(i,2),o=a[0],s=a[1];return r.connection.co(e,t,n,o,s)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===al.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ol(al.UNKNOWN,e.toString())}))}},{key:"fo",value:function(e,t,n,r){var i=this;return this.nu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=b(a,2),s=o[0],u=o[1];return i.connection.fo(e,t,n,s,u,r)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===al.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new ol(al.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.eu=!0}}]),n}(function(){return P((function e(){_(this,e)}))}());var cv=function(){function e(t,n){_(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.su=0,this.iu=null,this.ru=!0}return P(e,[{key:"ou",value:function(){var e=this;0===this.su&&(this.uu("Unknown"),this.iu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.iu=null,e.cu("Backend didn't respond within 10 seconds."),e.uu("Offline"),Promise.resolve()})))}},{key:"au",value:function(e){"Online"===this.state?this.uu("Unknown"):(this.su++,this.su>=1&&(this.hu(),this.cu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.uu("Offline")))}},{key:"set",value:function(e){this.hu(),this.su=0,"Online"===e&&(this.ru=!1),this.uu(e)}},{key:"uu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"cu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.ru?(Zc(t),this.ru=!1):Jc("OnlineStateTracker",t)}},{key:"hu",value:function(){null!==this.iu&&(this.iu.cancel(),this.iu=null)}}]),e}(),lv=P((function e(t,n,r,i,a){var o=this;_(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.lu=[],this.fu=new Map,this.du=new Set,this.wu=[],this._u=a,this._u.qr((function(e){r.enqueueAndForget(Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=wv(o),!e.t0){e.next=5;break}return Jc("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=il(t)).du.add(4),e.next=4,dv(n);case 4:return n.mu.set("Unknown"),n.du.delete(4),e.next=8,fv(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.mu=new cv(r,i)}));function fv(e){return hv.apply(this,arguments)}function hv(){return hv=Jr(q().mark((function e(t){var n,r,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!wv(t)){e.next=18;break}n=V(t.wu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),hv.apply(this,arguments)}function dv(e){return pv.apply(this,arguments)}function pv(){return pv=Jr(q().mark((function e(t){var n,r,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=V(t.wu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),pv.apply(this,arguments)}function vv(e,t){var n=il(e);n.fu.has(t.targetId)||(n.fu.set(t.targetId,t),bv(n)?kv(n):Yv(n).No()&&yv(n,t))}function mv(e,t){var n=il(e),r=Yv(n);n.fu.delete(t),r.No()&&gv(n,t),0===n.fu.size&&(r.No()?r.$o():wv(n)&&n.mu.set("Unknown"))}function yv(e,t){e.gu.Ot(t.targetId),Yv(e).jo(t)}function gv(e,t){e.gu.Ot(t),Yv(e).Wo(t)}function kv(e){e.gu=new Nd({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},ne:function(t){return e.fu.get(t)||null}}),Yv(e).start(),e.mu.ou()}function bv(e){return wv(e)&&!Yv(e).xo()&&e.fu.size>0}function wv(e){return 0===il(e).du.size}function xv(e){e.gu=void 0}function Ev(e){return Sv.apply(this,arguments)}function Sv(){return Sv=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.fu.forEach((function(e,n){yv(t,e)}));case 1:case"end":return e.stop()}}),e)}))),Sv.apply(this,arguments)}function Iv(e,t){return Cv.apply(this,arguments)}function Cv(){return Cv=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:xv(t),bv(t)?(t.mu.au(n),kv(t)):t.mu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),Cv.apply(this,arguments)}function Tv(e,t,n){return _v.apply(this,arguments)}function _v(){return _v=Jr(q().mark((function e(t,n,r){var i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.mu.set("Online"),!(n instanceof Td&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Jr(q().mark((function e(t,n){var r,i,a,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=V(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t.fu.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t.fu.delete(o),t.gu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Jc("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,Nv(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof Id?t.gu.Kt(n):n instanceof Cd?t.gu.Jt(n):t.gu.zt(n),r.isEqual(wl.min())){e.next=29;break}return e.prev=14,e.next=17,Mp(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.gu.Xt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.fu.get(r);i&&e.fu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e.fu.get(t);if(n){e.fu.set(t,n.withResumeToken(tf.EMPTY_BYTE_STRING,n.snapshotVersion)),gv(e,t);var r=new up(n.target,t,1,n.sequenceNumber);yv(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Jc("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,Nv(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),_v.apply(this,arguments)}function Nv(e,t,n){return Pv.apply(this,arguments)}function Pv(){return Pv=Jr(q().mark((function e(t,n,r){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Ml(n)){e.next=2;break}throw n;case 2:return t.du.add(1),e.next=5,dv(t);case 5:t.mu.set("Offline"),r||(r=function(){return Mp(t.localStore)}),t.asyncQueue.enqueueRetryable(Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jc("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.du.delete(1),e.next=6,fv(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Ov(e,t){return t().catch((function(n){return Nv(e,n,t)}))}function Rv(e){return Av.apply(this,arguments)}function Av(){return Av=Jr(q().mark((function e(t){var n,r,i,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=il(t),r=Xv(n),i=n.lu.length>0?n.lu[n.lu.length-1].batchId:-1;case 2:if(!Dv(n)){e.next=19;break}return e.prev=3,e.next=6,Vp(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.lu.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,jv(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,Nv(n,e.t0);case 17:e.next=2;break;case 19:Lv(n)&&Mv(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),Av.apply(this,arguments)}function Dv(e){return wv(e)&&e.lu.length<10}function jv(e,t){e.lu.push(t);var n=Xv(e);n.No()&&n.Jo&&n.Yo(t.mutations)}function Lv(e){return wv(e)&&!Xv(e).xo()&&e.lu.length>0}function Mv(e){Xv(e).start()}function Fv(e){return Uv.apply(this,arguments)}function Uv(){return Uv=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Xv(t).tu();case 1:case"end":return e.stop()}}),e)}))),Uv.apply(this,arguments)}function Vv(e){return zv.apply(this,arguments)}function zv(){return zv=Jr(q().mark((function e(t){var n,r,i,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=Xv(t),r=V(t.lu);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Yo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),zv.apply(this,arguments)}function Bv(e,t,n){return qv.apply(this,arguments)}function qv(){return qv=Jr(q().mark((function e(t,n,r){var i,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.lu.shift(),a=md.from(i,n,r),e.next=3,Ov(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,Rv(t);case 5:case"end":return e.stop()}}),e)}))),qv.apply(this,arguments)}function Hv(e,t){return Kv.apply(this,arguments)}function Kv(){return Kv=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&Xv(t).Jo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Jr(q().mark((function e(t,n){var r,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kd(i=n.code)||i===al.ABORTED){e.next=7;break}return r=t.lu.shift(),Xv(t).Oo(),e.next=5,Ov(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,Rv(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:Lv(t)&&Mv(t);case 5:case"end":return e.stop()}}),e)}))),Kv.apply(this,arguments)}function Wv(e,t){return Gv.apply(this,arguments)}function Gv(){return Gv=Jr(q().mark((function e(t,n){var r,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=il(t)).asyncQueue.verifyOperationInProgress(),Jc("RemoteStore","RemoteStore received new credentials"),i=wv(r),r.du.add(3),e.next=6,dv(r);case 6:return i&&r.mu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.du.delete(3),e.next=12,fv(r);case 12:case"end":return e.stop()}}),e)}))),Gv.apply(this,arguments)}function Qv(e,t){return $v.apply(this,arguments)}function $v(){return $v=Jr(q().mark((function e(t,n){var r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=il(t),!n){e.next=7;break}return r.du.delete(2),e.next=5,fv(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.du.add(2),e.next=12,dv(r);case 12:r.mu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),$v.apply(this,arguments)}function Yv(e){return e.yu||(e.yu=function(e,t,n){var r=il(e);return r.nu(),new ov(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Ev.bind(null,e),Zr:Iv.bind(null,e),zo:Tv.bind(null,e)}),e.wu.push(function(){var t=Jr(q().mark((function t(n){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.yu.Oo(),bv(e)?kv(e):e.mu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.yu.stop();case 6:xv(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.yu}function Xv(e){return e.pu||(e.pu=function(e,t,n){var r=il(e);return r.nu(),new sv(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Jr:Fv.bind(null,e),Zr:Hv.bind(null,e),Xo:Vv.bind(null,e),Zo:Bv.bind(null,e)}),e.wu.push(function(){var t=Jr(q().mark((function t(n){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.pu.Oo(),t.next=4,Rv(e);case 4:t.next=9;break;case 6:return t.next=8,e.pu.stop();case 8:e.lu.length>0&&(Jc("RemoteStore","Stopping write stream with ".concat(e.lu.length," pending writes")),e.lu=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.pu}var Jv=function(){function e(t,n,r,i,a){_(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new sl,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return P(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ol(al.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function Zv(e,t){if(Zc("AsyncQueue","".concat(t,": ").concat(e)),Ml(e))return new ol(al.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var em=function(){function e(t){_(this,e),this.comparator=t?function(e,n){return t(e,n)||Cl.comparator(e.key,n.key)}:function(e,t){return Cl.comparator(e.key,t.key)},this.keyedMap=Ch(),this.sortedSet=new Ql(this.comparator)}return P(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),tm=function(){function e(){_(this,e),this.Iu=new Ql(Cl.comparator)}return P(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Iu.get(t);n?0!==e.type&&3===n.type?this.Iu=this.Iu.insert(t,e):3===e.type&&1!==n.type?this.Iu=this.Iu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Iu=this.Iu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Iu=this.Iu.remove(t):1===e.type&&2===n.type?this.Iu=this.Iu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Iu=this.Iu.insert(t,{type:2,doc:e.doc}):nl():this.Iu=this.Iu.insert(t,e)}},{key:"Tu",value:function(){var e=[];return this.Iu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),nm=function(){function e(t,n,r,i,a,o,s,u,c){_(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=c}return P(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,em.emptySet(n),o,r,i,!0,!1,a)}}]),e}(),rm=P((function e(){_(this,e),this.Eu=void 0,this.listeners=[]})),im=P((function e(){_(this,e),this.queries=new xh((function(e){return mh(e)}),vh),this.onlineState="Unknown",this.Au=new Set}));function am(e,t){return om.apply(this,arguments)}function om(){return om=Jr(q().mark((function e(t,n){var r,i,a,o,s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=il(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new rm),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Eu=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),s=Zv(e.t0,"Initialization of query '".concat(yh(n.query),"' failed")),e.abrupt("return",void n.onError(s));case 13:r.queries.set(i,o),o.listeners.push(n),n.Ru(r.onlineState),o.Eu&&n.vu(o.Eu)&&fm(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),om.apply(this,arguments)}function sm(e,t){return um.apply(this,arguments)}function um(){return um=Jr(q().mark((function e(t,n){var r,i,a,o,s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=il(t),i=n.query,a=!1,(o=r.queries.get(i))&&(s=o.listeners.indexOf(n))>=0&&(o.listeners.splice(s,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),um.apply(this,arguments)}function cm(e,t){var n,r=il(e),i=!1,a=V(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var c,l=V(u.listeners);try{for(l.s();!(c=l.n()).done;){c.value.vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}u.Eu=o}}}catch(f){a.e(f)}finally{a.f()}i&&fm(r)}function lm(e,t,n){var r=il(e),i=r.queries.get(t);if(i){var a,o=V(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function fm(e){e.Au.forEach((function(e){e.next()}))}var hm=function(){function e(t,n,r){_(this,e),this.query=t,this.bu=n,this.Pu=!1,this.Vu=null,this.onlineState="Unknown",this.options=r||{}}return P(e,[{key:"vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=V(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new nm(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.Pu?this.Su(e)&&(this.bu.next(e),a=!0):this.Du(e,this.onlineState)&&(this.Cu(e),a=!0),this.Vu=e,a}},{key:"onError",value:function(e){this.bu.error(e)}},{key:"Ru",value:function(e){this.onlineState=e;var t=!1;return this.Vu&&!this.Pu&&this.Du(this.Vu,e)&&(this.Cu(this.Vu),t=!0),t}},{key:"Du",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.xu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Su",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Vu&&this.Vu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Cu",value:function(e){e=nm.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Pu=!0,this.bu.next(e)}}]),e}();var dm=P((function e(t){_(this,e),this.key=t})),pm=P((function e(t){_(this,e),this.key=t})),vm=function(){function e(t,n){_(this,e),this.query=t,this.Lu=n,this.qu=null,this.hasCachedResults=!1,this.current=!1,this.Uu=Ah(),this.mutatedKeys=Ah(),this.Ku=bh(t),this.Gu=new em(this.Ku)}return P(e,[{key:"Qu",get:function(){return this.Lu}},{key:"zu",value:function(e,t){var n=this,r=t?t.ju:new tm,i=t?t.Gu:this.Gu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=gh(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Wu(l,f)||(r.track({type:2,doc:f}),p=!0,(u&&n.Ku(f,u)>0||c&&n.Ku(f,c)<0)&&(s=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(u||c)&&(s=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Gu:o,ju:r,Mi:s,mutatedKeys:a}}},{key:"Wu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Gu;this.Gu=e.Gu,this.mutatedKeys=e.mutatedKeys;var a=e.ju.Tu();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nl()}};return n(e)-n(t)}(e.type,t.type)||r.Ku(e.doc,t.doc)})),this.Hu(n);var o=t?this.Ju():[],s=0===this.Uu.size&&this.current?1:0,u=s!==this.qu;return this.qu=s,0!==a.length||u?{snapshot:new nm(this.query,e.Gu,i,a,e.mutatedKeys,0===s,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),Yu:o}:{Yu:o}}},{key:"Ru",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Gu:this.Gu,ju:new tm,mutatedKeys:this.mutatedKeys,Mi:!1},!1)):{Yu:[]}}},{key:"Zu",value:function(e){return!this.Lu.has(e)&&!!this.Gu.has(e)&&!this.Gu.get(e).hasLocalMutations}},{key:"Hu",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Lu=t.Lu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Lu=t.Lu.delete(e)})),this.current=e.current)}},{key:"Ju",value:function(){var e=this;if(!this.current)return[];var t=this.Uu;this.Uu=Ah(),this.Gu.forEach((function(t){e.Zu(t.key)&&(e.Uu=e.Uu.add(t.key))}));var n=[];return t.forEach((function(t){e.Uu.has(t)||n.push(new pm(t))})),this.Uu.forEach((function(e){t.has(e)||n.push(new dm(e))})),n}},{key:"Xu",value:function(e){this.Lu=e.Wi,this.Uu=Ah();var t=this.zu(e.documents);return this.applyChanges(t,!0)}},{key:"tc",value:function(){return nm.fromInitialDocuments(this.query,this.Gu,this.mutatedKeys,0===this.qu,this.hasCachedResults)}}]),e}(),mm=P((function e(t,n,r){_(this,e),this.query=t,this.targetId=n,this.view=r})),ym=P((function e(t){_(this,e),this.key=t,this.ec=!1})),gm=function(){function e(t,n,r,i,a,o){_(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.nc={},this.sc=new xh((function(e){return mh(e)}),vh),this.ic=new Map,this.rc=new Set,this.oc=new Ql(Cl.comparator),this.uc=new Map,this.cc=new wp,this.ac={},this.hc=new Map,this.lc=vp.bn(),this.onlineState="Unknown",this.fc=void 0}return P(e,[{key:"isPrimaryClient",get:function(){return!0===this.fc}}]),e}();function km(e,t){return bm.apply(this,arguments)}function bm(){return bm=Jr(q().mark((function e(t,n){var r,i,a,o,s,u;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Qm(t),!(o=r.sc.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.tc(),e.next=15;break;case 6:return e.next=8,zp(r.localStore,hh(n));case 8:return s=e.sent,r.isPrimaryClient&&vv(r.remoteStore,s),u=r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.targetId,e.next=14,wm(r,n,i,"current"===u,s.resumeToken);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),bm.apply(this,arguments)}function wm(e,t,n,r,i){return xm.apply(this,arguments)}function xm(){return xm=Jr(q().mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dc=function(e,n,r){return function(){var e=Jr(q().mark((function e(t,n,r,i){var a,o,s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.zu(r),e.t0=a.Mi,!e.t0){e.next=6;break}return e.next=5,Hp(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.zu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),s=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(Vm(t,n.targetId,s.Yu),s.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,Hp(t.localStore,n,!0);case 3:return o=e.sent,s=new vm(n,o.Wi),u=s.zu(o.documents),c=Sd.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),l=s.applyChanges(u,t.isPrimaryClient,c),Vm(t,r,l.Yu),f=new mm(n,r,s),e.abrupt("return",(t.sc.set(n,f),t.ic.has(r)?t.ic.get(r).push(n):t.ic.set(r,[n]),l.snapshot));case 11:case"end":return e.stop()}}),e)}))),xm.apply(this,arguments)}function Em(e,t){return Sm.apply(this,arguments)}function Sm(){return Sm=Jr(q().mark((function e(t,n){var r,i,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=il(t),i=r.sc.get(n),!((a=r.ic.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ic.set(i.targetId,a.filter((function(e){return!vh(e,n)}))),void r.sc.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,Bp(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),mv(r.remoteStore,i.targetId),Fm(r,i.targetId)})).catch(Dl);case 9:e.next=14;break;case 11:return Fm(r,i.targetId),e.next=14,Bp(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),Sm.apply(this,arguments)}function Im(e,t,n){return Cm.apply(this,arguments)}function Cm(){return Cm=Jr(q().mark((function e(t,n,r){var i,a,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=$m(t),e.prev=1,e.next=4,function(e,t){var n,r,i=il(e),a=bl.now(),o=t.reduce((function(e,t){return e.add(t.key)}),Ah());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=Sh(),u=Ah();return i.Ki.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=V(t);try{for(u.s();!(o=u.n()).done;){var c=o.value,l=id(c,n.get(c.key).overlayedDocument);null!=l&&s.push(new sd(c.key,l,Nf(l.value.mapValue),Jh.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:Th(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ac[e.currentUser.toKey()];r||(r=new Ql(gl)),r=r.insert(t,n),e.ac[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,qm(i,a.changes);case 9:return e.next=11,Rv(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=Zv(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),Cm.apply(this,arguments)}function Tm(e,t){return _m.apply(this,arguments)}function _m(){return _m=Jr(q().mark((function e(t,n){var r,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=il(t),e.prev=1,e.next=4,Fp(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.uc.get(t);n&&(rl(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.ec=!0:e.modifiedDocuments.size>0?rl(n.ec):e.removedDocuments.size>0&&(rl(n.ec),n.ec=!1))})),e.next=8,qm(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,Dl(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),_m.apply(this,arguments)}function Nm(e,t,n){var r=il(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.sc.forEach((function(e,n){var r=n.view.Ru(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=il(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=V(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Ru(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&fm(n)}(r.eventManager,t),i.length&&r.nc.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function Pm(e,t,n){return Om.apply(this,arguments)}function Om(){return Om=Jr(q().mark((function e(t,n,r){var i,a,o,s,u,c;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=il(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.uc.get(n),!(o=a&&a.key)){e.next=14;break}return s=(s=new Ql(Cl.comparator)).insert(o,Pf.newNoDocument(o,wl.min())),u=Ah().add(o),c=new Ed(wl.min(),new Map,new Xl(gl),s,u),e.next=9,Tm(i,c);case 9:i.oc=i.oc.remove(o),i.uc.delete(n),Bm(i),e.next=16;break;case 14:return e.next=16,Bp(i.localStore,n,!1).then((function(){return Fm(i,n,r)})).catch(Dl);case 16:case"end":return e.stop()}}),e)}))),Om.apply(this,arguments)}function Rm(e,t){return Am.apply(this,arguments)}function Am(){return Am=Jr(q().mark((function e(t,n){var r,i,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=il(t),i=n.batch.batchId,e.prev=1,e.next=4,Lp(r.localStore,n);case 4:return a=e.sent,Mm(r,i,null),Lm(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,qm(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),Am.apply(this,arguments)}function Dm(e,t,n){return jm.apply(this,arguments)}function jm(){return jm=Jr(q().mark((function e(t,n,r){var i,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=il(t),e.prev=1,e.next=4,function(e,t){var n=il(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return rl(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,Mm(i,n,r),Lm(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,qm(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,Dl(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),jm.apply(this,arguments)}function Lm(e,t){(e.hc.get(t)||[]).forEach((function(e){e.resolve()})),e.hc.delete(t)}function Mm(e,t,n){var r=il(e),i=r.ac[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ac[r.currentUser.toKey()]=i}}function Fm(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=V(e.ic.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.sc.delete(a),n&&e.nc.wc(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ic.delete(t),e.isPrimaryClient&&e.cc.hs(t).forEach((function(t){e.cc.containsKey(t)||Um(e,t)}))}function Um(e,t){e.rc.delete(t.path.canonicalString());var n=e.oc.get(t);null!==n&&(mv(e.remoteStore,n),e.oc=e.oc.remove(t),e.uc.delete(n),Bm(e))}function Vm(e,t,n){var r,i=V(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof dm?(e.cc.addReference(a.key,t),zm(e,a)):a instanceof pm?(Jc("SyncEngine","Document no longer in limbo: "+a.key),e.cc.removeReference(a.key,t),e.cc.containsKey(a.key)||Um(e,a.key)):nl()}}catch(o){i.e(o)}finally{i.f()}}function zm(e,t){var n=t.key,r=n.path.canonicalString();e.oc.get(n)||e.rc.has(r)||(Jc("SyncEngine","New document in limbo: "+n),e.rc.add(r),Bm(e))}function Bm(e){for(;e.rc.size>0&&e.oc.size<e.maxConcurrentLimboResolutions;){var t=e.rc.values().next().value;e.rc.delete(t);var n=new Cl(El.fromString(t)),r=e.lc.next();e.uc.set(r,new ym(n)),e.oc=e.oc.insert(n,r),vv(e.remoteStore,new up(hh(oh(n.path)),r,2,Fl.ct))}}function qm(e,t,n){return Hm.apply(this,arguments)}function Hm(){return Hm=Jr(q().mark((function e(t,n,r){var i,a,o,s;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=il(t),a=[],o=[],s=[],e.t0=i.sc.isEmpty(),e.t0){e.next=9;break}return i.sc.forEach((function(e,t){s.push(i.dc(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=Pp.Di(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(s);case 6:return i.nc.zo(a),e.next=9,function(){var e=Jr(q().mark((function e(t,n){var r,i,a,o,s,u,c,l;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=il(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return Ll.forEach(n,(function(t){return Ll.forEach(t.Vi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return Ll.forEach(t.Si,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),Ml(e.t0)){e.next=10;break}throw e.t0;case 10:Jc("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=V(n);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.targetId,o.fromCache||(u=r.Li.get(s),c=u.snapshotVersion,l=u.withLastLimboFreeSnapshotVersion(c),r.Li=r.Li.insert(s,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),Hm.apply(this,arguments)}function Km(e,t){return Wm.apply(this,arguments)}function Wm(){return Wm=Jr(q().mark((function e(t,n){var r,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=il(t)).currentUser.isEqual(n)){e.next=11;break}return Jc("SyncEngine","User change. New user:",n.toKey()),e.next=5,Dp(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.hc.forEach((function(e){e.forEach((function(e){e.reject(new ol(al.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.hc.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,qm(r,i.Qi);case 11:case"end":return e.stop()}}),e)}))),Wm.apply(this,arguments)}function Gm(e,t){var n=il(e),r=n.uc.get(t);if(r&&r.ec)return Ah().add(r.key);var i=Ah(),a=n.ic.get(t);if(!a)return i;var o,s=V(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,c=n.sc.get(u);i=i.unionWith(c.view.Qu)}}catch(l){s.e(l)}finally{s.f()}return i}function Qm(e){var t=il(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=Tm.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gm.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Pm.bind(null,t),t.nc.zo=cm.bind(null,t.eventManager),t.nc.wc=lm.bind(null,t.eventManager),t}function $m(e){var t=il(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Rm.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Dm.bind(null,t),t}var Ym=function(){function e(){_(this,e),this.synchronizeTabs=!1}return P(e,[{key:"initialize",value:function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=rv(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return Ap(this.persistence,new Op,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new Tp(Np.Fs,this.serializer)}},{key:"createSharedClientState",value:function(e){return new Gp}},{key:"terminate",value:function(){var e=Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),Xm=function(){function e(){_(this,e)}return P(e,[{key:"initialize",value:function(){var e=Jr(q().mark((function e(t,n){var r=this;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return Nm(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=Km.bind(null,this.syncEngine),e.next=12,Qv(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new im}},{key:"createDatastore",value:function(e){var t,n=rv(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new tv(t));return function(e,t,n,r){return new uv(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return Nm(o.syncEngine,e,0)},a=$p.D()?new $p:new Qp,new lv(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new gm(e,t,n,r,i,a);return o&&(s.fc=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=il(t),Jc("RemoteStore","RemoteStore shutting down."),n.du.add(5),e.next=5,dv(n);case 5:n._u.shutdown(),n.mu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();var Jm=function(){function e(t){_(this,e),this.observer=t,this.muted=!1}return P(e,[{key:"next",value:function(e){this.observer.next&&this.gc(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.gc(this.observer.error,e):Zc("Uncaught Error in snapshot listener:",e.toString())}},{key:"yc",value:function(){this.muted=!0}},{key:"gc",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),Zm=function(){function e(t,n,r,i){var a=this;_(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qc.UNAUTHENTICATED,this.clientId=yl.A(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Jc("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Jc("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return P(e,[{key:"getConfiguration",value:function(){var e=Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ol(al.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new sl;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Jr(q().mark((function n(){var r;return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=Zv(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function ey(e,t){return ty.apply(this,arguments)}function ty(){return ty=Jr(q().mark((function e(t,n){var r,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Jc("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,Dp(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),ty.apply(this,arguments)}function ny(e,t){return ry.apply(this,arguments)}function ry(){return ry=Jr(q().mark((function e(t,n){var r,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ay(t);case 3:return r=e.sent,Jc("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return Wv(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return Wv(n.remoteStore,t)})),t._onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),ry.apply(this,arguments)}function iy(e){return"FirebaseError"===e.name?e.code===al.FAILED_PRECONDITION||e.code===al.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function ay(e){return oy.apply(this,arguments)}function oy(){return oy=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Jc("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,ey(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),iy(n=e.t0)){e.next=13;break}throw n;case 13:return el("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,ey(t,new Ym);case 16:e.next=21;break;case 18:return Jc("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,ey(t,new Ym);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])}))),oy.apply(this,arguments)}function sy(e){return uy.apply(this,arguments)}function uy(){return uy=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Jc("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,ny(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Jc("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,ny(t,new Xm);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)}))),uy.apply(this,arguments)}function cy(e){return sy(e).then((function(e){return e.syncEngine}))}function ly(e){return fy.apply(this,arguments)}function fy(){return fy=Jr(q().mark((function e(t){var n,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,sy(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=km.bind(null,n.syncEngine),r.onUnlisten=Em.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),fy.apply(this,arguments)}function hy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new sl;return e.asyncQueue.enqueueAndForget(Jr(q().mark((function i(){return q().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Jm({next:function(a){t.enqueueAndForget((function(){return sm(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new ol(al.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new ol(al.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new hm(oh(n.path),a,{includeMetadataChanges:!0,xu:!0});return am(e,o)},i.next=3,ly(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function dy(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new sl;return e.asyncQueue.enqueueAndForget(Jr(q().mark((function i(){return q().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new Jm({next:function(n){t.enqueueAndForget((function(){return sm(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ol(al.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new hm(n,a,{includeMetadataChanges:!0,xu:!0});return am(e,o)},i.next=3,ly(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var py=new Map;function vy(e,t,n){if(!n)throw new ol(al.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function my(e){if(!Cl.isDocumentKey(e))throw new ol(al.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function yy(e){if(Cl.isDocumentKey(e))throw new ol(al.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function gy(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":nl()}function ky(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ol(al.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=gy(e);throw new ol(al.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}var by=function(){function e(t){var n;if(_(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ol(al.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ol(al.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,function(e,t,n,r){if(!0===t&&!0===r)throw new ol(al.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return P(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),wy=function(){function e(t,n,r,i){_(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new by({}),this._settingsFrozen=!1}return P(e,[{key:"app",get:function(){if(!this._app)throw new ol(al.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ol(al.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new by(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new cl;switch(e.type){case"firstParty":return new dl(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new ol(al.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=py.get(e);t&&(Jc("ComponentProvider","Removing Datastore"),py.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function xy(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=ky(e,wy))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&el("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,s;if("string"==typeof i.mockUserToken)o=i.mockUserToken,s=Qc.MOCK_USER;else{o=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[ni(JSON.stringify({alg:"none",type:"JWT"})),ni(JSON.stringify(a)),""].join(".")}(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var u=i.mockUserToken.sub||i.mockUserToken.user_id;if(!u)throw new ol(al.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");s=new Qc(u)}e._authCredentials=new ll(new ul(o,s))}}var Ey=function(){function e(t,n,r){_(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return P(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new Iy(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),Sy=function(){function e(t,n,r){_(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return P(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),Iy=function(e){R(n,e);var t=M(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this,e,r,oh(i)))._path=i,a.type="collection",a}return P(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new Ey(this.firestore,null,new Cl(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(Sy);function Cy(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pi(e),vy("collection","path",t),e instanceof wy){var a=El.fromString.apply(El,[t].concat(r));return yy(a),new Iy(e,null,a)}if(!(e instanceof Ey||e instanceof Iy))throw new ol(al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(El.fromString.apply(El,[t].concat(r)));return yy(o),new Iy(e.firestore,null,o)}function Ty(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Pi(e),1===arguments.length&&(t=yl.A()),vy("doc","path",t),e instanceof wy){var a=El.fromString.apply(El,[t].concat(r));return my(a),new Ey(e,null,new Cl(a))}if(!(e instanceof Ey||e instanceof Iy))throw new ol(al.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(El.fromString.apply(El,[t].concat(r)));return my(o),new Ey(e.firestore,e instanceof Iy?e.converter:null,new Cl(o))}var _y=function(){function e(){var t=this;_(this,e),this.Nc=Promise.resolve(),this.kc=[],this.Oc=!1,this.$c=[],this.Mc=null,this.Fc=!1,this.Bc=!1,this.Lc=[],this.Co=new iv(this,"async_queue_retry"),this.qc=function(){var e=nv();e&&Jc("AsyncQueue","Visibility state changed to "+e.visibilityState),t.Co.vo()};var n=nv();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.qc)}return P(e,[{key:"isShuttingDown",get:function(){return this.Oc}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.Uc(),this.Kc(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Oc){this.Oc=!0,this.Bc=e||!1;var t=nv();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.qc)}}},{key:"enqueue",value:function(e){var t=this;if(this.Uc(),this.Oc)return new Promise((function(){}));var n=new sl;return this.Kc((function(){return t.Oc&&t.Bc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.kc.push(e),t.Gc()}))}},{key:"Gc",value:function(){var e=Jr(q().mark((function e(){var t=this;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.kc.length){e.next=14;break}return e.prev=1,e.next=4,this.kc[0]();case 4:this.kc.shift(),this.Co.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),Ml(e.t0)){e.next=12;break}throw e.t0;case 12:Jc("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.kc.length>0&&this.Co.Ao((function(){return t.Gc()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Kc",value:function(e){var t=this,n=this.Nc.then((function(){return t.Fc=!0,e().catch((function(e){t.Mc=e,t.Fc=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Zc("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.Fc=!1,e}))}));return this.Nc=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.Uc(),this.Lc.indexOf(e)>-1&&(t=0);var i=Jv.createAndSchedule(this,e,t,n,(function(e){return r.Qc(e)}));return this.$c.push(i),i}},{key:"Uc",value:function(){this.Mc&&nl()}},{key:"verifyOperationInProgress",value:function(){}},{key:"zc",value:function(){var e=Jr(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Nc,e.next=3,t;case 3:if(t!==this.Nc){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"jc",value:function(e){var t,n=V(this.$c);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Wc",value:function(e){var t=this;return this.zc().then((function(){t.$c.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=V(t.$c);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.zc()}))}},{key:"Hc",value:function(e){this.Lc.push(e)}},{key:"Qc",value:function(e){var t=this.$c.indexOf(e);this.$c.splice(t,1)}}]),e}();var Ny=function(e){R(n,e);var t=M(n);function n(e,r,i,a){var o;return _(this,n),(o=t.call(this,e,r,i,a)).type="firestore",o._queue=new _y,o._persistenceKey=(null==a?void 0:a.name)||"[DEFAULT]",o}return P(n,[{key:"_terminate",value:function(){return this._firestoreClient||Oy(this),this._firestoreClient.terminate()}}]),n}(wy);function Py(e){return e._firestoreClient||Oy(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function Oy(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new lf(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new Zm(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.cache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.cache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}var Ry=function(){function e(t){_(this,e),this._byteString=t}return P(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(tf.fromBase64String(t))}catch(t){throw new ol(al.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(tf.fromUint8Array(t))}}]),e}(),Ay=function(){function e(){_(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ol(al.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Il(n)}return P(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var Dy=P((function e(t){_(this,e),this._methodName=t})),jy=function(){function e(t,n){if(_(this,e),!isFinite(t)||t<-90||t>90)throw new ol(al.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ol(al.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return P(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return gl(this._lat,e._lat)||gl(this._long,e._long)}}]),e}(),Ly=/^__.*__$/,My=function(){function e(t,n,r){_(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return P(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new sd(e,this.data,this.fieldMask,t,this.fieldTransforms):new od(e,this.data,t,this.fieldTransforms)}}]),e}(),Fy=function(){function e(t,n,r){_(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return P(e,[{key:"toMutation",value:function(e,t){return new sd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function Uy(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nl()}}var Vy=function(){function e(t,n,r,i,a,o){_(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Jc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return P(e,[{key:"path",get:function(){return this.settings.path}},{key:"Yc",get:function(){return this.settings.Yc}},{key:"Zc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"Xc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.ea(e),r}},{key:"na",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.Zc({path:n,ta:!1});return r.Jc(),r}},{key:"sa",value:function(e){return this.Zc({path:void 0,ta:!0})}},{key:"ia",value:function(e){return tg(e,this.settings.methodName,this.settings.ra||!1,this.path,this.settings.oa)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Jc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.ea(this.path.get(e))}},{key:"ea",value:function(e){if(0===e.length)throw this.ia("Document fields must not be empty");if(Uy(this.Yc)&&Ly.test(e))throw this.ia('Document fields cannot begin and end with "__"')}}]),e}(),zy=function(){function e(t,n,r){_(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||rv(t)}return P(e,[{key:"ua",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new Vy({Yc:e,methodName:t,oa:n,path:Il.emptyPath(),ta:!1,ra:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}]),e}();function By(e){var t=e._freezeSettings(),n=rv(e._databaseId);return new zy(e._databaseId,!!t.ignoreUndefinedProperties,n)}function qy(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.ua(a.merge||a.mergeFields?2:0,t,n,i);Xy("Data must be an object, but it was:",o,r);var s,u,c=$y(r,o);if(a.merge)s=new Zl(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=V(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=Jy(t,l.value,n);if(!o.contains(d))throw new ol(al.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));ng(f,d)||f.push(d)}}catch(p){h.e(p)}finally{h.f()}s=new Zl(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new My(new _f(c),s,u)}var Hy=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.apply(this,arguments)}return P(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.Yc)throw 1===e.Yc?e.ia("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ia("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(Dy);function Ky(e,t,n,r){var i=e.ua(1,t,n);Xy("Data must be an object, but it was:",i,r);var a=[],o=_f.empty();Wl(r,(function(e,r){var s=eg(t,e,n);r=Pi(r);var u=i.na(s);if(r instanceof Hy)a.push(s);else{var c=Qy(r,u);null!=c&&(a.push(s),o.set(s,c))}}));var s=new Zl(a);return new Fy(o,s,i.fieldTransforms)}function Wy(e,t,n,r,i,a){var o=e.ua(1,t,n),s=[Jy(t,r,n)],u=[i];if(a.length%2!=0)throw new ol(al.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)s.push(Jy(t,a[c])),u.push(a[c+1]);for(var l=[],f=_f.empty(),h=s.length-1;h>=0;--h)if(!ng(l,s[h])){var d=s[h],p=u[h];p=Pi(p);var v=o.na(d);if(p instanceof Hy)l.push(d);else{var m=Qy(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Zl(l);return new Fy(f,y,o.fieldTransforms)}function Gy(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Qy(n,e.ua(r?4:3,t))}function Qy(e,t){if(Yy(e=Pi(e)))return Xy("Unsupported field value:",t,e),$y(e,t);if(e instanceof Dy)return function(e,t){if(!Uy(t.Yc))throw t.ia("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ia("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ta&&4!==t.Yc)throw t.ia("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=V(e);try{for(a.s();!(n=a.n()).done;){var o=Qy(n.value,t.sa(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Pi(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Fh(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=bl.fromDate(e);return{timestampValue:Ld(t.serializer,n)}}if(e instanceof bl){var r=new bl(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:Ld(t.serializer,r)}}if(e instanceof jy)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof Ry)return{bytesValue:Md(t.serializer,e._byteString)};if(e instanceof Ey){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ia("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:Vd(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ia("Unsupported field value: ".concat(gy(e)))}(e,t)}function $y(e,t){var n={};return Gl(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Wl(e,(function(e,r){var i=Qy(r,t.Xc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function Yy(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof bl||e instanceof jy||e instanceof Ry||e instanceof Ey||e instanceof Dy)}function Xy(e,t,n){if(!Yy(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=gy(n);throw"an object"===r?t.ia(e+" a custom object"):t.ia(e+" "+r)}}function Jy(e,t,n){if((t=Pi(t))instanceof Ay)return t._internalPath;if("string"==typeof t)return eg(e,t);throw tg("Field path arguments must be of type string or ",e,!1,void 0,n)}var Zy=new RegExp("[~\\*/\\[\\]]");function eg(e,t,n){if(t.search(Zy)>=0)throw tg("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return F(Ay,T(t.split(".")))._internalPath}catch(r){throw tg("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function tg(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new ol(al.INVALID_ARGUMENT,s+e+u)}function ng(e,t){return e.some((function(e){return e.isEqual(t)}))}var rg=function(){function e(t,n,r,i,a){_(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return P(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new Ey(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new ig(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(ag("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),ig=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.apply(this,arguments)}return P(n,[{key:"data",value:function(){return wr(A(n.prototype),"data",this).call(this)}}]),n}(rg);function ag(e,t){return"string"==typeof t?eg(e,t):t instanceof Ay?t._internalPath:t._delegate._internalPath}function og(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ol(al.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var sg=P((function e(){_(this,e)})),ug=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.apply(this,arguments)}return P(n)}(sg);function cg(e,t){for(var n=[],r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];t instanceof sg&&n.push(t),function(e){var t=e.filter((function(e){return e instanceof fg})).length,n=e.filter((function(e){return e instanceof lg})).length;if(t>1||t>0&&n>0)throw new ol(al.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n=n.concat(i));var o,s=V(n);try{for(s.s();!(o=s.n()).done;){e=o.value._apply(e)}}catch(u){s.e(u)}finally{s.f()}return e}var lg=function(e){R(n,e);var t=M(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this))._field=e,a._op=r,a._value=i,a.type="where",a}return P(n,[{key:"_apply",value:function(e){var t=this._parse(e);return pg(e._query,t),new Sy(e.firestore,e.converter,dh(e._query,t))}},{key:"_parse",value:function(e){var t=By(e.firestore),n=function(e,t,n,r,i,a,o){var s;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ol(al.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){dg(o,a);var u,c=[],l=V(o);try{for(l.s();!(u=l.n()).done;){var f=u.value;c.push(hg(r,e,f))}}catch(h){l.e(h)}finally{l.f()}s={arrayValue:{values:c}}}else s=hg(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||dg(o,a),s=Gy(n,"where",o,"in"===a||"not-in"===a);return Mf.create(i,a,s)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value);return n}}],[{key:"_create",value:function(e,t,r){return new n(e,t,r)}}]),n}(ug);var fg=function(e){R(n,e);var t=M(n);function n(e,r){var i;return _(this,n),(i=t.call(this)).type=e,i._queryConstraints=r,i}return P(n,[{key:"_parse",value:function(e){var t=this._queryConstraints.map((function(t){return t._parse(e)})).filter((function(e){return e.getFilters().length>0}));return 1===t.length?t[0]:Ff.create(t,this._getOperator())}},{key:"_apply",value:function(e){var t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){var n,r=e,i=V(t.getFlattenedFilters());try{for(i.s();!(n=i.n()).done;){var a=n.value;pg(r,a),r=dh(r,a)}}catch(o){i.e(o)}finally{i.f()}}(e._query,t),new Sy(e.firestore,e.converter,dh(e._query,t)))}},{key:"_getQueryConstraints",value:function(){return this._queryConstraints}},{key:"_getOperator",value:function(){return"and"===this.type?"and":"or"}}],[{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(sg);function hg(e,t,n){if("string"==typeof(n=Pi(n))){if(""===n)throw new ol(al.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!lh(t)&&-1!==n.indexOf("/"))throw new ol(al.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(El.fromString(n));if(!Cl.isDocumentKey(r))throw new ol(al.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return bf(e,new Cl(r))}if(n instanceof Ey)return bf(e,n._key);throw new ol(al.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(gy(n),"."))}function dg(e,t){if(!Array.isArray(e)||0===e.length)throw new ol(al.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."))}function pg(e,t){if(t.isInequality()){var n=ch(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new ol(al.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(r.toString(),"'"));var i=uh(e);null!==i&&vg(e,r,i)}var a=function(e,t){var n,r=V(e);try{for(r.s();!(n=r.n()).done;){var i,a=V(n.value.getFlattenedFilters());try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.indexOf(o.op)>=0)return o.op}}catch(s){a.e(s)}finally{a.f()}}}catch(s){r.e(s)}finally{r.f()}return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==a)throw a===t.op?new ol(al.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ol(al.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(a.toString(),"' filters."))}function vg(e,t,n){if(!n.isEqual(t))throw new ol(al.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var mg=function(){function e(){_(this,e)}return P(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(df(e)){case 0:return null;case 1:return e.booleanValue;case 2:return af(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(of(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nl()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Wl(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new jy(af(e.latitude),af(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=uf(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(cf(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=rf(e);return new bl(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=El.fromString(e);rl(sp(n));var r=new ff(n.get(1),n.get(3)),i=new Cl(n.popFirst(5));return r.isEqual(t)||Zc("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function yg(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var gg=function(){function e(t,n){_(this,e),this.hasPendingWrites=t,this.fromCache=n}return P(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),kg=function(e){R(n,e);var t=M(n);function n(e,r,i,a,o,s){var u;return _(this,n),(u=t.call(this,e,r,i,a,s))._firestore=e,u._firestoreImpl=e,u.metadata=o,u}return P(n,[{key:"exists",value:function(){return wr(A(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new bg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(ag("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}(rg),bg=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.apply(this,arguments)}return P(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wr(A(n.prototype),"data",this).call(this,e)}}]),n}(kg),wg=function(){function e(t,n,r,i){_(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new gg(i.hasPendingWrites,i.fromCache),this.query=r}return P(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new bg(n._firestore,n._userDataWriter,r.key,r,new gg(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ol(al.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new bg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new bg(e._firestore,e._userDataWriter,t.doc.key,t.doc,new gg(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:xg(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}]),e}();function xg(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nl()}}var Eg=function(e){R(n,e);var t=M(n);function n(e){var r;return _(this,n),(r=t.call(this)).firestore=e,r}return P(n,[{key:"convertBytes",value:function(e){return new Ry(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ey(this.firestore,null,t)}}]),n}(mg);function Sg(e){e=ky(e,Sy);var t=ky(e.firestore,Ny),n=Py(t),r=new Eg(t);return og(e._query),dy(n,e._query).then((function(n){return new wg(t,r,e,n)}))}function Ig(e){return Cg(ky(e.firestore,Ny),[new dd(e._key,Jh.none())])}function Cg(e,t){return function(e,t){var n=new sl;return e.asyncQueue.enqueueAndForget(Jr(q().mark((function r(){return q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=Im,r.next=3,cy(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(Py(e),t)}function Tg(e,t,n){var r=n.docs.get(t._key),i=new Eg(e);return new kg(e,i,t._key,r,new gg(n.hasPendingWrites,n.fromCache),t.converter)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){$c=e}(xa),ya(new Oi("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new Ny(new fl(e.getProvider("auth-internal")),new vl(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ol(al.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ff(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),Ia(Gc,"3.10.0",e),Ia(Gc,"3.10.0","esm2017")}();Ia("firebase","9.19.1","app");var _g,Ng,Pg=function(e,t){return t.some((function(t){return e instanceof t}))};var Og=new WeakMap,Rg=new WeakMap,Ag=new WeakMap,Dg=new WeakMap,jg=new WeakMap;var Lg={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Rg.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Ag.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ug(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Mg(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Ng||(Ng=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(Vg(this),n),Ug(Og.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ug(e.apply(Vg(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[Vg(this),t].concat(r));return Ag.set(a,t.sort?t.sort():[t]),Ug(a)}}function Fg(e){return"function"===typeof e?Mg(e):(e instanceof IDBTransaction&&function(e){if(!Rg.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Rg.set(e,t)}}(e),Pg(e,_g||(_g=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Lg):e)}function Ug(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(Ug(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&Og.set(t,e)})).catch((function(){})),jg.set(t,e),t}(e);if(Dg.has(e))return Dg.get(e);var t=Fg(e);return t!==e&&(Dg.set(e,t),jg.set(t,e)),t}var Vg=function(e){return jg.get(e)};var zg,Bg=["get","getKey","getAll","getAllKeys","count"],qg=["put","add","delete","clear"],Hg=new Map;function Kg(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(Hg.get(t))return Hg.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=qg.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Bg.includes(n))){var a=function(){var e=Jr(B.mark((function e(t){var a,o,s,u,c,l,f=arguments;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),s=o.store,u=f.length,c=new Array(u>1?u-1:0),l=1;l<u;l++)c[l-1]=f[l];return r&&(s=s.index(c.shift())),e.next=6,Promise.all([(a=s)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Hg.set(t,a),a}}}!function(e){Lg=e(Lg)}((function(e){return a(a({},e),{},{get:function(t,n,r){return Kg(t,n)||e.get(t,n,r)},has:function(t,n){return!!Kg(t,n)||e.has(t,n)}})}));var Wg="@firebase/installations",Gg="0.6.4",Qg=1e4,$g="w:".concat(Gg),Yg="FIS_v2",Xg="https://firebaseinstallations.googleapis.com/v1",Jg=36e5,Zg=(r(zg={},"missing-app-config-values",'Missing App configuration value: "{$valueName}"'),r(zg,"not-registered","Firebase Installation is not registered."),r(zg,"installation-not-found","Firebase Installation not found."),r(zg,"request-failed",'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"'),r(zg,"app-offline","Could not process request. Application offline."),r(zg,"delete-pending-registration","Can't delete installation while there is a pending registration request."),zg),ek=new mi("installations","Installations",Zg);function tk(e){return e instanceof vi&&e.code.includes("request-failed")}function nk(e){var t=e.projectId;return"".concat(Xg,"/projects/").concat(t,"/installations")}function rk(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function ik(e,t){return ak.apply(this,arguments)}function ak(){return(ak=Jr(B.mark((function e(t,n){var r,i;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.json();case 2:return r=e.sent,i=r.error,e.abrupt("return",ek.create("request-failed",{requestName:t,serverCode:i.code,serverMessage:i.message,serverStatus:i.status}));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ok(e){var t=e.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function sk(e,t){var n=t.refreshToken,r=ok(e);return r.append("Authorization",function(e){return"".concat(Yg," ").concat(e)}(n)),r}function uk(e){return ck.apply(this,arguments)}function ck(){return ck=Jr(B.mark((function e(t){var n;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t();case 2:if(!((n=e.sent).status>=500&&n.status<600)){e.next=5;break}return e.abrupt("return",t());case 5:return e.abrupt("return",n);case 6:case"end":return e.stop()}}),e)}))),ck.apply(this,arguments)}function lk(e,t){return fk.apply(this,arguments)}function fk(){return(fk=Jr(B.mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d,p;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=n.fid,o=nk(r),s=ok(r),!(u=i.getImmediate({optional:!0}))){e.next=10;break}return e.next=8,u.getHeartbeatsHeader();case 8:(c=e.sent)&&s.append("x-firebase-client",c);case 10:return l={fid:a,authVersion:Yg,appId:r.appId,sdkVersion:$g},f={method:"POST",headers:s,body:JSON.stringify(l)},e.next=14,uk((function(){return fetch(o,f)}));case 14:if(!(h=e.sent).ok){e.next=23;break}return e.next=18,h.json();case 18:return d=e.sent,p={fid:d.fid||a,registrationStatus:2,refreshToken:d.refreshToken,authToken:rk(d.authToken)},e.abrupt("return",p);case 23:return e.next=25,ik("Create Installation",h);case 25:throw e.sent;case 26:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function hk(e){return new Promise((function(t){setTimeout(t,e)}))}var dk=/^[cdef][\w-]{21}$/,pk="";function vk(){try{var e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;var t=function(e){var t=function(e){return btoa(String.fromCharCode.apply(String,T(e))).replace(/\+/g,"-").replace(/\//g,"_")}(e);return t.substr(0,22)}(e);return dk.test(t)?t:pk}catch(Xm){return pk}}function mk(e){return"".concat(e.appName,"!").concat(e.appId)}var yk=new Map;function gk(e,t){var n=mk(e);kk(n,t),function(e,t){var n=wk();n&&n.postMessage({key:e,fid:t});xk()}(n,t)}function kk(e,t){var n=yk.get(e);if(n){var r,i=V(n);try{for(i.s();!(r=i.n()).done;){(0,r.value)(t)}}catch(a){i.e(a)}finally{i.f()}}}var bk=null;function wk(){return!bk&&"BroadcastChannel"in self&&((bk=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(e){kk(e.data.key,e.data.fid)}),bk}function xk(){0===yk.size&&bk&&(bk.close(),bk=null)}var Ek="firebase-installations-database",Sk=1,Ik="firebase-installations-store",Ck=null;function Tk(){return Ck||(Ck=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=Ug(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(Ug(s.result),e.oldVersion,e.newVersion,Ug(s.transaction))})),r&&s.addEventListener("blocked",(function(){return r()})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),u}(Ek,Sk,{upgrade:function(e,t){if(0===t)e.createObjectStore(Ik)}})),Ck}function _k(e,t){return Nk.apply(this,arguments)}function Nk(){return Nk=Jr(B.mark((function e(t,n){var r,i,a,o,s;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mk(t),e.next=3,Tk();case 3:return i=e.sent,a=i.transaction(Ik,"readwrite"),o=a.objectStore(Ik),e.next=8,o.get(r);case 8:return s=e.sent,e.next=11,o.put(n,r);case 11:return e.next=13,a.done;case 13:return s&&s.fid===n.fid||gk(t,n.fid),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)}))),Nk.apply(this,arguments)}function Pk(e){return Ok.apply(this,arguments)}function Ok(){return Ok=Jr(B.mark((function e(t){var n,r,i;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=mk(t),e.next=3,Tk();case 3:return r=e.sent,i=r.transaction(Ik,"readwrite"),e.next=7,i.objectStore(Ik).delete(n);case 7:return e.next=9,i.done;case 9:case"end":return e.stop()}}),e)}))),Ok.apply(this,arguments)}function Rk(e,t){return Ak.apply(this,arguments)}function Ak(){return Ak=Jr(B.mark((function e(t,n){var r,i,a,o,s,u;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=mk(t),e.next=3,Tk();case 3:return i=e.sent,a=i.transaction(Ik,"readwrite"),o=a.objectStore(Ik),e.next=8,o.get(r);case 8:if(s=e.sent,void 0!==(u=n(s))){e.next=15;break}return e.next=13,o.delete(r);case 13:e.next=17;break;case 15:return e.next=17,o.put(u,r);case 17:return e.next=19,a.done;case 19:return!u||s&&s.fid===u.fid||gk(t,u.fid),e.abrupt("return",u);case 21:case"end":return e.stop()}}),e)}))),Ak.apply(this,arguments)}function Dk(e){return jk.apply(this,arguments)}function jk(){return(jk=Jr(B.mark((function e(t){var n,r;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Rk(t.appConfig,(function(e){var r=Lk(e),i=Mk(t,r);return n=i.registrationPromise,i.installationEntry}));case 2:if((r=e.sent).fid!==pk){e.next=8;break}return e.next=6,n;case 6:return e.t0=e.sent,e.abrupt("return",{installationEntry:e.t0});case 8:return e.abrupt("return",{installationEntry:r,registrationPromise:n});case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Lk(e){return Bk(e||{fid:vk(),registrationStatus:0})}function Mk(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(ek.create("app-offline"))};var n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=function(e,t){return Fk.apply(this,arguments)}(e,n);return{installationEntry:n,registrationPromise:r}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:Uk(e)}:{installationEntry:t}}function Fk(){return(Fk=Jr(B.mark((function e(t,n){var r;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,lk(t,n);case 3:return r=e.sent,e.abrupt("return",_k(t.appConfig,r));case 7:if(e.prev=7,e.t0=e.catch(0),!tk(e.t0)||409!==e.t0.customData.serverCode){e.next=14;break}return e.next=12,Pk(t.appConfig);case 12:e.next=16;break;case 14:return e.next=16,_k(t.appConfig,{fid:n.fid,registrationStatus:0});case 16:throw e.t0;case 17:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function Uk(e){return Vk.apply(this,arguments)}function Vk(){return(Vk=Jr(B.mark((function e(t){var n,r,i,a;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zk(t.appConfig);case 2:n=e.sent;case 3:if(1!==n.registrationStatus){e.next=11;break}return e.next=6,hk(100);case 6:return e.next=8,zk(t.appConfig);case 8:n=e.sent,e.next=3;break;case 11:if(0!==n.registrationStatus){e.next=22;break}return e.next=14,Dk(t);case 14:if(r=e.sent,i=r.installationEntry,!(a=r.registrationPromise)){e.next=21;break}return e.abrupt("return",a);case 21:return e.abrupt("return",i);case 22:return e.abrupt("return",n);case 23:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zk(e){return Rk(e,(function(e){if(!e)throw ek.create("installation-not-found");return Bk(e)}))}function Bk(e){return 1===(t=e).registrationStatus&&t.registrationTime+Qg<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function qk(e,t){return Hk.apply(this,arguments)}function Hk(){return(Hk=Jr(B.mark((function e(t,n){var r,i,a,o,s,u,c,l,f,h,d;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.appConfig,i=t.heartbeatServiceProvider,a=Kk(r,n),o=sk(r,n),!(s=i.getImmediate({optional:!0}))){e.next=9;break}return e.next=7,s.getHeartbeatsHeader();case 7:(u=e.sent)&&o.append("x-firebase-client",u);case 9:return c={installation:{sdkVersion:$g,appId:r.appId}},l={method:"POST",headers:o,body:JSON.stringify(c)},e.next=13,uk((function(){return fetch(a,l)}));case 13:if(!(f=e.sent).ok){e.next=22;break}return e.next=17,f.json();case 17:return h=e.sent,d=rk(h),e.abrupt("return",d);case 22:return e.next=24,ik("Generate Auth Token",f);case 24:throw e.sent;case 25:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kk(e,t){var n=t.fid;return"".concat(nk(e),"/").concat(n,"/authTokens:generate")}function Wk(e){return Gk.apply(this,arguments)}function Gk(){return Gk=Jr(B.mark((function e(t){var n,r,i,a,o=arguments;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]&&o[1],e.next=3,Rk(t.appConfig,(function(e){if(!Zk(e))throw ek.create("not-registered");var i=e.authToken;if(!n&&eb(i))return e;if(1===i.requestStatus)return r=Qk(t,n),e;if(!navigator.onLine)throw ek.create("app-offline");var a=tb(e);return r=Xk(t,a),a}));case 3:if(i=e.sent,!r){e.next=10;break}return e.next=7,r;case 7:e.t0=e.sent,e.next=11;break;case 10:e.t0=i.authToken;case 11:return a=e.t0,e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Gk.apply(this,arguments)}function Qk(e,t){return $k.apply(this,arguments)}function $k(){return($k=Jr(B.mark((function e(t,n){var r,i;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Yk(t.appConfig);case 2:r=e.sent;case 3:if(1!==r.authToken.requestStatus){e.next=11;break}return e.next=6,hk(100);case 6:return e.next=8,Yk(t.appConfig);case 8:r=e.sent,e.next=3;break;case 11:if(0!==(i=r.authToken).requestStatus){e.next=16;break}return e.abrupt("return",Wk(t,n));case 16:return e.abrupt("return",i);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Yk(e){return Rk(e,(function(e){if(!Zk(e))throw ek.create("not-registered");var t,n=e.authToken;return 1===(t=n).requestStatus&&t.requestTime+Qg<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e}))}function Xk(e,t){return Jk.apply(this,arguments)}function Jk(){return(Jk=Jr(B.mark((function e(t,n){var r,i,a;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,qk(t,n);case 3:return r=e.sent,i=Object.assign(Object.assign({},n),{authToken:r}),e.next=7,_k(t.appConfig,i);case 7:return e.abrupt("return",r);case 10:if(e.prev=10,e.t0=e.catch(0),!tk(e.t0)||401!==e.t0.customData.serverCode&&404!==e.t0.customData.serverCode){e.next=17;break}return e.next=15,Pk(t.appConfig);case 15:e.next=20;break;case 17:return a=Object.assign(Object.assign({},n),{authToken:{requestStatus:0}}),e.next=20,_k(t.appConfig,a);case 20:throw e.t0;case 21:case"end":return e.stop()}}),e,null,[[0,10]])})))).apply(this,arguments)}function Zk(e){return void 0!==e&&2===e.registrationStatus}function eb(e){return 2===e.requestStatus&&!function(e){var t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+Jg}(e)}function tb(e){var t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function nb(){return(nb=Jr(B.mark((function e(t){var n,r,i,a;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.next=3,Dk(n);case 3:return r=e.sent,i=r.installationEntry,(a=r.registrationPromise)?a.catch(console.error):Wk(n).catch(console.error),e.abrupt("return",i.fid);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rb(){return rb=Jr(B.mark((function e(t){var n,r,i,a=arguments;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.length>1&&void 0!==a[1]&&a[1],r=t,e.next=4,ib(r);case 4:return e.next=6,Wk(r,n);case 6:return i=e.sent,e.abrupt("return",i.token);case 8:case"end":return e.stop()}}),e)}))),rb.apply(this,arguments)}function ib(e){return ab.apply(this,arguments)}function ab(){return(ab=Jr(B.mark((function e(t){var n,r;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dk(t);case 2:if(n=e.sent,!(r=n.registrationPromise)){e.next=7;break}return e.next=7,r;case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ob(e){return ek.create("missing-app-config-values",{valueName:e})}var sb,ub="installations",cb=function(e){var t=e.getProvider("app").getImmediate(),n=function(e){if(!e||!e.options)throw ob("App Configuration");if(!e.name)throw ob("App Name");for(var t=0,n=["projectId","apiKey","appId"];t<n.length;t++){var r=n[t];if(!e.options[r])throw ob(r)}return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t);return{app:t,appConfig:n,heartbeatServiceProvider:ga(t,"heartbeat"),_delete:function(){return Promise.resolve()}}},lb=function(e){var t=ga(e.getProvider("app").getImmediate(),ub).getImmediate(),n={getId:function(){return function(e){return nb.apply(this,arguments)}(t)},getToken:function(e){return function(e){return rb.apply(this,arguments)}(t,e)}};return n};ya(new Oi(ub,cb,"PUBLIC")),ya(new Oi("installations-internal",lb,"PRIVATE")),Ia(Wg,Gg),Ia(Wg,Gg,"esm2017");var fb="analytics",hb="firebase_id",db="origin",pb=6e4,vb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",mb="https://www.googletagmanager.com/gtag/js",yb=new Bi("@firebase/analytics"),gb=(r(sb={},"already-exists","A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId."),r(sb,"already-initialized","initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance."),r(sb,"already-initialized-settings","Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect."),r(sb,"interop-component-reg-failed","Firebase Analytics Interop Component failed to instantiate: {$reason}"),r(sb,"invalid-analytics-context","Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),r(sb,"indexeddb-unavailable","IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}"),r(sb,"fetch-throttle","The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}."),r(sb,"config-fetch-failed","Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}"),r(sb,"no-api-key",'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.'),r(sb,"no-app-id",'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'),r(sb,"invalid-gtag-resource","Trusted Types detected an invalid gtag resource: {$gtagURL}."),sb),kb=new mi("analytics","Analytics",gb);function bb(e){if(!e.startsWith(mb)){var t=kb.create("invalid-gtag-resource",{gtagURL:e});return yb.warn(t.message),""}return e}function wb(e){return Promise.all(e.map((function(e){return e.catch((function(e){return e}))})))}function xb(e,t){var n=function(e,t){var n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}("firebase-js-sdk-policy",{createScriptURL:bb}),r=document.createElement("script"),i="".concat(mb,"?l=").concat(e,"&id=").concat(t);r.src=n?null===n||void 0===n?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function Eb(e,t,n,r,i,a){return Sb.apply(this,arguments)}function Sb(){return Sb=Jr(B.mark((function e(t,n,r,i,a,o){var s,u,c;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s=i[a],e.prev=1,!s){e.next=7;break}return e.next=5,n[s];case 5:e.next=14;break;case 7:return e.next=9,wb(r);case 9:if(u=e.sent,c=u.find((function(e){return e.measurementId===a})),!c){e.next=14;break}return e.next=14,n[c.appId];case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),yb.error(e.t0);case 19:t("config",a,o);case 20:case"end":return e.stop()}}),e,null,[[1,16]])}))),Sb.apply(this,arguments)}function Ib(e,t,n,r,i){return Cb.apply(this,arguments)}function Cb(){return Cb=Jr(B.mark((function e(t,n,r,i,a){var o,s,u,c,l,f;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o=[],!a||!a.send_to){e.next=26;break}return s=a.send_to,Array.isArray(s)||(s=[s]),e.next=7,wb(r);case 7:u=e.sent,c=V(s),e.prev=9,f=function(){var e=l.value,t=u.find((function(t){return t.measurementId===e})),r=t&&n[t.appId];if(!r)return o=[],"break";o.push(r)},c.s();case 12:if((l=c.n()).done){e.next=18;break}if("break"!==f()){e.next=16;break}return e.abrupt("break",18);case 16:e.next=12;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(9),c.e(e.t0);case 23:return e.prev=23,c.f(),e.finish(23);case 26:return 0===o.length&&(o=Object.values(n)),e.next=29,Promise.all(o);case 29:t("event",i,a||{}),e.next=35;break;case 32:e.prev=32,e.t1=e.catch(0),yb.error(e.t1);case 35:case"end":return e.stop()}}),e,null,[[0,32],[9,20,23,26]])}))),Cb.apply(this,arguments)}function Tb(e,t,n,r,i){var a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];window[r].push(arguments)};return window[i]&&"function"===typeof window[i]&&(a=window[i]),window[i]=function(e,t,n,r){function i(){return(i=Jr(B.mark((function i(a,o,s){return B.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(i.prev=0,"event"!==a){i.next=6;break}return i.next=4,Ib(e,t,n,o,s);case 4:i.next=12;break;case 6:if("config"!==a){i.next=11;break}return i.next=9,Eb(e,t,n,r,o,s);case 9:i.next=12;break;case 11:"consent"===a?e("consent","update",s):e("set",o);case 12:i.next=17;break;case 14:i.prev=14,i.t0=i.catch(0),yb.error(i.t0);case 17:case"end":return i.stop()}}),i,null,[[0,14]])})))).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(a,e,t,n),{gtagCore:a,wrappedGtag:window[i]}}function _b(e){for(var t=window.document.getElementsByTagName("script"),n=0,r=Object.values(t);n<r.length;n++){var i=r[n];if(i.src&&i.src.includes(mb)&&i.src.includes(e))return i}return null}var Nb=30,Pb=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;_(this,e),this.throttleMetadata=t,this.intervalMillis=n}return P(e,[{key:"getThrottleMetadata",value:function(e){return this.throttleMetadata[e]}},{key:"setThrottleMetadata",value:function(e,t){this.throttleMetadata[e]=t}},{key:"deleteThrottleMetadata",value:function(e){delete this.throttleMetadata[e]}}]),e}(),Ob=new Pb;function Rb(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function Ab(e){return Db.apply(this,arguments)}function Db(){return Db=Jr(B.mark((function e(t){var n,r,i,a,o,s,u,c;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.appId,i=t.apiKey,a={method:"GET",headers:Rb(i)},o=vb.replace("{app-id}",r),e.next=5,fetch(o,a);case 5:if(200===(s=e.sent).status||304===s.status){e.next=18;break}return u="",e.prev=8,e.next=11,s.json();case 11:c=e.sent,(null===(n=c.error)||void 0===n?void 0:n.message)&&(u=c.error.message),e.next=17;break;case 15:e.prev=15,e.t0=e.catch(8);case 17:throw kb.create("config-fetch-failed",{httpStatus:s.status,responseMessage:u});case 18:return e.abrupt("return",s.json());case 19:case"end":return e.stop()}}),e,null,[[8,15]])}))),Db.apply(this,arguments)}function jb(e){return Lb.apply(this,arguments)}function Lb(){return Lb=Jr(B.mark((function e(t){var n,r,i,a,o,s,u,c,l=arguments;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=l.length>1&&void 0!==l[1]?l[1]:Ob,r=l.length>2?l[2]:void 0,i=t.options,a=i.appId,o=i.apiKey,s=i.measurementId,a){e.next=5;break}throw kb.create("no-app-id");case 5:if(o){e.next=9;break}if(!s){e.next=8;break}return e.abrupt("return",{measurementId:s,appId:a});case 8:throw kb.create("no-api-key");case 9:return u=n.getThrottleMetadata(a)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new qb,setTimeout(Jr(B.mark((function e(){return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.abort();case 1:case"end":return e.stop()}}),e)}))),void 0!==r?r:pb),e.abrupt("return",Mb({appId:a,apiKey:o,measurementId:s},u,c,n));case 13:case"end":return e.stop()}}),e)}))),Lb.apply(this,arguments)}function Mb(e,t,n){return Fb.apply(this,arguments)}function Fb(){return Fb=Jr(B.mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d,p=arguments;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.throttleEndTimeMillis,a=n.backoffCount,o=p.length>3&&void 0!==p[3]?p[3]:Ob,u=t.appId,c=t.measurementId,e.prev=3,e.next=6,Ub(r,i);case 6:e.next=14;break;case 8:if(e.prev=8,e.t0=e.catch(3),!c){e.next=13;break}return yb.warn("Timed out fetching this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===e.t0||void 0===e.t0?void 0:e.t0.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 13:throw e.t0;case 14:return e.prev=14,e.next=17,Ab(t);case 17:return l=e.sent,o.deleteThrottleMetadata(u),e.abrupt("return",l);case 22:if(e.prev=22,e.t1=e.catch(14),Vb(f=e.t1)){e.next=33;break}if(o.deleteThrottleMetadata(u),!c){e.next=32;break}return yb.warn("Failed to fetch this Firebase app's measurement ID from the server."+" Falling back to the measurement ID ".concat(c)+' provided in the "measurementId" field in the local Firebase config. ['.concat(null===f||void 0===f?void 0:f.message,"]")),e.abrupt("return",{appId:u,measurementId:c});case 32:throw e.t1;case 33:return h=503===Number(null===(s=null===f||void 0===f?void 0:f.customData)||void 0===s?void 0:s.httpStatus)?Ni(a,o.intervalMillis,Nb):Ni(a,o.intervalMillis),d={throttleEndTimeMillis:Date.now()+h,backoffCount:a+1},o.setThrottleMetadata(u,d),yb.debug("Calling attemptFetch again in ".concat(h," millis")),e.abrupt("return",Mb(t,d,r,o));case 38:case"end":return e.stop()}}),e,null,[[3,8],[14,22]])}))),Fb.apply(this,arguments)}function Ub(e,t){return new Promise((function(n,r){var i=Math.max(t-Date.now(),0),a=setTimeout(n,i);e.addEventListener((function(){clearTimeout(a),r(kb.create("fetch-throttle",{throttleEndTimeMillis:t}))}))}))}function Vb(e){if(!(e instanceof vi)||!e.customData)return!1;var t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}var zb,Bb,qb=function(){function e(){_(this,e),this.listeners=[]}return P(e,[{key:"addEventListener",value:function(e){this.listeners.push(e)}},{key:"abort",value:function(){this.listeners.forEach((function(e){return e()}))}}]),e}();function Hb(){return Hb=Jr(B.mark((function e(t,n,r,i,a){var o,s;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!a||!a.global){e.next=5;break}return t("event",r,i),e.abrupt("return");case 5:return e.next=7,n;case 7:o=e.sent,s=Object.assign(Object.assign({},i),{send_to:o}),t("event",r,s);case 10:case"end":return e.stop()}}),e)}))),Hb.apply(this,arguments)}function Kb(e){Bb=e}function Wb(e){zb=e}function Gb(){return Qb.apply(this,arguments)}function Qb(){return(Qb=Jr(B.mark((function e(){return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(di()){e.next=5;break}return yb.warn(kb.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),e.abrupt("return",!1);case 5:return e.prev=5,e.next=8,pi();case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(5),yb.warn(kb.create("indexeddb-unavailable",{errorInfo:null===e.t0||void 0===e.t0?void 0:e.t0.toString()}).message),e.abrupt("return",!1);case 14:return e.abrupt("return",!0);case 15:case"end":return e.stop()}}),e,null,[[5,10]])})))).apply(this,arguments)}function $b(){return $b=Jr(B.mark((function e(t,n,r,i,a,o,s){var u,c,l,f,h,d,p,v;return B.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(c=jb(t)).then((function(e){r[e.measurementId]=e.appId,t.options.measurementId&&e.measurementId!==t.options.measurementId&&yb.warn("The measurement ID in the local Firebase config (".concat(t.options.measurementId,")")+" does not match the measurement ID fetched from the server (".concat(e.measurementId,").")+" To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.")})).catch((function(e){return yb.error(e)})),n.push(c),l=Gb().then((function(e){return e?i.getId():void 0})),e.next=6,Promise.all([c,l]);case 6:return f=e.sent,h=b(f,2),d=h[0],p=h[1],_b(o)||xb(o,d.measurementId),Bb&&(a("consent","default",Bb),Kb(void 0)),a("js",new Date),(v=null!==(u=null===s||void 0===s?void 0:s.config)&&void 0!==u?u:{})[db]="firebase",v.update=!0,null!=p&&(v[hb]=p),a("config",d.measurementId,v),zb&&(a("set",zb),Wb(void 0)),e.abrupt("return",d.measurementId);case 20:case"end":return e.stop()}}),e)}))),$b.apply(this,arguments)}var Yb,Xb,Jb=function(){function e(t){_(this,e),this.app=t}return P(e,[{key:"_delete",value:function(){return delete Zb[this.app.options.appId],Promise.resolve()}}]),e}(),Zb={},ew=[],tw={},nw="dataLayer",rw="gtag",iw=!1;function aw(){var e=[];if(hi()&&e.push("This is a browser extension environment."),"undefined"!==typeof navigator&&navigator.cookieEnabled||e.push("Cookies are not available."),e.length>0){var t=e.map((function(e,t){return"(".concat(t+1,") ").concat(e)})).join(" "),n=kb.create("invalid-analytics-context",{errorInfo:t});yb.warn(n.message)}}function ow(e,t,n){aw();var r=e.options.appId;if(!r)throw kb.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw kb.create("no-api-key");yb.warn('The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest'+" measurement ID for this Firebase app. Falling back to the measurement ID ".concat(e.options.measurementId)+' provided in the "measurementId" field in the local Firebase config.')}if(null!=Zb[r])throw kb.create("already-exists",{id:r});if(!iw){!function(e){var t=[];Array.isArray(window[e])?t=window[e]:window[e]=t}(nw);var i=Tb(Zb,ew,tw,nw,rw),a=i.wrappedGtag,o=i.gtagCore;Xb=a,Yb=o,iw=!0}return Zb[r]=function(e,t,n,r,i,a,o){return $b.apply(this,arguments)}(e,ew,tw,t,Yb,nw,n),new Jb(e)}function sw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa(),t=ga(e=Pi(e),fb);return t.isInitialized()?t.getImmediate():function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=ga(e,fb);if(n.isInitialized()){var r=n.getImmediate();if(gi(t,n.getOptions()))return r;throw kb.create("already-initialized")}var i=n.initialize({options:t});return i}(e)}function uw(e,t,n,r){e=Pi(e),function(e,t,n,r,i){return Hb.apply(this,arguments)}(Xb,Zb[e.app.options.appId],t,n,r).catch((function(e){return yb.error(e)}))}var cw="@firebase/analytics",lw="0.9.5";ya(new Oi(fb,(function(e,t){var n=t.options;return ow(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n)}),"PUBLIC")),ya(new Oi("analytics-internal",(function(e){try{var t=e.getProvider(fb).getImmediate();return{logEvent:function(e,n,r){return uw(t,e,n,r)}}}catch(yN){throw kb.create("interop-component-reg-failed",{reason:yN})}}),"PRIVATE")),Ia(cw,lw),Ia(cw,lw,"esm2017");function fw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var hw;Object.create;function dw(){return r({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var pw=dw,vw=new mi("auth","Firebase",dw()),mw=new Bi("@firebase/auth");function yw(e){if(mw.logLevel<=ji.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];mw.error.apply(mw,["Auth (".concat(xa,"): ").concat(e)].concat(n))}}function gw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw xw.apply(void 0,[e].concat(n))}function kw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return xw.apply(void 0,[e].concat(n))}function bw(e,t,n){var i=Object.assign(Object.assign({},pw()),r({},t,n));return new mi("auth","Firebase",i).create(t,{appName:e.name})}function ww(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&gw(e,"argument-error"),bw(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function xw(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=T(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(T(o)))}return vw.create.apply(vw,[e].concat(n))}function Ew(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw xw.apply(void 0,[t].concat(r))}}function Sw(e){var t="INTERNAL ASSERTION FAILED: "+e;throw yw(t),new Error(t)}function Iw(e,t){e||Sw(t)}var Cw=new Map;function Tw(e){Iw(e instanceof Function,"Expected a class definition");var t=Cw.get(e);return t?(Iw(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Cw.set(e,t),t)}function _w(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Nw(){return"http:"===Pw()||"https:"===Pw()}function Pw(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Ow=function(){function e(t,n){_(this,e),this.shortDelay=t,this.longDelay=n,Iw(n>t,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fi())||"object"===typeof navigator&&"ReactNative"===navigator.product}return P(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Nw()||hi()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function Rw(e,t){Iw(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var Aw=function(){function e(){_(this,e)}return P(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Sw("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Sw("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Sw("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),Dw=(r(hw={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),r(hw,"MISSING_CUSTOM_TOKEN","internal-error"),r(hw,"INVALID_IDENTIFIER","invalid-email"),r(hw,"MISSING_CONTINUE_URI","internal-error"),r(hw,"INVALID_PASSWORD","wrong-password"),r(hw,"MISSING_PASSWORD","missing-password"),r(hw,"EMAIL_EXISTS","email-already-in-use"),r(hw,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),r(hw,"INVALID_IDP_RESPONSE","invalid-credential"),r(hw,"INVALID_PENDING_TOKEN","invalid-credential"),r(hw,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),r(hw,"MISSING_REQ_TYPE","internal-error"),r(hw,"EMAIL_NOT_FOUND","user-not-found"),r(hw,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),r(hw,"EXPIRED_OOB_CODE","expired-action-code"),r(hw,"INVALID_OOB_CODE","invalid-action-code"),r(hw,"MISSING_OOB_CODE","internal-error"),r(hw,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),r(hw,"INVALID_ID_TOKEN","invalid-user-token"),r(hw,"TOKEN_EXPIRED","user-token-expired"),r(hw,"USER_NOT_FOUND","user-token-expired"),r(hw,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),r(hw,"INVALID_CODE","invalid-verification-code"),r(hw,"INVALID_SESSION_INFO","invalid-verification-id"),r(hw,"INVALID_TEMPORARY_PROOF","invalid-credential"),r(hw,"MISSING_SESSION_INFO","missing-verification-id"),r(hw,"SESSION_EXPIRED","code-expired"),r(hw,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),r(hw,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),r(hw,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),r(hw,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),r(hw,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),r(hw,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),r(hw,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),r(hw,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),r(hw,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),r(hw,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),r(hw,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),hw),jw=new Ow(3e4,6e4);function Lw(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function Mw(e,t,n,r){return Fw.apply(this,arguments)}function Fw(){return Fw=Jr(q().mark((function e(t,n,r,i){var a,o=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",Uw(t,a,Jr(q().mark((function e(){var a,o,s,u;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),s=bi(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(u=e.sent)["Content-Type"]="application/json",t.languageCode&&(u["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",Aw.fetch()(qw(t,t.config.apiHost,r,s),Object.assign({method:n,headers:u,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),Fw.apply(this,arguments)}function Uw(e,t,n){return Vw.apply(this,arguments)}function Vw(){return Vw=Jr(q().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h,d;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},Dw),n),e.prev=2,a=new Hw(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(s=e.sent))){e.next=13;break}throw Kw(t,"account-exists-with-different-credential",s);case 13:if(!o.ok||"errorMessage"in s){e.next=17;break}return e.abrupt("return",s);case 17:if(u=o.ok?s.errorMessage:s.error.message,c=u.split(" : "),l=b(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw Kw(t,"credential-already-in-use",s);case 23:if("EMAIL_EXISTS"!==f){e.next=27;break}throw Kw(t,"email-already-in-use",s);case 27:if("USER_DISABLED"!==f){e.next=29;break}throw Kw(t,"user-disabled",s);case 29:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=34;break}throw bw(t,d,h);case 34:gw(t,d);case 35:e.next=42;break;case 37:if(e.prev=37,e.t0=e.catch(2),!(e.t0 instanceof vi)){e.next=41;break}throw e.t0;case 41:gw(t,"network-request-failed",{message:String(e.t0)});case 42:case"end":return e.stop()}}),e,null,[[2,37]])}))),Vw.apply(this,arguments)}function zw(e,t,n,r){return Bw.apply(this,arguments)}function Bw(){return Bw=Jr(q().mark((function e(t,n,r,i){var a,o,s=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.length>4&&void 0!==s[4]?s[4]:{},e.next=3,Mw(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&gw(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),Bw.apply(this,arguments)}function qw(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Rw(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var Hw=function(){function e(t){var n=this;_(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(kw(n.auth,"network-request-failed"))}),jw.get())}))}return P(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function Kw(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=kw(e,t,r);return i.customData._tokenResponse=n,i}function Ww(e,t){return Gw.apply(this,arguments)}function Gw(){return Gw=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mw(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)}))),Gw.apply(this,arguments)}function Qw(e,t){return $w.apply(this,arguments)}function $w(){return $w=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mw(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)}))),$w.apply(this,arguments)}function Yw(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(yN){}}function Xw(){return Xw=Jr(q().mark((function e(t){var n,r,i,a,o,s,u=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.length>1&&void 0!==u[1]&&u[1],r=Pi(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Ew((a=Zw(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,s=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:Yw(Jw(a.auth_time)),issuedAtTime:Yw(Jw(a.iat)),expirationTime:Yw(Jw(a.exp)),signInProvider:s||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),Xw.apply(this,arguments)}function Jw(e){return 1e3*Number(e)}function Zw(e){var t=b(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return yw("JWT malformed, contained fewer than 3 sections"),null;try{var a=ri(r);return a?JSON.parse(a):(yw("Failed to decode base64 JWT payload"),null)}catch(yN){return yw("Caught error parsing JWT payload as JSON",null===yN||void 0===yN?void 0:yN.toString()),null}}function ex(e,t){return tx.apply(this,arguments)}function tx(){return tx=Jr(q().mark((function e(t,n){var r=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof vi&&nx(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),tx.apply(this,arguments)}function nx(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var rx=function(){function e(t){_(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return P(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Jr(q().mark((function t(){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),ix=function(){function e(t,n){_(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return P(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=Yw(this.lastLoginAt),this.creationTime=Yw(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function ax(e){return ox.apply(this,arguments)}function ox(){return ox=Jr(q().mark((function e(t){var n,r,i,a,o,s,u,c,l,f,h;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,ex(t,Qw(r,{idToken:i}));case 6:Ew(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),s=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?o.providerUserInfo.map((function(e){var t=e.providerId,n=fw(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})):[],u=ux(t.providerData,s),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===u||void 0===u?void 0:u.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new ix(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),ox.apply(this,arguments)}function sx(){return(sx=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Pi(t),e.next=3,ax(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ux(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(T(n),T(t))}function cx(e,t){return lx.apply(this,arguments)}function lx(){return lx=Jr(q().mark((function e(t,n){var r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Uw(t,{},Jr(q().mark((function e(){var r,i,a,o,s,u;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=bi({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,s=qw(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(u=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",Aw.fetch()(s,{method:"POST",headers:u,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)}))),lx.apply(this,arguments)}var fx=function(){function e(){_(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return P(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Ew(e.idToken,"internal-error"),Ew("undefined"!==typeof e.idToken,"internal-error"),Ew("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=Zw(e);return Ew(t,"internal-error"),Ew("undefined"!==typeof t.exp,"internal-error"),Ew("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Jr(q().mark((function e(t){var n,r=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Ew(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Jr(q().mark((function e(t,n){var r,i,a,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cx(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Sw("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Ew("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Ew("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Ew("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function hx(e,t){Ew("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var dx=function(){function e(t){_(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=fw(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new rx(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?T(a.providerData):[],this.metadata=new ix(a.createdAt||void 0,a.lastLoginAt||void 0)}return P(e,[{key:"getIdToken",value:function(){var e=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ex(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Ew(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return Xw.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return sx.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Ew(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){var n=new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}},{key:"_onReload",value:function(e){Ew(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Jr(q().mark((function e(t){var n,r,i=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,ax(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Jr(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,ex(this,Ww(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,s,u,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(s=n.tenantId)&&void 0!==s?s:void 0,m=null!==(u=n._redirectEventId)&&void 0!==u?u:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,b=n.emailVerified,w=n.isAnonymous,x=n.providerData,E=n.stsTokenManager;Ew(k&&E,t,"internal-error");var S=fx.fromJSON(this.name,E);Ew("string"===typeof k,t,"internal-error"),hx(f,t.name),hx(h,t.name),Ew("boolean"===typeof b,t,"internal-error"),Ew("boolean"===typeof w,t,"internal-error"),hx(d,t.name),hx(p,t.name),hx(v,t.name),hx(m,t.name),hx(y,t.name),hx(g,t.name);var I=new e({uid:k,auth:t,email:h,emailVerified:b,displayName:f,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:S,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(I.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(I._redirectEventId=m),I}},{key:"_fromIdTokenResponse",value:function(){var t=Jr(q().mark((function t(n,r){var i,a,o,s=arguments;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=s.length>2&&void 0!==s[2]&&s[2],(a=new fx).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,ax(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),px=function(){function e(){_(this,e),this.type="NONE",this.storage={}}return P(e,[{key:"_isAvailable",value:function(){var e=Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();px.type="NONE";var vx=px;function mx(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var yx=function(){function e(t,n,r){_(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=mx(this.userKey,a.apiKey,o),this.fullPersistenceKey=mx("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return P(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Jr(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?dx._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Jr(q().mark((function t(n,r){var i,a,o,s,u,c,l,f,h,d,p,v=arguments;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e(Tw(vx),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||Tw(vx),s=mx(i,n.config.apiKey,n.name),u=null,c=V(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(s);case 17:if(!(h=t.sent)){t.next=23;break}return d=dx._fromJSON(n,h),f!==o&&(u=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!u){t.next=44;break}return t.next=44,o._set(s,u.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(s);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function gx(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(kx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sx(t))return"Blackberry";if(Ix(t))return"Webos";if(bx(t))return"Safari";if((t.includes("chrome/")||wx(t))&&!t.includes("edge/"))return"Chrome";if(Ex(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function kx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/firefox\//i.test(e)}function bx(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/crios\//i.test(e)}function xx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/iemobile/i.test(e)}function Ex(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/android/i.test(e)}function Sx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/blackberry/i.test(e)}function Ix(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/webos/i.test(e)}function Cx(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Tx(){return function(){var e=fi();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function _x(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi();return Cx(e)||Ex(e)||Ix(e)||Sx(e)||/windows phone/i.test(e)||xx(e)}function Nx(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=gx(fi());break;case"Worker":t="".concat(gx(fi()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(xa,"/").concat(r)}var Px=function(){function e(t){_(this,e),this.auth=t,this.queue=[]}return P(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(yN){r(yN)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Jr(q().mark((function e(t){var n,r,i,a,o,s,u;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=V(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=V(n);try{for(o.s();!(s=o.n()).done;){u=s.value;try{u()}catch(c){}}}catch(l){o.e(l)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===e.t1||void 0===e.t1?void 0:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Ox=function(){function e(t,n,r){_(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ax(this),this.idTokenSubscription=new Ax(this),this.beforeStateQueue=new Px(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vw,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return P(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=Tw(t)),this._initializationPromise=this.queue(Jr(q().mark((function r(){var i,a;return q().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,yx.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Jr(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Jr(q().mark((function e(t){var n,r,i,a,o,s,u;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:u=e.sent,o&&o!==s||!(null===u||void 0===u?void 0:u.user)||(i=u.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Ew(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ax(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Pi(t):null)&&Ew(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Jr(q().mark((function e(t){var n,r=this,i=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Ew(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Jr(q().mark((function n(){return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence(Tw(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new mi("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Jr(q().mark((function e(t,n){var r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Ew(n=t&&Tw(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,yx.create(this,[Tw(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Jr(q().mark((function e(t){var n,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Jr(q().mark((function e(t){var n=this;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ew(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,!t){e.next=8;break}return e.next=6,this.assertedPersistence.setCurrentUser(t);case 6:e.next=10;break;case 8:return e.next=10,this.assertedPersistence.removeCurrentUser();case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Ew(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Nx(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Jr(q().mark((function e(){var t,n,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(i=e.sent)&&(n["X-Firebase-Client"]=i),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function Rx(e){return Pi(e)}var Ax=function(){function e(t){var n=this;_(this,e),this.auth=t,this.observer=null,this.addObserver=function(e,t){var n=new Ei(e,t);return n.subscribe.bind(n)}((function(e){return n.observer=e}))}return P(e,[{key:"next",get:function(){return Ew(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function Dx(e,t,n){var r=Rx(e);Ew(r._canInitEmulator,r,"emulator-config-failed"),Ew(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=jx(t),o=function(e){var t=jx(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:Lx(r.substr(a.length+1))}}var o=b(r.split(":"),2);return{host:o[0],port:Lx(o[1])}}(t),s=o.host,u=o.port,c=null===u?"":":".concat(u);r.config.emulator={url:"".concat(a,"//").concat(s).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:u,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function jx(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Lx(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var Mx=function(){function e(t,n){_(this,e),this.providerId=t,this.signInMethod=n}return P(e,[{key:"toJSON",value:function(){return Sw("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Sw("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Sw("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Sw("not implemented")}}]),e}();function Fx(e,t){return Ux.apply(this,arguments)}function Ux(){return Ux=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mw(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)}))),Ux.apply(this,arguments)}function Vx(e,t){return zx.apply(this,arguments)}function zx(){return zx=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zw(t,"POST","/v1/accounts:signInWithPassword",Lw(t,n)));case 1:case"end":return e.stop()}}),e)}))),zx.apply(this,arguments)}function Bx(e,t){return qx.apply(this,arguments)}function qx(){return qx=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zw(t,"POST","/v1/accounts:signInWithEmailLink",Lw(t,n)));case 1:case"end":return e.stop()}}),e)}))),qx.apply(this,arguments)}function Hx(e,t){return Kx.apply(this,arguments)}function Kx(){return Kx=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zw(t,"POST","/v1/accounts:signInWithEmailLink",Lw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Kx.apply(this,arguments)}var Wx=function(e){R(n,e);var t=M(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return P(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Vx(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Bx(t,{email:this._email,oobCode:this._password}));case 5:gw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",Fx(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Hx(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:gw(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){return new n(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(Mx);function Gx(e,t){return Qx.apply(this,arguments)}function Qx(){return Qx=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zw(t,"POST","/v1/accounts:signInWithIdp",Lw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Qx.apply(this,arguments)}var $x=function(e){R(n,e);var t=M(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return P(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Gx(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Gx(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Gx(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bi(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):gw("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=fw(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(Mx);function Yx(e,t){return Xx.apply(this,arguments)}function Xx(){return Xx=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Mw(t,"POST","/v1/accounts:sendVerificationCode",Lw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Xx.apply(this,arguments)}function Jx(){return Jx=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zw(t,"POST","/v1/accounts:signInWithPhoneNumber",Lw(t,n)));case 1:case"end":return e.stop()}}),e)}))),Jx.apply(this,arguments)}function Zx(){return Zx=Jr(q().mark((function e(t,n){var r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,zw(t,"POST","/v1/accounts:signInWithPhoneNumber",Lw(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw Kw(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)}))),Zx.apply(this,arguments)}var eE=r({},"USER_NOT_FOUND","user-not-found");function tE(){return tE=Jr(q().mark((function e(t,n){var r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",zw(t,"POST","/v1/accounts:signInWithPhoneNumber",Lw(t,r),eE));case 2:case"end":return e.stop()}}),e)}))),tE.apply(this,arguments)}var nE=function(e){R(n,e);var t=M(n);function n(e){var r;return _(this,n),(r=t.call(this,"phone","phone")).params=e,r}return P(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Jx.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Zx.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return tE.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(Mx);var rE=function(){function e(t){var n,r,i,a,o,s;_(this,e);var u=wi(xi(t)),c=null!==(n=u.apiKey)&&void 0!==n?n:null,l=null!==(r=u.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=u.mode)&&void 0!==i?i:null);Ew(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=u.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=u.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(s=u.tenantId)&&void 0!==s?s:null}return P(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=wi(xi(e)).link,n=t?wi(xi(t)).deep_link_id:null,r=wi(xi(e)).deep_link_id;return(r?wi(xi(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(Xm){return null}}}]),e}();var iE=function(){function e(){_(this,e),this.providerId=e.PROVIDER_ID}return P(e,null,[{key:"credential",value:function(e,t){return Wx._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=rE.parseLink(t);return Ew(n,"argument-error"),Wx._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();iE.PROVIDER_ID="password",iE.EMAIL_PASSWORD_SIGN_IN_METHOD="password",iE.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var aE=function(){function e(t){_(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return P(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),oE=function(e){R(n,e);var t=M(n);function n(){var e;return _(this,n),(e=t.apply(this,arguments)).scopes=[],e}return P(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return T(this.scopes)}}]),n}(aE),sE=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.call(this,"facebook.com")}return P(n,null,[{key:"credential",value:function(e){return $x._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Xm){return null}}}]),n}(oE);sE.FACEBOOK_SIGN_IN_METHOD="facebook.com",sE.PROVIDER_ID="facebook.com";var uE=function(e){R(n,e);var t=M(n);function n(){var e;return _(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return P(n,null,[{key:"credential",value:function(e,t){return $x._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(Xm){return null}}}]),n}(oE);uE.GOOGLE_SIGN_IN_METHOD="google.com",uE.PROVIDER_ID="google.com";var cE=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.call(this,"github.com")}return P(n,null,[{key:"credential",value:function(e){return $x._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(Xm){return null}}}]),n}(oE);cE.GITHUB_SIGN_IN_METHOD="github.com",cE.PROVIDER_ID="github.com";var lE=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.call(this,"twitter.com")}return P(n,null,[{key:"credential",value:function(e,t){return $x._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(Xm){return null}}}]),n}(oE);function fE(e,t){return hE.apply(this,arguments)}function hE(){return hE=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zw(t,"POST","/v1/accounts:signUp",Lw(t,n)));case 1:case"end":return e.stop()}}),e)}))),hE.apply(this,arguments)}lE.TWITTER_SIGN_IN_METHOD="twitter.com",lE.PROVIDER_ID="twitter.com";var dE=function(){function e(t){_(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return P(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Jr(q().mark((function t(n,r,i){var a,o,s,u,c=arguments;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,dx._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,s=pE(i),u=new e({user:o,providerId:s,_tokenResponse:i,operationType:r}),t.abrupt("return",u);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Jr(q().mark((function t(n,r,i){var a;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=pE(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function pE(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}var vE=function(e){R(n,e);var t=M(n);function n(e,r,i,a){var o,s;return _(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(L(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return P(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(vi);function mE(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw vE._fromErrorAndOperation(e,n,t,r);throw n}))}function yE(e,t){return gE.apply(this,arguments)}function gE(){return gE=Jr(q().mark((function e(t,n){var r,i,a=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=ex,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",dE._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),gE.apply(this,arguments)}function kE(e,t){return bE.apply(this,arguments)}function bE(){return bE=Jr(q().mark((function e(t,n){var r,i,a,o,s,u,c=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,ex(t,mE(i,a,n,t),r);case 6:return Ew((o=e.sent).idToken,i,"internal-error"),Ew(s=Zw(o.idToken),i,"internal-error"),u=s.sub,Ew(t.uid===u,i,"user-mismatch"),e.abrupt("return",dE._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&gw(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),bE.apply(this,arguments)}function wE(e,t){return xE.apply(this,arguments)}function xE(){return xE=Jr(q().mark((function e(t,n){var r,i,a,o,s=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i="signIn",e.next=4,mE(t,i,n);case 4:return a=e.sent,e.next=7,dE._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),xE.apply(this,arguments)}function EE(e,t){return SE.apply(this,arguments)}function SE(){return SE=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wE(Rx(t),n));case 1:case"end":return e.stop()}}),e)}))),SE.apply(this,arguments)}function IE(){return IE=Jr(q().mark((function e(t,n,r){var i,a,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rx(t),e.next=3,fE(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,dE._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)}))),IE.apply(this,arguments)}function CE(e,t,n,r){return Pi(e).onAuthStateChanged(t,n,r)}function TE(e,t){return Mw(e,"POST","/v2/accounts/mfaEnrollment:start",Lw(e,t))}function _E(e,t){return Mw(e,"POST","/v2/accounts/mfaEnrollment:start",Lw(e,t))}function NE(e,t){return Mw(e,"POST","/v2/accounts/mfaEnrollment:finalize",Lw(e,t))}new WeakMap;var PE="__sak",OE=function(){function e(t,n){_(this,e),this.storageRetriever=t,this.type=n}return P(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(PE,"1"),this.storage.removeItem(PE),Promise.resolve(!0)):Promise.resolve(!1)}catch(Xm){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var RE=function(e){R(n,e);var t=M(n);function n(){var e;return _(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=fi();return bx(e)||Cx(e)}()&&function(){try{return!(!window||window===window.top)}catch(yN){return!1}}(),e.fallbackToPolling=_x(),e._shouldAllowMigration=!0,e}return P(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Tx()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Jr(q().mark((function e(t,r){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr(A(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Jr(q().mark((function e(t){var r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr(A(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wr(A(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(OE);RE.type="LOCAL";var AE=RE,DE=function(e){R(n,e);var t=M(n);function n(){return _(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return P(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(OE);DE.type="SESSION";var jE=DE;function LE(e){return Promise.all(e.map(function(){var e=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var ME=function(){function e(t){_(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return P(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Jr(q().mark((function e(t){var n,r,i,a,o,s,u,c;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(s=this.handlersMap[a])||void 0===s?void 0:s.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),u=Array.from(s).map(function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,LE(u);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function FE(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}ME.receivers=[];var UE=function(){function e(t){_(this,e),this.target=t,this.handlers=new Set}return P(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Jr(q().mark((function e(t,n){var r,i,a,o,s=this,u=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=u.length>2&&void 0!==u[2]?u[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,u){var c=FE("",20);i.port1.start();var l=setTimeout((function(){u(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){u(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),u(new Error("invalid_response"))}}},s.handlers.add(o),i.port1.addEventListener("message",o.onMessage),s.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&s.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function VE(){return window}function zE(){return"undefined"!==typeof VE().WorkerGlobalScope&&"function"===typeof VE().importScripts}function BE(){return qE.apply(this,arguments)}function qE(){return(qE=Jr(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function HE(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var KE="firebaseLocalStorageDb",WE="firebaseLocalStorage",GE="fbase_key",QE=function(){function e(t){_(this,e),this.request=t}return P(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function $E(e,t){return e.transaction([WE],t?"readwrite":"readonly").objectStore(WE)}function YE(){var e=indexedDB.deleteDatabase(KE);return new QE(e).toPromise()}function XE(){var e=indexedDB.open(KE,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(WE,{keyPath:GE})}catch(yN){n(yN)}})),e.addEventListener("success",Jr(q().mark((function n(){var r;return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(WE)){n.next=12;break}return r.close(),n.next=5,YE();case 5:return n.t0=t,n.next=8,XE();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function JE(e,t,n){return ZE.apply(this,arguments)}function ZE(){return ZE=Jr(q().mark((function e(t,n,i){var a,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=$E(t,!0).put((r(a={},GE,n),r(a,"value",i),a)),e.abrupt("return",new QE(o).toPromise());case 2:case"end":return e.stop()}}),e)}))),ZE.apply(this,arguments)}function eS(e,t){return tS.apply(this,arguments)}function tS(){return tS=Jr(q().mark((function e(t,n){var r,i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=$E(t,!1).get(n),e.next=3,new QE(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),tS.apply(this,arguments)}function nS(e,t){var n=$E(e,!0).delete(t);return new QE(n).toPromise()}var rS=function(){function e(){_(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return P(e,[{key:"_openDb",value:function(){var e=Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,XE();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Jr(q().mark((function e(t){var n,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zE()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Jr(q().mark((function e(){var t=this;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=ME._getInstance(zE()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Jr(q().mark((function e(n,r){var i;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Jr(q().mark((function e(t,n){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Jr(q().mark((function e(){var t,n,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,BE();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new UE(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&HE()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Jr(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,XE();case 5:return t=e.sent,e.next=8,JE(t,PE,"1");case 8:return e.next=10,nS(t,PE);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Jr(q().mark((function e(t){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Jr(q().mark((function e(t,n){var r=this;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return JE(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return eS(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Jr(q().mark((function e(t){var n=this;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return nS(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Jr(q().mark((function e(){var t,n,r,i,a,o,s,u,c,l,f;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=$E(e,!1).getAll();return new QE(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=V(t);try{for(i.s();!(a=i.n()).done;)o=a.value,s=o.fbase_key,u=o.value,r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(u)&&(this.notifyListeners(s,u),n.push(s))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Jr(q().mark((function t(){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();rS.type="LOCAL";var iS=rS;function aS(e,t){return Mw(e,"POST","/v2/accounts/mfaSignIn:start",Lw(e,t))}function oS(e,t){return Mw(e,"POST","/v2/accounts/mfaSignIn:finalize",Lw(e,t))}function sS(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=kw("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function uS(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}uS("rcb"),new Ow(3e4,6e4);var cS="recaptcha";function lS(e,t,n){return fS.apply(this,arguments)}function fS(){return fS=Jr(q().mark((function e(t,n,r){var i,a,o,s,u,c,l,f,h;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Ew("string"===typeof a,t,"argument-error"),Ew(r.type===cS,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(s=o.session,!("phoneNumber"in o)){e.next=17;break}return Ew("enroll"===s.type,t,"internal-error"),e.next=13,TE(t,{idToken:s.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return u=e.sent,e.abrupt("return",u.phoneSessionInfo.sessionInfo);case 17:return Ew("signin"===s.type,t,"internal-error"),Ew(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,aS(t,{mfaPendingCredential:s.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Yx(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),fS.apply(this,arguments)}var hS=function(){function e(t){_(this,e),this.providerId=e.PROVIDER_ID,this.auth=Rx(t)}return P(e,[{key:"verifyPhoneNumber",value:function(e,t){return lS(this.auth,e,Pi(t))}}],[{key:"credential",value:function(e,t){return nE._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?nE._fromTokenResponse(n,r):null}}]),e}();function dS(e,t){return t?Tw(t):(Ew(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}hS.PROVIDER_ID="phone",hS.PHONE_SIGN_IN_METHOD="phone";var pS=function(e){R(n,e);var t=M(n);function n(e){var r;return _(this,n),(r=t.call(this,"custom","custom")).params=e,r}return P(n,[{key:"_getIdTokenResponse",value:function(e){return Gx(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Gx(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Gx(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(Mx);function vS(e){return wE(e.auth,new pS(e),e.bypassAuthState)}function mS(e){var t=e.auth,n=e.user;return Ew(n,t,"internal-error"),kE(n,new pS(e),e.bypassAuthState)}function yS(e){return gS.apply(this,arguments)}function gS(){return gS=Jr(q().mark((function e(t){var n,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Ew(r=t.user,n,"internal-error"),e.abrupt("return",yE(r,new pS(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)}))),gS.apply(this,arguments)}var kS=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];_(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return P(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Jr(q().mark((function t(n,r){return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Jr(q().mark((function e(t){var n,r,i,a,o,s,u;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,s=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return u={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(s)(u);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return vS;case"linkViaPopup":case"linkViaRedirect":return yS;case"reauthViaPopup":case"reauthViaRedirect":return mS;default:gw(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Iw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Iw(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),bS=new Ow(2e3,1e4);function wS(){return wS=Jr(q().mark((function e(t,n,r){var i,a,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Rx(t),ww(t,n,aE),a=dS(i,r),o=new xS(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)}))),wS.apply(this,arguments)}var xS=function(e){R(n,e);var t=M(n);function n(e,r,i,a,o){var s;return _(this,n),(s=t.call(this,e,r,a,o)).provider=i,s.authWindow=null,s.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=L(s),s}return P(n,[{key:"executeNotNull",value:function(){var e=Jr(q().mark((function e(){var t;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Ew(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Jr(q().mark((function e(){var t,n=this;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Iw(1===this.filter.length,"Popup operations only handle one event"),t=FE(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(kw(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(kw(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(kw(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,bS.get())}()}}]),n}(kS);xS.currentPopupAction=null;var ES="pendingRedirect",SS=new Map,IS=function(e){R(n,e);var t=M(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return _(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return P(n,[{key:"execute",value:function(){var e=Jr(q().mark((function e(){var t,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=SS.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,CS(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,wr(A(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:SS.set(this.auth._key(),t);case 21:return this.bypassAuthState||SS.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Jr(q().mark((function e(t){var r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",wr(A(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",wr(A(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Jr(q().mark((function e(){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(kS);function CS(e,t){return TS.apply(this,arguments)}function TS(){return TS=Jr(q().mark((function e(t,n){var r,i,a;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=PS(n),i=NS(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),TS.apply(this,arguments)}function _S(e,t){SS.set(e._key(),t)}function NS(e){return Tw(e._redirectPersistence)}function PS(e){return mx(ES,e.config.apiKey,e.name)}function OS(e,t){return RS.apply(this,arguments)}function RS(){return RS=Jr(q().mark((function e(t,n){var r,i,a,o,s,u=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i=Rx(t),a=dS(i,n),o=new IS(i,a,r),e.next=6,o.execute();case 6:if(!(s=e.sent)||r){e.next=13;break}return delete s.user._redirectEventId,e.next=11,i._persistUserIfCurrent(s.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",s);case 14:case"end":return e.stop()}}),e)}))),RS.apply(this,arguments)}var AS=function(){function e(t){_(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return P(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jS(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!jS(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(kw(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(DS(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(DS(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function DS(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function jS(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function LS(e){return MS.apply(this,arguments)}function MS(){return MS=Jr(q().mark((function e(t){var n,r=arguments;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",Mw(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),MS.apply(this,arguments)}var FS=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,US=/^https?/;function VS(){return VS=Jr(q().mark((function e(t){var n,r,i,a,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,LS(t);case 4:n=e.sent,r=n.authorizedDomains,i=V(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!zS(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:gw(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])}))),VS.apply(this,arguments)}function zS(e){var t=_w(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!US.test(r))return!1;if(FS.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var BS=new Ow(3e4,6e4);function qS(){var e=VE().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=T(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var HS=null;function KS(e){return HS=HS||function(e){return new Promise((function(t,n){var r,i,a;function o(){qS(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){qS(),n(kw(e,"network-request-failed"))},timeout:BS.get()})}if(null===(i=null===(r=VE().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=VE().gapi)||void 0===a?void 0:a.load)){var s=uS("iframefcb");return VE()[s]=function(){gapi.load?o():n(kw(e,"network-request-failed"))},sS("https://apis.google.com/js/api.js?onload=".concat(s)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw HS=null,e}))}(e),HS}var WS=new Ow(5e3,15e3),GS="__/auth/iframe",QS="emulator/auth/iframe",$S={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YS=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XS(e){var t=e.config;Ew(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?Rw(t,QS):"https://".concat(e.config.authDomain,"/").concat(GS),r={apiKey:t.apiKey,appName:e.name,v:xa},i=YS.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(bi(r).slice(1))}function JS(e){return ZS.apply(this,arguments)}function ZS(){return ZS=Jr(q().mark((function e(t){var n,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,KS(t);case 2:return n=e.sent,Ew(r=VE().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:XS(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:$S,dontclear:!0},(function(e){return new Promise(function(){var n=Jr(q().mark((function n(r,i){var a,o,s;return q().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s=function(){VE().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=kw(t,"network-request-failed"),o=VE().setTimeout((function(){i(a)}),WS.get()),e.ping(s).then(s,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),ZS.apply(this,arguments)}var eI={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},tI=function(){function e(t){_(this,e),this.window=t,this.associatedEvent=null}return P(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(yN){}}}]),e}();function nI(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),s="",u=Object.assign(Object.assign({},eI),{width:r.toString(),height:i.toString(),top:a,left:o}),c=fi().toLowerCase();n&&(s=wx(c)?"_blank":n),kx(c)&&(t=t||"http://localhost",u.scrollbars="yes");var l=Object.entries(u).reduce((function(e,t){var n=b(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(function(){var e;return Cx(arguments.length>0&&void 0!==arguments[0]?arguments[0]:fi())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==s)return function(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",s),new tI(null);var f=window.open(t||"",s,l);Ew(f,e,"popup-blocked");try{f.focus()}catch(yN){}return new tI(f)}var rI="__/auth/handler",iI="emulator/auth/handler";function aI(e,t,n,r,i,a){Ew(e.config.authDomain,e,"auth-domain-config-required"),Ew(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:xa,eventId:i};if(t instanceof aE){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var s=0,u=Object.entries(a||{});s<u.length;s++){var c=b(u[s],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof oE){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(rI);return Rw(t,iI)}(e),"?").concat(bi(d).slice(1))}var oI="webStorageSupport",sI=function(){function e(){_(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=jE,this._completeRedirectFn=OS,this._overrideRedirectResult=_S}return P(e,[{key:"_openPopup",value:function(){var e=Jr(q().mark((function e(t,n,r,i){var a,o;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Iw(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=aI(t,n,r,_w(),i),e.abrupt("return",nI(t,o,FE()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Jr(q().mark((function e(t,n,r,i){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=aI(t,n,r,_w(),i),VE().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Iw(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Jr(q().mark((function e(t){var n,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,JS(t);case 2:return n=e.sent,r=new AS(t),n.register("authEvent",(function(e){return Ew(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(oI,{type:oI},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[oI];void 0!==i&&t(!!i),gw(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return VS.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return _x()||bx()||Cx()}}]),e}(),uI=sI,cI=function(){function e(t){_(this,e),this.factorId=t}return P(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Sw("unexpected MultiFactorSessionType")}}}]),e}(),lI=function(e){R(n,e);var t=M(n);function n(e){var r;return _(this,n),(r=t.call(this,"phone")).credential=e,r}return P(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return Mw(e,"POST","/v2/accounts/mfaEnrollment:finalize",Lw(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return Mw(e,"POST","/v2/accounts/mfaSignIn:finalize",Lw(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(cI);(function(){function e(){_(this,e)}return P(e,null,[{key:"assertion",value:function(e){return lI._fromCredential(e)}}]),e}()).FACTOR_ID="phone";var fI=function(){function e(){_(this,e)}return P(e,null,[{key:"assertionForEnrollment",value:function(e,t){return hI._fromSecret(e,t)}},{key:"assertionForSignIn",value:function(e,t){return hI._fromEnrollmentId(e,t)}},{key:"generateSecret",value:function(){var e=Jr(q().mark((function e(t){var n,r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ew("undefined"!==typeof(n=t).auth,"internal-error"),e.next=4,_E(n.auth,{idToken:n.credential,totpEnrollmentInfo:{}});case 4:return r=e.sent,e.abrupt("return",dI._fromStartTotpMfaEnrollmentResponse(r,n.auth));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}();fI.FACTOR_ID="totp";var hI=function(e){R(n,e);var t=M(n);function n(e,r,i){var a;return _(this,n),(a=t.call(this,"totp")).otp=e,a.enrollmentId=r,a.secret=i,a}return P(n,[{key:"_finalizeEnroll",value:function(){var e=Jr(q().mark((function e(t,n,r){return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ew("undefined"!==typeof this.secret,t,"argument-error"),e.abrupt("return",NE(t,{idToken:n,displayName:r,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)}));case 2:case"end":return e.stop()}}),e,this)})));return function(t,n,r){return e.apply(this,arguments)}}()},{key:"_finalizeSignIn",value:function(){var e=Jr(q().mark((function e(t,n){var r;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ew(void 0!==this.enrollmentId&&void 0!==this.otp,t,"argument-error"),r={verificationCode:this.otp},e.abrupt("return",oS(t,{mfaPendingCredential:n,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:r}));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}],[{key:"_fromSecret",value:function(e,t){return new n(t,void 0,e)}},{key:"_fromEnrollmentId",value:function(e,t){return new n(t,e)}}]),n}(cI),dI=function(){function e(t,n,r,i,a,o,s){_(this,e),this.sessionInfo=o,this.auth=s,this.secretKey=t,this.hashingAlgorithm=n,this.codeLength=r,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}return P(e,[{key:"_makeTotpVerificationInfo",value:function(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}},{key:"generateQrCodeUrl",value:function(e,t){var n,r=!1;return(pI(e)||pI(t))&&(r=!0),r&&(pI(e)&&(e=(null===(n=this.auth.currentUser)||void 0===n?void 0:n.email)||"unknownuser"),pI(t)&&(t=this.auth.name)),"otpauth://totp/".concat(t,":").concat(e,"?secret=").concat(this.secretKey,"&issuer=").concat(t,"&algorithm=").concat(this.hashingAlgorithm,"&digits=").concat(this.codeLength)}}],[{key:"_fromStartTotpMfaEnrollmentResponse",value:function(t,n){return new e(t.totpSessionInfo.sharedSecretKey,t.totpSessionInfo.hashingAlgorithm,t.totpSessionInfo.verificationCodeLength,t.totpSessionInfo.periodSec,new Date(t.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),t.totpSessionInfo.sessionInfo,n)}}]),e}();function pI(e){return"undefined"===typeof e||0===(null===e||void 0===e?void 0:e.length)}var vI="@firebase/auth",mI="0.22.0",yI=function(){function e(t){_(this,e),this.auth=t,this.internalListeners=new Map}return P(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Jr(q().mark((function e(t){var n;return q().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Ew(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();var gI,kI,bI,wI,xI,EI,SI,II=ci("authIdTokenMaxAge")||300,CI=null,TI=function(e){return function(){var t=Jr(q().mark((function t(n){var r,i,a;return q().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=n,!t.t0){t.next=5;break}return t.next=4,n.getIdTokenResult();case 4:t.t0=t.sent;case 5:if(r=t.t0,!((i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3)&&i>II)){t.next=9;break}return t.abrupt("return");case 9:if(a=null===r||void 0===r?void 0:r.token,CI!==a){t.next=12;break}return t.abrupt("return");case 12:return CI=a,t.next=15,fetch(e,{method:a?"POST":"DELETE",headers:a?{Authorization:"Bearer ".concat(a)}:{}});case 15:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};function _I(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Sa(),t=ga(e,"auth");if(t.isInitialized())return t.getImmediate();var n=function(e,t){var n=ga(e,"auth");if(n.isInitialized()){var r=n.getImmediate();if(gi(n.getOptions(),null!==t&&void 0!==t?t:{}))return r;gw(r,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:uI,persistence:[iS,AE,jE]}),r=ci("authTokenSyncURL");if(r){var i=TI(r);!function(e,t,n){Pi(e).beforeAuthStateChanged(t,n)}(n,i,(function(){return i(n.currentUser)})),function(e,t,n,r){Pi(e).onIdTokenChanged(t,n,r)}(n,(function(e){return i(e)}))}var a=oi("auth");return a&&Dx(n,"http://".concat(a)),n}function NI(){return{addresses:[{addr1:"",addr2:"",city:"",state:"",zip:""}],payments:[{cardholderName:"",cardNumber:"",expiration:new Date,cvv:"",zip:""}]}}function PI(e){return new Promise((function(t){(function(e){return e?new Promise((function(t,n){HI.get(HI.getAccountReference(e)).then((function(e){t(e.data)})).catch((function(r){"Not found"===r?HI.create(e,NI()).then((function(e){console.log("New user account created"),t(e.data)})).catch(n):n(r)}))})):Promise.resolve(null)})(e).then(t).catch((function(e){console.error("Failed to load user account: ",e),t(NI())}))}))}function OI(e){return new Promise((function(t){(function(e){return e?new Promise((function(t,n){HI.getPrivilege(HI.getAccountPrivilegeReference(e)).then((function(e){t(e.data)})).catch((function(r){"Not found"===r?HI.createPrivilege(e,{admin:!1,role:[]}).then((function(e){console.log("New user privilege created"),t(e.data)})).catch(n):n(r)}))})):Promise.resolve(null)})(e).then(t).catch((function(e){console.error("Failed to load user account privilege: ",e),t({admin:!1,role:[]})}))}))}function RI(){var t=b((0,e.useState)(wI),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){return CE(kI,r)}),[]),n}function AI(e,t){return new Promise((function(n,r){(function(e,t,n){return IE.apply(this,arguments)})(kI,e,t).then((function(e){n(e.user)})).catch((function(e){r(e.message)}))}))}function DI(e,t){return new Promise((function(n,r){return function(e,t,n){return EE(Pi(e),iE.credential(t,n))}(kI,e,t).then((function(e){n(e.user)})).catch((function(e){r(e.message)}))}))}function jI(){return new Promise((function(e,t){return function(e,t,n){return wS.apply(this,arguments)}(kI,bI).then((function(t){return e(t.user)})).catch((function(e){t(e.message)}))}))}function LI(){!function(e){Pi(e).signOut()}(kI)}function MI(t,n,r,i,a){var o=b((0,e.useState)(n),2),s=o[0],u=o[1];return(0,e.useEffect)((function(){t().then((function(e){u(e),i&&i()})).catch((function(e){a&&(e.message?a(e.message):a(e))}))}),r),s}function FI(e){return new Promise((function(t,n){return Sg(e).then((function(e){return t(e.docs.map((function(e){return{data:e.data(),reference:e.ref}})))})).catch(n)}))}function UI(e){return new Promise((function(t,n){(function(e){e=ky(e,Ey);var t=ky(e.firestore,Ny);return hy(Py(t),e._key).then((function(n){return Tg(t,e,n)}))})(e).then((function(e){e.exists()?t({data:e.data(),reference:e.ref}):n("Not found")})).catch(n)}))}function VI(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return new Promise((function(t,r){Sg(cg.apply(void 0,[e].concat(n))).then((function(e){t(e.docs.map((function(e){return{data:e.data(),reference:e.ref}})))})).catch(r)}))}function zI(e,t,n){return new Promise((function(r,i){var a=n?Ty(e,n):Ty(e);(function(e,t,n){e=ky(e,Ey);var r=ky(e.firestore,Ny),i=yg(e.converter,t,n);return Cg(r,[qy(By(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Jh.none())])})(a,t).then((function(){return r({data:t,reference:a})})).catch(i)}))}function BI(e){return new Promise((function(t,n){return function(e,t,n){e=ky(e,Ey);for(var r=ky(e.firestore,Ny),i=By(r),a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return Cg(r,[("string"==typeof(t=Pi(t))||t instanceof Ay?Wy(i,"updateDoc",e._key,t,n,o):Ky(i,"updateDoc",e._key,t)).toMutation(e._key,Jh.exists(!0))])}(e.reference,e.data).then((function(){return t(e)})).catch(n)}))}gI="Browser",ya(new Oi("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,s=a.authDomain;return function(e,t){Ew(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Ew(!(null===s||void 0===s?void 0:s.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:s,clientPlatform:gI,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Nx(gI)},i=new Ox(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Tw);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),ya(new Oi("auth-internal",(function(e){return function(e){return new yI(e)}(Rx(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Ia(vI,mI,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(gI)),Ia(vI,mI,"esm2017");var qI=function(){function e(){_(this,e)}return P(e,null,[{key:"list",value:function(){return FI(Cy(SI,this.collection))}},{key:"get",value:function(e){return UI(e)}},{key:"create",value:function(e){return zI(Cy(SI,this.collection),e)}},{key:"update",value:function(e){return BI(e)}},{key:"delete",value:function(e){return Ig(e)}}]),e}();qI.collection="items";var HI=function(){function e(){_(this,e)}return P(e,null,[{key:"getAccountReference",value:function(e){return Ty(SI,this.collection,e.uid,this.account,this.account)}},{key:"getAccountPrivilegeReference",value:function(e){return Ty(SI,this.collection,e.uid,this.privilege,this.privilege)}},{key:"list",value:function(){return FI(Cy(SI,this.collection))}},{key:"get",value:function(e){return UI(e)}},{key:"getPrivilege",value:function(e){return UI(e)}},{key:"create",value:function(e,t){return zI(Cy(SI,this.collection,e.uid,this.account),t,this.account)}},{key:"createPrivilege",value:function(e,t){return zI(Cy(SI,this.collection,e.uid,this.privilege),t,this.privilege)}},{key:"update",value:function(e){return BI(e)}},{key:"updatePrivilege",value:function(e){return BI(e)}}]),e}();HI.collection="users",HI.privilege="privilege",HI.account="account";var KI=function(){function e(){_(this,e)}return P(e,null,[{key:"getCartCollection",value:function(e){return Cy(SI,this.collection,e.uid,this.document)}},{key:"getCartDoc",value:function(e){return Ty(this.getCartCollection(e),this.document)}},{key:"get",value:function(e){return UI(this.getCartDoc(e))}},{key:"create",value:function(e){return zI(this.getCartCollection(e),{items:[]},this.document)}},{key:"getOrCreate",value:function(e){var t=this;return new Promise((function(n,r){t.get(e).then(n).catch((function(i){"Not found"===i?t.create(e).then(n).catch(r):r(i)}))}))}},{key:"update",value:function(e,t){return BI({reference:this.getCartDoc(e),data:t})}}]),e}();KI.collection="carts",KI.document="items";var WI=function(){function e(){_(this,e)}return P(e,null,[{key:"list",value:function(e){return e?VI(Cy(SI,this.collection),function(e,t,n){var r=t,i=ag("where",e);return lg._create(i,r,n)}("user","==",e.uid)):Promise.resolve([])}},{key:"listAll",value:function(e){var t=this;return new Promise((function(n,r){e?OI(e).then((function(e){e&&e.admin?n(FI(Cy(SI,t.collection))):r("Insufficient privileges")})):r("Must be logged in to list all orders")}))}},{key:"get",value:function(e){return UI(e)}},{key:"create",value:function(e){return zI(Cy(SI,this.collection),e)}},{key:"update",value:function(e){return BI(e)}},{key:"delete",value:function(e){return Ig(e)}}]),e}();function GI(e,t,n){return MI((function(){return qI.list()}),[],e,t,n)}WI.collection="orders";var QI=e.createContext({}),$I=["controlId","as"],YI=e.forwardRef((function(t,n){var r=t.controlId,i=t.as,o=void 0===i?"div":i,u=s(t,$I),c=(0,e.useMemo)((function(){return{controlId:r}}),[r]);return(0,l.jsx)(QI.Provider,{value:c,children:(0,l.jsx)(o,a(a({},u),{},{ref:n}))})}));YI.displayName="FormGroup";var XI=YI,JI=["bsPrefix","className","children","controlId","label"],ZI=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.children,o=e.controlId,u=e.label,f=s(e,JI);return n=h(n,"form-floating"),(0,l.jsxs)(XI,a(a({ref:t,className:c()(r,n),controlId:o},f),{},{children:[i,(0,l.jsx)("label",{htmlFor:o,children:u})]}))}));ZI.displayName="FloatingLabel";var eC=ZI,tC=["as","className","type","tooltip"],nC={type:wn().string,tooltip:wn().bool,as:wn().elementType},rC=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?"div":n,i=e.className,o=e.type,u=void 0===o?"valid":o,f=e.tooltip,h=void 0!==f&&f,d=s(e,tC);return(0,l.jsx)(r,a(a({},d),{},{ref:t,className:c()(i,"".concat(u,"-").concat(h?"tooltip":"feedback"))}))}));rC.displayName="Feedback",rC.propTypes=nC;var iC=rC,aC=["id","bsPrefix","className","type","isValid","isInvalid","as"],oC=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.className,u=t.type,f=void 0===u?"checkbox":u,d=t.isValid,p=void 0!==d&&d,v=t.isInvalid,m=void 0!==v&&v,y=t.as,g=void 0===y?"input":y,k=s(t,aC),b=(0,e.useContext)(QI).controlId;return i=h(i,"form-check-input"),(0,l.jsx)(g,a(a({},k),{},{ref:n,type:f,id:r||b,className:c()(o,i,p&&"is-valid",m&&"is-invalid")}))}));oC.displayName="FormCheckInput";var sC=oC,uC=["bsPrefix","className","htmlFor"],cC=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.htmlFor,u=s(t,uC),f=(0,e.useContext)(QI).controlId;return r=h(r,"form-check-label"),(0,l.jsx)("label",a(a({},u),{},{ref:n,htmlFor:o||f,className:c()(i,r)}))}));cC.displayName="FormCheckLabel";var lC=cC;var fC=["id","bsPrefix","bsSwitchPrefix","inline","disabled","isValid","isInvalid","feedbackTooltip","feedback","feedbackType","className","style","title","type","label","children","as"],hC=e.forwardRef((function(t,n){var r=t.id,i=t.bsPrefix,o=t.bsSwitchPrefix,u=t.inline,f=void 0!==u&&u,d=t.disabled,p=void 0!==d&&d,v=t.isValid,m=void 0!==v&&v,y=t.isInvalid,g=void 0!==y&&y,k=t.feedbackTooltip,b=void 0!==k&&k,w=t.feedback,x=t.feedbackType,E=t.className,S=t.style,I=t.title,C=void 0===I?"":I,T=t.type,_=void 0===T?"checkbox":T,N=t.label,P=t.children,O=t.as,R=void 0===O?"input":O,A=s(t,fC);i=h(i,"form-check"),o=h(o,"form-switch");var D=(0,e.useContext)(QI).controlId,j=(0,e.useMemo)((function(){return{controlId:r||D}}),[D,r]),L=!P&&null!=N&&!1!==N||function(t,n){return e.Children.toArray(t).some((function(t){return e.isValidElement(t)&&t.type===n}))}(P,lC),M=(0,l.jsx)(sC,a(a({},A),{},{type:"switch"===_?"checkbox":_,ref:n,isValid:m,isInvalid:g,disabled:p,as:R}));return(0,l.jsx)(QI.Provider,{value:j,children:(0,l.jsx)("div",{style:S,className:c()(E,L&&i,f&&"".concat(i,"-inline"),"switch"===_&&o),children:P||(0,l.jsxs)(l.Fragment,{children:[M,L&&(0,l.jsx)(lC,{title:C,children:N}),w&&(0,l.jsx)(iC,{type:x,tooltip:b,children:w})]})})})}));hC.displayName="FormCheck";var dC=Object.assign(hC,{Input:sC,Label:lC}),pC=(n(391),["bsPrefix","type","size","htmlSize","id","className","isValid","isInvalid","plaintext","readOnly","as"]),vC=e.forwardRef((function(t,n){var i,o,u=t.bsPrefix,f=t.type,d=t.size,p=t.htmlSize,v=t.id,m=t.className,y=t.isValid,g=void 0!==y&&y,k=t.isInvalid,b=void 0!==k&&k,w=t.plaintext,x=t.readOnly,E=t.as,S=void 0===E?"input":E,I=s(t,pC),C=(0,e.useContext)(QI).controlId;(u=h(u,"form-control"),w)?i=r({},"".concat(u,"-plaintext"),!0):(r(o={},u,!0),r(o,"".concat(u,"-").concat(d),d),i=o);return(0,l.jsx)(S,a(a({},I),{},{type:f,size:p,ref:n,readOnly:x,id:v||C,className:c()(m,i,g&&"is-valid",b&&"is-invalid","color"===f&&"".concat(u,"-color"))}))}));vC.displayName="FormControl";var mC=Object.assign(vC,{Feedback:iC}),yC=Pn("form-floating"),gC=["as","bsPrefix","column","visuallyHidden","className","htmlFor"],kC=e.forwardRef((function(t,n){var r=t.as,i=void 0===r?"label":r,o=t.bsPrefix,u=t.column,f=t.visuallyHidden,d=t.className,p=t.htmlFor,v=s(t,gC),m=(0,e.useContext)(QI).controlId;o=h(o,"form-label");var y="col-form-label";"string"===typeof u&&(y="".concat(y," ").concat(y,"-").concat(u));var g=c()(d,o,f&&"visually-hidden",u&&y);return p=p||m,u?(0,l.jsx)(I,a({ref:n,as:"label",className:g,htmlFor:p},v)):(0,l.jsx)(i,a({ref:n,className:g,htmlFor:p},v))}));kC.displayName="FormLabel",kC.defaultProps={column:!1,visuallyHidden:!1};var bC=kC,wC=["bsPrefix","className","id"],xC=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.id,u=s(t,wC),f=(0,e.useContext)(QI).controlId;return r=h(r,"form-range"),(0,l.jsx)("input",a(a({},u),{},{type:"range",ref:n,className:c()(i,r),id:o||f}))}));xC.displayName="FormRange";var EC=xC,SC=["bsPrefix","size","htmlSize","className","isValid","isInvalid","id"],IC=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.size,o=t.htmlSize,u=t.className,f=t.isValid,d=void 0!==f&&f,p=t.isInvalid,v=void 0!==p&&p,m=t.id,y=s(t,SC),g=(0,e.useContext)(QI).controlId;return r=h(r,"form-select"),(0,l.jsx)("select",a(a({},y),{},{size:o,ref:n,className:c()(u,r,i&&"".concat(r,"-").concat(i),d&&"is-valid",v&&"is-invalid"),id:m||g}))}));IC.displayName="FormSelect";var CC=IC,TC=["bsPrefix","className","as","muted"],_C=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=void 0===i?"small":i,u=e.muted,f=s(e,TC);return n=h(n,"form-text"),(0,l.jsx)(o,a(a({},f),{},{ref:t,className:c()(r,n,u&&"text-muted")}))}));_C.displayName="FormText";var NC=_C,PC=e.forwardRef((function(e,t){return(0,l.jsx)(dC,a(a({},e),{},{ref:t,type:"switch"}))}));PC.displayName="Switch";var OC=Object.assign(PC,{Input:dC.Input,Label:dC.Label}),RC=["className","validated","as"],AC={_ref:wn().any,validated:wn().bool,as:wn().elementType},DC=e.forwardRef((function(e,t){var n=e.className,r=e.validated,i=e.as,o=void 0===i?"form":i,u=s(e,RC);return(0,l.jsx)(o,a(a({},u),{},{ref:t,className:c()(n,r&&"was-validated")}))}));DC.displayName="Form",DC.propTypes=AC;var jC=Object.assign(DC,{Group:XI,Control:mC,Floating:yC,Check:dC,Switch:OC,Label:bC,Text:NC,Range:EC,Select:CC,FloatingLabel:eC}),LC=["bsPrefix","variant","animation","size","as","className"],MC=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.variant,i=e.animation,o=e.size,u=e.as,f=void 0===u?"div":u,d=e.className,p=s(e,LC);n=h(n,"spinner");var v="".concat(n,"-").concat(i);return(0,l.jsx)(f,a(a({ref:t},p),{},{className:c()(d,v,o&&"".concat(v,"-").concat(o),r&&"text-".concat(r))}))}));MC.displayName="Spinner";var FC=MC;function UC(t){var n=t.product,i=t.completedDispatcher,a=b((0,e.useState)((null===n||void 0===n?void 0:n.data.name)||""),2),o=a[0],s=a[1],u=b((0,e.useState)((null===n||void 0===n?void 0:n.data.category)||""),2),c=u[0],f=u[1],h=b((0,e.useState)((null===n||void 0===n?void 0:n.data.description)||""),2),d=h[0],p=h[1],v=b((0,e.useState)((null===n||void 0===n?void 0:n.data.price.toString())||""),2),m=v[0],y=v[1],g=b((0,e.useState)((null===n||void 0===n?void 0:n.data.stock.toString())||""),2),k=g[0],w=g[1],x=b((0,e.useState)((null===n||void 0===n?void 0:n.data.image.toString())||""),2),E=x[0],S=x[1],I=b((0,e.useState)((null===n||void 0===n?void 0:n.data.variants)||{}),2),C=I[0],T=I[1],_=b((0,e.useState)(""),2),N=_[0],P=_[1],O=b((0,e.useState)(""),2),R=O[0],A=O[1],D=b((0,e.useState)(""),2),j=D[0],L=D[1],M=b((0,e.useState)(""),2),F=(M[0],M[1]),U=b((0,e.useState)(!1),2),V=U[0],z=U[1],B=b((0,e.useState)(!1),2),q=B[0],H=B[1],K=b((0,e.useState)(!1),2),W=K[0],G=K[1],Q=b((0,e.useState)(!0),2),$=Q[0],Y=Q[1];function X(e,t){if(""!==e){var n=t.split(",");T(Object.assign(C,r({},e,n)))}}function J(e){var t={};Object.entries(C).map((function(n){var i=b(n,1)[0];i!==e&&Object.assign(t,r({},i,C[i]))})),T(t)}return(0,l.jsxs)("div",{children:[(0,l.jsx)(ir,{bg:"danger",onClose:function(){return G(!1)},show:W,delay:5e3,autohide:!0,className:"w-100 mb-2",children:(0,l.jsx)(ir.Body,{children:"An error occurred"})}),(0,l.jsx)(eC,{label:"Name",children:(0,l.jsx)(jC.Control,{type:"text",value:o,onChange:function(e){var t=e.target;return s(t.value)}})}),(0,l.jsx)("br",{}),(0,l.jsx)(eC,{label:"Category",children:(0,l.jsx)(jC.Control,{type:"text",value:c,onChange:function(e){var t=e.target;return f(t.value)}})}),(0,l.jsx)("br",{}),(0,l.jsx)(eC,{label:"Description",children:(0,l.jsx)(jC.Control,{type:"text",value:d,onChange:function(e){var t=e.target;return p(t.value)}})}),(0,l.jsx)("br",{}),(0,l.jsx)(eC,{label:"Price",children:(0,l.jsx)(jC.Control,{type:"number",value:m,onChange:function(e){var t=e.target;return y(t.value)}})}),(0,l.jsx)("br",{}),(0,l.jsx)(eC,{label:"Stock",children:(0,l.jsx)(jC.Control,{type:"number",value:k,onChange:function(e){var t=e.target;return w(t.value)}})}),(0,l.jsx)("br",{}),(0,l.jsx)(eC,{label:"Image URL",children:(0,l.jsx)(jC.Control,{type:"text",value:E,onChange:function(e){var t=e.target;return S(t.value)}})}),(0,l.jsx)("br",{}),(0,l.jsx)(l.Fragment,{children:"Variants:"}),(0,l.jsxs)("div",{children:[Object.entries(C).map((function(e){var t=b(e,2),n=t[0],r=t[1];return(0,l.jsxs)("p",{className:"wrap",children:[(0,l.jsx)("hr",{}),n," - ",r.join(","),(0,l.jsxs)("div",{style:{position:"absolute",right:"5px"},children:[(0,l.jsx)(ht,{style:{position:"relative",right:"3px"},onClick:function(){z(!0),L(n),P(n),F(r.join(",")),A(r.join(",")),Y(!1)},children:"Edit"}),(0,l.jsx)(ht,{variant:"danger",onClick:function(){J(n)},children:"Delete"})]})]},"group")})),(0,l.jsxs)("div",{className:"wrap",hidden:$,children:[(0,l.jsx)(eC,{style:{width:"150px"},label:"Variant Type",children:(0,l.jsx)(jC.Control,{type:"text",value:N,onChange:function(e){var t=e.target;return P(t.value)}})}),(0,l.jsx)("span",{style:{marginLeft:"15px"},children:"-"}),(0,l.jsx)(eC,{label:"Variant Options",style:{width:"200px",position:"relative",left:"15px"},children:(0,l.jsx)(jC.Control,{type:"text",value:R,onChange:function(e){var t=e.target;return A(t.value)}})}),(0,l.jsx)(ht,{style:{position:"relative",left:"25px"},onClick:function(){var e,t;V?(e=N,t=R,J(j),X(e,t),z(!1),L(""),F("")):X(N,R),Y(!0),P(""),A("")},children:"Save"})]}),(0,l.jsx)("p",{}),(0,l.jsx)(ht,{hidden:!$,variant:"primary",style:{borderRadius:"60px",backgroundColor:"#198754",borderWidth:"0px"},onClick:function(){return Y(!1)},children:"+"}),(0,l.jsx)("p",{})]}),(0,l.jsx)(ht,{disabled:q,variant:"success",onClick:function(){var e;H(!0),n?(n.data={name:o,category:c,description:d,price:parseInt(m),stock:parseInt(k),variants:C,image:E},e=qI.update(n)):e=qI.create({name:o,category:c,description:d,price:parseInt(m),stock:parseInt(k),variants:C,image:E}),e.then((function(){i&&i(!0),G(!1)})).catch((function(){return G(!0)})).finally((function(){return H(!1)}))},children:n?"Save Item":"Create Item"}),(0,l.jsx)(FC,{hidden:!q,animation:"border"})]})}var VC=function(){var t=b((0,e.useState)(0),2),n=t[0],r=t[1],i=GI([n],void 0,(function(){return s(!0)})),a=b((0,e.useState)(!1),2),o=a[0],s=a[1],u=b((0,e.useState)(!1),2),c=u[0],f=u[1],h=b((0,e.useState)(""),2),d=h[0],p=h[1],m=b((0,e.useState)(!1),2),y=m[0],g=m[1],k=b((0,e.useState)(!1),2),w=k[0],x=k[1],E=b((0,e.useState)(),2),S=E[0],I=E[1],C=b((0,e.useState)(!1),2),T=C[0],_=C[1],N=function(){return r(n+1)};return(0,l.jsxs)(v,{className:"mt-3",children:[(0,l.jsxs)("div",{className:"d-flex flex-row",children:[(0,l.jsx)("h2",{children:"Inventory"}),(0,l.jsx)(ht,{size:"lg",className:"ms-3 py-0 px-2",onClick:function(){return _(!0)},children:"Create New Item +"})]}),(0,l.jsxs)(kt,{striped:!0,className:"mt-2",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Product Name"}),(0,l.jsx)("th",{children:"Price"}),(0,l.jsx)("th",{children:"Stock"}),(0,l.jsx)("th",{children:"Modify"})]})}),(0,l.jsx)("tbody",{children:i.map((function(e){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.data.name}),(0,l.jsx)("td",{children:e.data.price}),(0,l.jsx)("td",{children:e.data.stock}),(0,l.jsxs)("td",{children:[(0,l.jsx)(ht,{size:"sm",className:"me-2",onClick:function(){I(e),x(!0)},children:"Edit"}),(0,l.jsx)(ht,{variant:"danger",size:"sm",onClick:function(){return t=e.reference,void qI.delete(t).then((function(){f(!0),p("Successfully deleted item"),g(!1),N()})).catch((function(){f(!0),p("Could not delete item"),g(!0)}));var t},children:"Delete"})]})]},e.reference.id)}))})]}),o?(0,l.jsx)(Mn,{variant:"danger",children:"Failed to load products"}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)(zn,{className:"my-5 mx-2",position:"bottom-end",children:(0,l.jsx)(ir,{bg:y?"danger":"success",onClose:function(){return f(!1)},show:c,delay:3e3,autohide:!0,children:(0,l.jsx)(ir.Body,{children:d})})}),(0,l.jsxs)(Yr,{show:w,onHide:function(){return x(!1)},children:[(0,l.jsx)(Yr.Header,{closeButton:!0,children:(0,l.jsx)(Yr.Title,{children:"Edit Item"})}),(0,l.jsx)(Yr.Body,{children:(0,l.jsx)(UC,{product:S,completedDispatcher:function(e){return function(e){e?(f(!0),p("Successfully edited item"),g(!1),N()):(f(!0),p("Could not edit item"),g(!0)),x(!1)}(e)}})})]}),(0,l.jsxs)(Yr,{show:T,onHide:function(){return _(!1)},children:[(0,l.jsx)(Yr.Header,{closeButton:!0,children:(0,l.jsx)(Yr.Title,{children:"New Item"})}),(0,l.jsx)(Yr.Body,{children:(0,l.jsx)(UC,{completedDispatcher:function(e){return function(e){e?(f(!0),p("Successfully created a new item"),g(!1),N()):(f(!0),p("Could not create a new item"),g(!0)),_(!1)}(e)}})})]})]})};var zC=function(){var t=b((0,e.useState)(!1),2),n=t[0],r=t[1],i=b((0,e.useState)(!1),2),a=i[0],o=i[1],s=function(e,t,n,r){return MI((function(){return WI.listAll(e)}),[],t,n,r)}(RI(),[],(function(){return r(!0)}),(function(){r(!0),o(!0)}));return n?(0,l.jsxs)(v,{className:"mt-3",children:[(0,l.jsx)("h2",{children:"Orders"}),a?(0,l.jsx)(Mn,{variant:"danger",children:"Failed to load products"}):(0,l.jsxs)(kt,{striped:!0,className:"mt-2",children:[(0,l.jsx)("thead",{children:(0,l.jsxs)("tr",{children:[(0,l.jsx)("th",{children:"Product Name"}),(0,l.jsx)("th",{children:"Price"}),(0,l.jsx)("th",{children:"Stock"}),(0,l.jsx)("th",{children:"Modify"})]})}),(0,l.jsx)("tbody",{children:s.map((function(e){return(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:e.data.user}),(0,l.jsx)("td",{children:e.data.status}),(0,l.jsx)("td",{children:e.data.items[0].product.name}),(0,l.jsx)("td",{children:e.data.address.addr1}),(0,l.jsx)("td",{children:e.data.payment.cardholderName})]},e.reference.id)}))})]})]}):(0,l.jsxs)(v,{className:"mt-3",children:[(0,l.jsx)("h2",{children:"Orders"}),(0,l.jsx)("p",{children:"Loading orders..."})]})},BC=function(){return(0,l.jsx)(v,{className:"mt-3",children:(0,l.jsx)("h2",{children:"Users"})})},qC=["Inventory","Orders","Users"],HC=function(){var t=b((0,e.useState)("Inventory"),2),n=t[0],r=t[1];return(0,l.jsx)(v,{fluid:!0,className:"flex-grow-1 ez-bg",children:(0,l.jsxs)(v,{className:"h-100 side-shadow",children:[(0,l.jsx)("h1",{className:"p-4",children:"Admin Dashboard"}),(0,l.jsx)("hr",{}),(0,l.jsx)(v,{className:"d-flex justify-content-center align-items-center",children:(0,l.jsx)(at,{children:qC.map((function(e,t){return(0,l.jsx)(mt,{id:"option-".concat(e),type:"radio",variant:"outline-primary",name:"option",size:"lg",value:e,checked:n===e,onChange:function(e){return r(e.currentTarget.value)},children:e},t)}))})}),"Inventory"===n&&(0,l.jsx)(VC,{}),"Orders"===n&&(0,l.jsx)(zC,{}),"Users"===n&&(0,l.jsx)(BC,{})]})})},KC=[];function WC(e){var t=KC.push(e)-1;return function(){KC.splice(t,1)}}function GC(){var t=b((0,e.useState)(XC()),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){return WC(r)}),[]),n}function QC(){KC.forEach((function(e){return e(YC)}))}var $C=null,YC={items:[]};function XC(){return YC}function JC(e){var t=YC.items.filter((function(t){return t!==e}));YC={items:t},eT().then(QC)}function ZC(e,t,n){!function(e){new Promise((function(t,n){WI.create(e).then((function(){return t()})).catch(n)}))}({date:new Date,items:YC.items,user:null===e?"anonymous":e.uid,status:"pending",address:t,payment:n}),YC={items:[]},eT().then(QC)}function eT(){return new Promise((function(e,t){$C?KI.update($C,YC).then((function(){return e()})).catch(t):e()}))}var tT=["bsPrefix","bg","pill","text","className","as"],nT=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.bg,i=e.pill,o=e.text,u=e.className,f=e.as,d=void 0===f?"span":f,p=s(e,tT),v=h(n,"badge");return(0,l.jsx)(d,a(a({ref:t},p),{},{className:c()(u,v,i&&"rounded-pill",o&&"text-".concat(o),r&&"bg-".concat(r))}))}));nT.displayName="Badge",nT.defaultProps={bg:"primary",pill:!1};var rT=nT,iT=["bsPrefix","className","children","aspectRatio","style"];var aT=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,u=t.aspectRatio,f=t.style,d=s(t,iT);r=h(r,"ratio");var p,v="number"===typeof u;return(0,l.jsx)("div",a(a({ref:n},d),{},{style:a(a({},f),v&&{"--bs-aspect-ratio":(p=u,p<=0||p>100?"100%":"".concat(p<1?100*p:p,"%"))}),className:c()(r,i,!v&&"".concat(r,"-").concat(u)),children:e.Children.only(o)}))}));aT.defaultProps={aspectRatio:"1x1"};var oT=aT,sT=["bsPrefix","className","fluid","rounded","roundedCircle","thumbnail"],uT=(wn().string,wn().bool,wn().bool,wn().bool,wn().bool,e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.fluid,o=e.rounded,u=e.roundedCircle,f=e.thumbnail,d=s(e,sT);return n=h(n,"img"),(0,l.jsx)("img",a(a({ref:t},d),{},{className:c()(r,i&&"".concat(n,"-fluid"),o&&"rounded",u&&"rounded-circle",f&&"".concat(n,"-thumbnail"))}))})));uT.displayName="Image",uT.defaultProps={fluid:!1,rounded:!1,roundedCircle:!1,thumbnail:!1};var cT=uT,lT=["bsPrefix","className","as"],fT=["xxl","xl","lg","md","sm","xs"],hT=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=void 0===i?"div":i,u=s(e,lT),f=h(n,"row"),d="".concat(f,"-cols"),p=[];return fT.forEach((function(e){var t,n=u[e];delete u[e],t=null!=n&&"object"===typeof n?n.cols:n;var r="xs"!==e?"-".concat(e):"";null!=t&&p.push("".concat(d).concat(r,"-").concat(t))})),(0,l.jsx)(o,a(a({ref:t},u),{},{className:c().apply(void 0,[r,f].concat(p))}))}));hT.displayName="Row";var dT=hT,pT=function(e){var t=e.item,n=function(e){isNaN(e)||(e>t.product.stock&&(e=t.product.stock),e<=0?JC(t):function(e,t){var n=YC.items.findIndex((function(t){return t===e}));if(-1!==n){t>e.product.stock&&(t=e.product.stock);var r=a(a({},e),{},{quantity:t}),i=T(YC.items);i.splice(n,1,r),YC={items:i},eT().then(QC)}else console.warn("Attempted to update the cart quantity of a non-existant item.")}(t,e))};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(v,{className:"d-flex flex-row",children:[(0,l.jsx)(I,{xs:2,children:(0,l.jsx)(oT,{aspectRatio:"1x1",children:(0,l.jsx)(v,{fluid:!0,className:"d-flex align-items-center justify-content-center overflow-hidden",children:(0,l.jsx)(cT,{fluid:!0,src:t.product.image})})})}),(0,l.jsxs)(I,{className:"d-flex flex-row mx-3",children:[(0,l.jsxs)(I,{xs:10,className:"d-flex flex-column align-items-start",children:[(0,l.jsx)(dT,{className:"mb-0 pb-0",children:(0,l.jsx)("h3",{className:"mb-0 pb-0",children:t.product.name})}),(0,l.jsx)(dT,{className:"mb-auto",children:(0,l.jsx)(v,{className:"mb-2",children:function(){var e=[];return Object.entries(t.variants).forEach((function(n,r){var i=b(n,1)[0];e.push((0,l.jsxs)(rT,{className:"me-2",bg:"secondary",children:[i,": ",t.variants[i]]},r))})),e}()})}),(0,l.jsx)(dT,{children:(0,l.jsxs)(v,{children:["In Stock: ",t.product.stock]})})]}),(0,l.jsxs)(I,{className:"d-flex flex-column align-items-end",children:[(0,l.jsxs)(dT,{className:"mb-auto text-end",children:[(0,l.jsxs)("h4",{className:"mb-0",children:["$",t.product.price*t.quantity," "]}),(0,l.jsxs)("h6",{children:["$",t.product.price,"/pc x",t.quantity]})]}),(0,l.jsx)(dT,{children:(0,l.jsxs)(v,{fluid:!0,children:[(0,l.jsx)("h6",{children:"Quantity"}),(0,l.jsxs)(v,{fluid:!0,className:"d-flex flex-row align-items-end ps-0 pe-0 me-0",children:[(0,l.jsx)(jC.Control,{type:"number",style:{width:"65px"},value:t.quantity,onChange:function(e){return n(parseInt(e.target.value))}}),(0,l.jsx)(ht,{variant:"danger",className:"ms-1",onClick:function(){return JC(t)},children:"X"})]})]})})]})]})]}),(0,l.jsx)("hr",{})]})},vT=function(e){var t=e.shippingOption,n=e.setShippingOption,r=e.standardShippingPercent,i=e.expressShippingPercent,o=e.address,s=e.setAddress;return(0,l.jsxs)(jC,{children:[(0,l.jsx)("h2",{className:"mb-4",style:{marginBottom:"1rem"},children:"Shipping"}),(0,l.jsxs)("div",{className:"mb-4",style:{marginTop:"1.5rem"},children:[(0,l.jsx)("h4",{children:"Delivery Option"}),(0,l.jsx)(dT,{children:(0,l.jsx)(I,{children:(0,l.jsx)(jC.Check,{type:"radio",label:"Standard Delivery - ".concat(r,"%"),name:"deliveryOption",value:"standard",id:"standardDelivery",checked:"standard"===t,onChange:function(e){return n(e.target.value)}})})}),(0,l.jsx)(dT,{children:(0,l.jsx)(I,{children:(0,l.jsx)(jC.Check,{type:"radio",label:"Express Delivery - ".concat(i,"%"),name:"deliveryOption",value:"express",id:"expressDelivery",checked:"express"===t,onChange:function(e){return n(e.target.value)}})})})]}),(0,l.jsxs)("div",{className:"mb-4",children:[(0,l.jsx)("h4",{style:{marginBottom:"1rem"},children:"Shipping Address"}),(0,l.jsx)(jC.Group,{as:dT,controlId:"formStreetAddress",className:"mb-3",children:(0,l.jsx)(I,{sm:12,children:(0,l.jsx)(jC.Control,{type:"text",placeholder:"Street Address",required:!0,value:o.addr1,onChange:function(e){return s(a(a({},o),{},{addr1:e.target.value}))}})})}),(0,l.jsx)(jC.Group,{as:dT,controlId:"formStreetAddress2",className:"mb-3",children:(0,l.jsx)(I,{sm:12,children:(0,l.jsx)(jC.Control,{type:"text",placeholder:"Apartment",value:o.addr2?o.addr2:"",onChange:function(e){return s(a(a({},o),{},{addr2:e.target.value}))}})})}),(0,l.jsx)(jC.Group,{as:dT,controlId:"formCity",className:"mb-3",style:{marginBottom:"0px"},children:(0,l.jsx)(I,{sm:12,children:(0,l.jsx)(jC.Control,{type:"text",placeholder:"City",required:!0,value:o.city,onChange:function(e){return s(a(a({},o),{},{city:e.target.value}))}})})}),(0,l.jsx)(jC.Group,{as:dT,controlId:"formState",className:"mb-3",style:{marginBottom:"0px"},children:(0,l.jsx)(I,{sm:12,children:(0,l.jsx)(jC.Control,{type:"text",placeholder:"State",required:!0,value:o.state,onChange:function(e){return s(a(a({},o),{},{state:e.target.value}))}})})}),(0,l.jsx)(jC.Group,{as:dT,controlId:"formZipCode",className:"mb-3",style:{marginBottom:"0px"},children:(0,l.jsx)(I,{sm:12,children:(0,l.jsx)(jC.Control,{type:"text",placeholder:"Zip",required:!0,value:o.zip,onChange:function(e){return s(a(a({},o),{},{zip:e.target.value}))}})})})]})]})},mT=function(e){var t=e.orderComplete;return(0,l.jsx)(Yr,{show:t,size:"sm",centered:!0,children:(0,l.jsxs)(Yr.Body,{className:"d-flex flex-column text-center",children:[(0,l.jsx)("h2",{children:"Order Placed"}),(0,l.jsx)(v,{className:"px-4 py-4",children:(0,l.jsx)(cT,{fluid:!0,thumbnail:!0,roundedCircle:!0,src:"https://upload.wikimedia.org/wikipedia/commons/6/6f/Eo_circle_light-green_checkmark.svg"})}),(0,l.jsx)("h6",{children:"Redirecting..."})]})})},yT=function(e){var t=e.confirmation,n=e.setConfirmation,r=e.submitOrder,i=e.payment,o=e.setPayment;return(0,l.jsxs)(Yr,{show:t,centered:!0,onHide:function(){return n(!1)},children:[(0,l.jsx)(Yr.Header,{closeButton:!0,children:(0,l.jsx)("h3",{children:"Confirm Payment Information"})}),(0,l.jsxs)(Yr.Body,{className:"d-flex flex-column",children:[(0,l.jsx)(v,{children:(0,l.jsxs)(jC,{children:[(0,l.jsx)(dT,{children:(0,l.jsxs)(I,{children:[(0,l.jsx)(jC.Label,{children:"Cardholder"}),(0,l.jsx)(jC.Control,{placeholder:"Name on card",value:i.cardholderName,onChange:function(e){return o(a(a({},i),{},{cardholderName:e.target.value}))}})]})}),(0,l.jsxs)(dT,{className:"mb-3",children:[(0,l.jsxs)(I,{children:[(0,l.jsx)(jC.Label,{children:"Card Number"}),(0,l.jsx)(jC.Control,{placeholder:"Card Number",value:i.cardNumber,onChange:function(e){return o(a(a({},i),{},{cardNumber:e.target.value}))}}),(0,l.jsx)(jC.Label,{children:"CVV"}),(0,l.jsx)(jC.Control,{placeholder:"000",value:i.cvv,onChange:function(e){return o(a(a({},i),{},{cvv:e.target.value}))}})]}),(0,l.jsxs)(I,{children:[(0,l.jsx)(jC.Label,{children:"Expiration"}),(0,l.jsxs)(v,{fluid:!0,className:"d-flex p-0 m-0",children:[(0,l.jsx)(jC.Control,{className:"me-2",placeholder:"MM",type:"number",value:i.expiration.getMonth()+1,onChange:function(e){var t=new Date;t.setDate(1),t.setMonth(parseInt(e.target.value)-1),t.setFullYear(i.expiration.getFullYear()),o(a(a({},i),{},{expiration:t}))}}),(0,l.jsx)(jC.Control,{placeholder:"YYYY",type:"number",value:i.expiration.getFullYear(),onChange:function(e){var t=new Date;t.setDate(1),t.setMonth(i.expiration.getMonth()),t.setFullYear(parseInt(e.target.value)),o(a(a({},i),{},{expiration:t}))}})]}),(0,l.jsx)(jC.Label,{children:"Zipcode"}),(0,l.jsx)(jC.Control,{placeholder:"Zip",value:i.zip,onChange:function(e){return o(a(a({},i),{},{zip:e.target.value}))}})]})]})]})}),(0,l.jsx)(ht,{variant:"success",onClick:function(){return r()},disabled:""===i.cardholderName||""===i.cardNumber||""===i.cvv||""===i.zip,children:"Place Order"})]})]})},gT=function(){var t=GC(),n=RI(),r=function(){var t=b((0,e.useState)(xI),2),n=t[0],r=t[1];return(0,e.useEffect)((function(){return CE(kI,(function(e){PI(e).then(r)}))}),[]),n}(),i=b((0,e.useState)("standard"),2),a=i[0],o=i[1],s=b((0,e.useState)(0),2),u=s[0],c=s[1],f=b((0,e.useState)(!1),2),h=f[0],d=f[1],p=b((0,e.useState)(!1),2),m=p[0],y=p[1],g=b((0,e.useState)(r?r.addresses[0]:{addr1:"",addr2:"",city:"",state:"",zip:""}),2),k=g[0],w=g[1],x=b((0,e.useState)(r?r.payments[0]:{cardholderName:"",cardNumber:"",expiration:new Date,cvv:"",zip:""}),2),E=x[0],S=x[1];(0,e.useEffect)((function(){return T()}),[t,a]);var C=Be(),T=function(){var e=t.items.reduce((function(e,t){return e+t.product.price*t.quantity}),0);c(e+("standard"===a?.05*e:.08*e))};return(0,l.jsx)(v,{fluid:!0,className:"flex-grow-1 ez-bg",children:(0,l.jsxs)(v,{className:"h-100 side-shadow",children:[(0,l.jsx)("h1",{className:"p-4",children:"Your Cart"}),(0,l.jsx)("hr",{}),(0,l.jsxs)(v,{className:"d-flex flex-row",children:[(0,l.jsx)(I,{xs:8,children:t.items.map((function(e,t){return(0,l.jsx)(pT,{item:e},t)}))}),(0,l.jsx)(I,{xs:1,children:(0,l.jsx)(l.Fragment,{})}),(0,l.jsx)(I,{children:(0,l.jsxs)(v,{className:"p-3",style:{backgroundColor:"#e6e6e6"},children:[(0,l.jsxs)("h2",{children:["Total:"," ",0===t.items.length?"$0.00":"$"+u.toLocaleString(void 0,{minimumFractionDigits:2})]}),(0,l.jsx)("hr",{}),(0,l.jsx)("div",{className:"mt-4",children:(0,l.jsx)(vT,{shippingOption:a,setShippingOption:o,standardShippingPercent:5,expressShippingPercent:8,address:k,setAddress:w})}),(0,l.jsx)(ht,{variant:"success",size:"lg",disabled:0===t.items.length||""===k.addr1||""===k.city||""===k.state||""===k.zip,onClick:function(){return y(!0)},children:"Payment \xbb"})]})})]}),(0,l.jsx)(mT,{orderComplete:h}),(0,l.jsx)(yT,{confirmation:m,setConfirmation:y,submitOrder:function(){y(!1),ZC(n,k,E),d(!0),setTimeout((function(){return C("/confirmation",{state:{cartItems:t.items,total:u}})}),1500)},payment:E,setPayment:S})]})})},kT=function(e){var t=e.item;return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)(v,{className:"d-flex flex-row",children:[(0,l.jsx)(I,{xs:2,children:(0,l.jsx)(oT,{aspectRatio:"1x1",children:(0,l.jsx)(v,{fluid:!0,className:"d-flex align-items-center justify-content-center overflow-hidden",children:(0,l.jsx)(cT,{fluid:!0,src:t.product.image})})})}),(0,l.jsxs)(I,{className:"d-flex flex-row mx-3 align-items-center",children:[(0,l.jsx)(I,{className:"d-flex flex-column align-items-start",children:(0,l.jsx)(dT,{className:"mb-0 pb-0",children:(0,l.jsx)("h3",{className:"mb-0 pb-0",children:t.product.name})})}),(0,l.jsx)(I,{className:"d-flex flex-column align-items-end",children:(0,l.jsxs)(dT,{className:"mb-auto text-end",children:[(0,l.jsxs)("h4",{className:"mb-0",children:["$",t.product.price*t.quantity," "]}),(0,l.jsxs)("h6",{children:["$",t.product.price,"/pc x",t.quantity]})]})})]})]}),(0,l.jsx)("hr",{})]})},bT=function(){var e,t,n=ze(),r=(null===(e=n.state)||void 0===e?void 0:e.cartItems)||[],i=(null===(t=n.state)||void 0===t?void 0:t.total)||0;return(0,l.jsxs)(v,{fluid:!0,className:"d-flex flex-column flex-grow-1 align-items-center justify-content-center",children:[(0,l.jsxs)("h1",{className:"mb-4",children:["Receipt - $",i.toLocaleString(void 0,{minimumFractionDigits:2})]}),(0,l.jsx)(v,{className:"d-flex flex-column w-25",children:r.map((function(e,t){return(0,l.jsx)(kT,{item:e},t)}))}),(0,l.jsx)(ht,{variant:"success",size:"lg",href:"#/",className:"mt-4",children:"Return Home"})]})},wT=function(){return(0,l.jsxs)(v,{fluid:!0,className:"d-flex flex-column justify-content-center align-items-center",style:{height:"90%"},children:[(0,l.jsx)(cT,{thumbnail:!0,className:"my-4",src:"https://i.ibb.co/WzvwDh7/monkey.png"}),(0,l.jsx)("p",{style:{fontWeight:"500"},children:"There is nothing here. Go somewhere else."})]})},xT=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return null!=e?String(e):t||null},ET=e.createContext(null),ST=["bsPrefix","className","as"],IT=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=s(e,ST);n=h(n,"navbar-brand");var u=i||(o.href?"a":"span");return(0,l.jsx)(u,a(a({},o),{},{ref:t,className:c()(r,n)}))}));IT.displayName="NavbarBrand";var CT=IT;var TT,_T=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return null!=e})).reduce((function(e,t){if("function"!==typeof t)throw new Error("Invalid Argument Type, must only provide functions, undefined, or null.");return null===e?t:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}}),null)},NT=["onEnter","onEntering","onEntered","onExit","onExiting","className","children","dimension","getDimensionValue"],PT={height:["marginTop","marginBottom"],width:["marginLeft","marginRight"]};function OT(e,t){var n=t["offset".concat(e[0].toUpperCase()).concat(e.slice(1))],r=PT[e];return n+parseInt(Yt(t,r[0]),10)+parseInt(Yt(t,r[1]),10)}var RT=(r(TT={},Mt,"collapse"),r(TT,Vt,"collapsing"),r(TT,Ft,"collapsing"),r(TT,Ut,"collapse show"),TT),AT={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,getDimensionValue:OT},DT=e.forwardRef((function(t,n){var r=t.onEnter,i=t.onEntering,o=t.onEntered,u=t.onExit,f=t.onExiting,h=t.className,d=t.children,p=t.dimension,v=void 0===p?"height":p,m=t.getDimensionValue,y=void 0===m?OT:m,g=s(t,NT),k="function"===typeof v?v():v,b=(0,e.useMemo)((function(){return _T((function(e){e.style[k]="0"}),r)}),[k,r]),w=(0,e.useMemo)((function(){return _T((function(e){var t="scroll".concat(k[0].toUpperCase()).concat(k.slice(1));e.style[k]="".concat(e[t],"px")}),i)}),[k,i]),x=(0,e.useMemo)((function(){return _T((function(e){e.style[k]=null}),o)}),[k,o]),E=(0,e.useMemo)((function(){return _T((function(e){e.style[k]="".concat(y(k,e),"px"),cn(e)}),u)}),[u,y,k]),S=(0,e.useMemo)((function(){return _T((function(e){e.style[k]=null}),f)}),[k,f]);return(0,l.jsx)(vn,a(a({ref:n,addEndListener:un},g),{},{"aria-expanded":g.role?g.in:null,onEnter:b,onEntering:w,onEntered:x,onExit:E,onExiting:S,childRef:d.ref,children:function(t,n){return e.cloneElement(d,a(a({},n),{},{className:c()(h,d.props.className,RT[t],"width"===k&&"collapse-horizontal")}))}}))}));DT.defaultProps=AT;var jT=DT,LT=e.createContext(null);LT.displayName="NavbarContext";var MT=LT,FT=["children","bsPrefix"],UT=e.forwardRef((function(t,n){var r=t.children,i=t.bsPrefix,o=s(t,FT);i=h(i,"navbar-collapse");var u=(0,e.useContext)(MT);return(0,l.jsx)(jT,a(a({in:!(!u||!u.expanded)},o),{},{children:(0,l.jsx)("div",{ref:n,className:i,children:r})}))}));UT.displayName="NavbarCollapse";var VT=UT,zT=["bsPrefix","className","children","label","as","onClick"],BT=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,u=t.label,f=t.as,d=void 0===f?"button":f,p=t.onClick,v=s(t,zT);r=h(r,"navbar-toggler");var m=(0,e.useContext)(MT)||{},y=m.onToggle,g=m.expanded,k=_t((function(e){p&&p(e),y&&y()}));return"button"===d&&(v.type="button"),(0,l.jsx)(d,a(a({},v),{},{ref:n,onClick:k,"aria-label":u,className:c()(i,r,!g&&"collapsed"),children:o||(0,l.jsx)("span",{className:"".concat(r,"-icon")})}))}));BT.displayName="NavbarToggle",BT.defaultProps={label:"Toggle navigation"};var qT,HT=BT,KT=Pn("offcanvas-body"),WT=["bsPrefix","className","children"],GT=(r(qT={},Ft,"show"),r(qT,Ut,"show"),qT),QT=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,u=s(t,WT);return r=h(r,"offcanvas"),(0,l.jsx)(vn,a(a({ref:n,addEndListener:un},u),{},{childRef:o.ref,children:function(t,n){return e.cloneElement(o,a(a({},n),{},{className:c()(i,o.props.className,(t===Ft||t===Vt)&&"".concat(r,"-toggling"),GT[t])}))}}))}));QT.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1},QT.displayName="OffcanvasToggling";var $T=QT,YT=["bsPrefix","className"],XT=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=s(e,YT);return n=h(n,"offcanvas-header"),(0,l.jsx)(Vr,a(a({ref:t},i),{},{className:c()(r,n)}))}));XT.displayName="OffcanvasHeader",XT.defaultProps={closeLabel:"Close",closeButton:!1};var JT=XT,ZT=Pn("offcanvas-title",{Component:Cn("h5")}),e_=["bsPrefix","className","children","aria-labelledby","placement","show","backdrop","keyboard","scroll","onEscapeKeyDown","onShow","onHide","container","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","onEntered","onExit","onExiting","onEnter","onEntering","onExited","backdropClassName","manager"];function t_(e){return(0,l.jsx)($T,a({},e))}function n_(e){return(0,l.jsx)(kn,a({},e))}var r_=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.children,u=t["aria-labelledby"],f=t.placement,d=t.show,p=t.backdrop,v=t.keyboard,m=t.scroll,y=t.onEscapeKeyDown,g=t.onShow,k=t.onHide,b=t.container,w=t.autoFocus,x=t.enforceFocus,E=t.restoreFocus,S=t.restoreFocusOptions,I=t.onEntered,C=t.onExit,T=t.onExiting,_=t.onEnter,N=t.onEntering,P=t.onExited,O=t.backdropClassName,R=t.manager,A=s(t,e_),D=(0,e.useRef)();r=h(r,"offcanvas");var j=((0,e.useContext)(MT)||{}).onToggle,L=_t((function(){null==j||j(),null==k||k()})),M=(0,e.useMemo)((function(){return{onHide:L}}),[L]);var F=(0,e.useCallback)((function(e){return(0,l.jsx)("div",a(a({},e),{},{className:c()("".concat(r,"-backdrop"),O)}))}),[O,r]);return(0,l.jsx)(Ar.Provider,{value:M,children:(0,l.jsx)(br,{show:d,ref:n,backdrop:p,container:b,keyboard:v,autoFocus:w,enforceFocus:x&&!m,restoreFocus:E,restoreFocusOptions:S,onEscapeKeyDown:y,onShow:g,onHide:L,onEnter:function(e){e&&(e.style.visibility="visible");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==_||_.apply(void 0,[e].concat(n))},onEntering:N,onEntered:I,onExit:C,onExiting:T,onExited:function(e){e&&(e.style.visibility="");for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null==P||P.apply(void 0,n)},manager:R||(m?(D.current||(D.current=new Or({handleContainerOverflow:!1})),D.current):Pr()),transition:t_,backdropTransition:n_,renderBackdrop:F,renderDialog:function(e){return(0,l.jsx)("div",a(a(a({role:"dialog"},e),A),{},{className:c()(i,r,"".concat(r,"-").concat(f)),"aria-labelledby":u,children:o}))}})})}));r_.displayName="Offcanvas",r_.defaultProps={show:!1,backdrop:!0,keyboard:!0,scroll:!1,autoFocus:!0,enforceFocus:!0,restoreFocus:!0,placement:"start"};var i_=Object.assign(r_,{Body:KT,Header:JT,Title:ZT}),a_=e.forwardRef((function(t,n){var r=(0,e.useContext)(MT);return(0,l.jsx)(i_,a({ref:n,show:!(null==r||!r.expanded)},t))}));a_.displayName="NavbarOffcanvas";var o_=a_,s_=["bsPrefix","expand","variant","bg","fixed","sticky","className","as","expanded","onToggle","onSelect","collapseOnSelect"],u_=Pn("navbar-text",{Component:"span"}),c_=e.forwardRef((function(t,n){var r=Et(t,{expanded:"onToggle"}),i=r.bsPrefix,o=r.expand,u=r.variant,f=r.bg,d=r.fixed,p=r.sticky,v=r.className,m=r.as,y=void 0===m?"nav":m,g=r.expanded,k=r.onToggle,b=r.onSelect,w=r.collapseOnSelect,x=s(r,s_),E=h(i,"navbar"),S=(0,e.useCallback)((function(){null==b||b.apply(void 0,arguments),w&&g&&(null==k||k(!1))}),[b,w,g,k]);void 0===x.role&&"nav"!==y&&(x.role="navigation");var I="".concat(E,"-expand");"string"===typeof o&&(I="".concat(I,"-").concat(o));var C=(0,e.useMemo)((function(){return{onToggle:function(){return null==k?void 0:k(!g)},bsPrefix:E,expanded:!!g}}),[E,g,k]);return(0,l.jsx)(MT.Provider,{value:C,children:(0,l.jsx)(ET.Provider,{value:S,children:(0,l.jsx)(y,a(a({ref:n},x),{},{className:c()(v,E,o&&I,u&&"".concat(E,"-").concat(u),f&&"bg-".concat(f),p&&"sticky-".concat(p),d&&"fixed-".concat(d))}))})})}));c_.defaultProps={expand:!0,variant:"light",collapseOnSelect:!1},c_.displayName="Navbar";var l_=Object.assign(c_,{Brand:CT,Collapse:VT,Offcanvas:o_,Text:u_,Toggle:HT}),f_=function(){return(0,l.jsxs)(l_,{style:{backgroundColor:"#e6e6e6"},children:[(0,l.jsx)("div",{style:{paddingLeft:"10px"},children:"EZShop\u2122"}),(0,l.jsx)(l_.Collapse,{className:"justify-content-end",children:window.innerWidth>850?(0,l.jsx)("a",{href:"https://github.com/Tayzn/275-Final-Project/",style:{paddingRight:"10px"},children:"CISC275 Final Project | Team 4 : Tyler Nauta, Paul Kearney, Matt Meredith, Nick Lago, Evan Lewis, Kay Sousa"}):(0,l.jsx)("a",{href:"https://github.com/Tayzn/275-Final-Project/",style:{paddingRight:"10px"},children:"CISC275 Final Project | Team 4"})})]})};n(573);var h_=e.createContext(null);h_.displayName="NavContext";var d_=h_,p_=e.createContext(null),v_=["as","active","eventKey"];function m_(t){var n=t.key,r=t.onClick,i=t.active,a=t.id,o=t.role,s=t.disabled,u=(0,e.useContext)(ET),c=(0,e.useContext)(d_),l=i,f={role:o};if(c){o||"tablist"!==c.role||(f.role="tab");var h=c.getControllerId(null!=n?n:null),d=c.getControlledId(null!=n?n:null);f[cr("event-key")]=n,f.id=h||a,f["aria-controls"]=d,l=null==i&&null!=n?c.activeKey===n:i}return"tab"===f.role&&(s&&(f.tabIndex=-1,f["aria-disabled"]=!0),l?f["aria-selected"]=l:f.tabIndex=-1),f.onClick=_t((function(e){s||(null==r||r(e),null!=n&&u&&!e.isPropagationStopped()&&u(n,e))})),[f,{isActive:l}]}var y_=e.forwardRef((function(e,t){var n=e.as,r=void 0===n?ct:n,i=e.active,a=e.eventKey,o=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,v_),s=b(m_(Object.assign({key:xT(a,o.href),active:i},o)),2),u=s[0],c=s[1];return u[cr("active")]=c.isActive,(0,l.jsx)(r,Object.assign({},o,u,{ref:t}))}));y_.displayName="NavItem";var g_=y_,k_=["as","onSelect","activeKey","role","onKeyDown"];var b_=function(){},w_=cr("event-key"),x_=e.forwardRef((function(t,n){var r,i,a=t.as,o=void 0===a?"div":a,s=t.onSelect,u=t.activeKey,c=t.role,f=t.onKeyDown,h=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,k_),d=(0,e.useReducer)((function(e){return!e}),!1)[1],p=(0,e.useRef)(!1),v=(0,e.useContext)(ET),m=(0,e.useContext)(p_);m&&(c=c||"tablist",u=m.activeKey,r=m.getControlledId,i=m.getControllerId);var y=(0,e.useRef)(null),g=function(e){var t=y.current;if(!t)return null;var n=Er(t,"[".concat(w_,"]:not([aria-disabled=true])")),r=t.querySelector("[aria-selected=true]");if(!r)return null;var i=n.indexOf(r);if(-1===i)return null;var a=i+e;return a>=n.length&&(a=0),a<0&&(a=n.length-1),n[a]},k=function(e,t){null!=e&&(null==s||s(e,t),null==v||v(e,t))};(0,e.useEffect)((function(){if(y.current&&p.current){var e=y.current.querySelector("[".concat(w_,"][aria-selected=true]"));null==e||e.focus()}p.current=!1}));var b=fn(n,y);return(0,l.jsx)(ET.Provider,{value:k,children:(0,l.jsx)(d_.Provider,{value:{role:c,activeKey:xT(u),getControlledId:r||b_,getControllerId:i||b_},children:(0,l.jsx)(o,Object.assign({},h,{onKeyDown:function(e){if(null==f||f(e),m){var t,n;switch(e.key){case"ArrowLeft":case"ArrowUp":t=g(-1);break;case"ArrowRight":case"ArrowDown":t=g(1);break;default:return}if(t)e.preventDefault(),k(t.dataset[(n="EventKey","".concat("rrUi").concat(n))]||null,e),p.current=!0,d()}},ref:b,role:c}))})})}));x_.displayName="Nav";var E_=Object.assign(x_,{Item:g_}),S_=e.createContext(null);S_.displayName="CardHeaderContext";var I_=S_,C_=Pn("nav-item"),T_=["bsPrefix","className","as","active","eventKey"],__=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.as,o=void 0===i?At:i,u=e.active,f=e.eventKey,d=s(e,T_);n=h(n,"nav-link");var p=b(m_(a({key:xT(f,d.href),active:u},d)),2),v=p[0],m=p[1];return(0,l.jsx)(o,a(a(a({},d),v),{},{ref:t,className:c()(r,n,d.disabled&&"disabled",m.isActive&&"active")}))}));__.displayName="NavLink",__.defaultProps={disabled:!1};var N_=__,P_=["as","bsPrefix","variant","fill","justify","navbar","navbarScroll","className","activeKey"],O_=e.forwardRef((function(t,n){var i,o,u,f=Et(t,{activeKey:"onSelect"}),d=f.as,p=void 0===d?"div":d,v=f.bsPrefix,m=f.variant,y=f.fill,g=f.justify,k=f.navbar,b=f.navbarScroll,w=f.className,x=f.activeKey,E=s(f,P_),S=h(v,"nav"),I=!1,C=(0,e.useContext)(MT),T=(0,e.useContext)(I_);return C?(o=C.bsPrefix,I=null==k||k):T&&(u=T.cardHeaderBsPrefix),(0,l.jsx)(E_,a({as:p,ref:n,activeKey:x,className:c()(w,(i={},r(i,S,!I),r(i,"".concat(o,"-nav"),I),r(i,"".concat(o,"-nav-scroll"),I&&b),r(i,"".concat(u,"-").concat(m),!!u),r(i,"".concat(S,"-").concat(m),!!m),r(i,"".concat(S,"-fill"),y),r(i,"".concat(S,"-justified"),g),i))},E))}));O_.displayName="Nav",O_.defaultProps={justify:!1,fill:!1};var R_=Object.assign(O_,{Item:C_,Link:N_});function A_(){var t=b((0,e.useState)(wI),2),n=t[0],r=t[1];(0,e.useEffect)((function(){return e=r,CE(kI,(function(t){e(t)}));var e}),[]);var i=b((0,e.useState)(""),2),a=i[0],o=i[1],s=b((0,e.useState)(""),2),u=s[0],c=s[1],f=b((0,e.useState)(""),2),h=f[0],d=f[1],p=b((0,e.useState)(!1),2),v=p[0],m=p[1],y=b((0,e.useState)(!1),2),g=y[0],k=y[1],w=function(){m(!1),k(!1),o("")};return(0,l.jsxs)("div",{children:[n?(0,l.jsxs)("div",{children:[(0,l.jsxs)("a",{href:"#/profile",className:"m-2",style:{color:"black"},children:["Welcome,"," ",n.displayName?n.displayName:n.email]}),(0,l.jsx)(ht,{variant:"secondary",onClick:LI,children:"Sign Out"})]}):(0,l.jsxs)("span",{children:[(0,l.jsx)(ht,{variant:"success",onClick:function(){return m(!0)},children:"Sign In"}),(0,l.jsx)("span",{children:" or "}),(0,l.jsx)(ht,{variant:"secondary",onClick:function(){return k(!0)},children:"Create an Account"})]}),(0,l.jsxs)(Yr,{show:v||g,onHide:w,children:[(0,l.jsx)(Yr.Header,{children:(0,l.jsx)(Yr.Title,{children:g?"Create Account":"Sign In"})}),(0,l.jsxs)(Yr.Body,{children:[""!==a?(0,l.jsx)(Mn,{variant:"danger",children:a}):(0,l.jsx)(l.Fragment,{}),(0,l.jsx)(eC,{label:"Email",children:(0,l.jsx)(jC.Control,{type:"email",value:u,onChange:function(e){var t=e.target;return c(t.value)}})}),(0,l.jsx)("br",{}),(0,l.jsx)(eC,{label:"Password",children:(0,l.jsx)(jC.Control,{type:"password",value:h,onChange:function(e){var t=e.target;return d(t.value)}})}),(0,l.jsx)("br",{}),(0,l.jsx)(ht,{variant:"success",onClick:function(){(g?AI:DI)(u,h).then((function(){c(""),d(""),w()})).catch(o)},children:g?"Create Account":"Sign In"}),"\xa0",(0,l.jsx)(ht,{variant:"secondary",onClick:w,children:"Cancel"}),"\xa0or\xa0",(0,l.jsx)(ht,{variant:"info",onClick:function(){jI().then((function(){w()})).catch(o)},children:"Sign in with Google"})]})]})]})}var D_=function(){var e=GC();return(0,l.jsxs)(l_,{collapseOnSelect:!0,expand:"sm",style:{backgroundColor:"#90ee90",paddingLeft:"16px",paddingRight:"16px",boxShadow:"0 4px 6px -6px #222"},children:[(0,l.jsx)(l_.Brand,{href:"#/",children:"EZShop\u2122"}),(0,l.jsx)(l_.Toggle,{"aria-controls":"responsive-navbar-nav"}),(0,l.jsxs)(l_.Collapse,{id:"responsive-navbar-nav",children:[(0,l.jsx)(M_,{}),(0,l.jsxs)(l_.Collapse,{className:"justify-content-end",children:[(0,l.jsx)(A_,{}),(0,l.jsx)("div",{style:{marginLeft:"20px"}}),(0,l.jsxs)(ht,{variant:"outline-dark",href:"#/cart",children:["Cart",(0,l.jsx)(rT,{pill:!0,style:{marginLeft:"10px"},bg:"dark",children:e.items.length})]})]})]})]})},j_=function(){return(0,l.jsx)(R_.Link,{href:"#/",children:"Products"})},L_=function(){return(0,l.jsx)(R_.Link,{href:"#/admin",children:"Admin"})},M_=function(){return(0,l.jsxs)(R_,{className:"me-auto",children:[(0,l.jsx)(j_,{}),(0,l.jsx)(L_,{})]})},F_=function(){var t=["https://i.ibb.co/BKgX1tt/bannergrad.png","https://i.ibb.co/rZnWCXV/Untitled-1.png","https://i.ibb.co/kgLCHp3/thirdbanner.png","https://i.ibb.co/wRfrX4R/fourthbanner.png"],n=b((0,e.useState)("https://i.ibb.co/BKgX1tt/bannergrad.png"),2),r=n[0],i=n[1],a=b((0,e.useState)(0),2),o=a[0],s=a[1];(0,e.useEffect)((function(){var e=setInterval((function(){o==t.length-1?(i(t[0]),s(0)):(i(t[o+1]),s(o+1))}),10500);return function(){return clearInterval(e)}}));return(0,l.jsx)(v,{fluid:!0,className:"p-0 m-0",children:(0,l.jsx)(cT,{style:0===o?{top:"1000px",transition:"opacity 0.5s ease-in-out",opacity:"1"}:{top:"300px",transition:"opacity 0.5s ease-in-out",opacity:"1"},fluid:!0,src:r})})},U_=["bsPrefix","className","variant","as"],V_=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.variant,o=e.as,u=void 0===o?"img":o,f=s(e,U_),d=h(n,"card-img");return(0,l.jsx)(u,a({ref:t,className:c()(i?"".concat(d,"-").concat(i):d,r)},f))}));V_.displayName="CardImg";var z_=V_,B_=["bsPrefix","className","as"],q_=e.forwardRef((function(t,n){var r=t.bsPrefix,i=t.className,o=t.as,u=void 0===o?"div":o,f=s(t,B_),d=h(r,"card-header"),p=(0,e.useMemo)((function(){return{cardHeaderBsPrefix:d}}),[d]);return(0,l.jsx)(I_.Provider,{value:p,children:(0,l.jsx)(u,a(a({ref:n},f),{},{className:c()(i,d)}))})}));q_.displayName="CardHeader";var H_=q_,K_=["bsPrefix","className","bg","text","border","body","children","as"],W_=Cn("h5"),G_=Cn("h6"),Q_=Pn("card-body"),$_=Pn("card-title",{Component:W_}),Y_=Pn("card-subtitle",{Component:G_}),X_=Pn("card-link",{Component:"a"}),J_=Pn("card-text",{Component:"p"}),Z_=Pn("card-footer"),eN=Pn("card-img-overlay"),tN=e.forwardRef((function(e,t){var n=e.bsPrefix,r=e.className,i=e.bg,o=e.text,u=e.border,f=e.body,d=e.children,p=e.as,v=void 0===p?"div":p,m=s(e,K_),y=h(n,"card");return(0,l.jsx)(v,a(a({ref:t},m),{},{className:c()(r,y,i&&"bg-".concat(i),o&&"text-".concat(o),u&&"border-".concat(u)),children:f?(0,l.jsx)(Q_,{children:d}):d}))}));tN.displayName="Card",tN.defaultProps={body:!1};var nN=Object.assign(tN,{Img:z_,Title:$_,Subtitle:Y_,Body:Q_,Link:X_,Text:J_,Header:H_,Footer:Z_,ImgOverlay:eN});function rN(t){var n=t.inspectItem,i=t.product,o=t.setInspectItem,s=b((0,e.useState)({}),2),u=s[0],c=s[1],f=b((0,e.useState)("1"),2),h=f[0],d=f[1],p=b((0,e.useState)(!1),2),m=p[0],y=p[1];function g(){return parseInt(h)>i.data.stock||parseInt(h)<=0}return(0,e.useEffect)((function(){!function(){var e={};Object.entries(i.data.variants).forEach((function(t){var n=b(t,1)[0];Object.assign(e,r({},n,i.data.variants[n][0])),y(!0)})),c(e)}()}),[]),(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(Yr,{show:n,onHide:function(){return o(!1)},size:"lg",centered:!0,children:[(0,l.jsx)(Yr.Header,{closeButton:!0,children:(0,l.jsx)(Yr.Title,{children:i.data.name})}),(0,l.jsx)(Yr.Body,{children:(0,l.jsx)(v,{children:(0,l.jsxs)(dT,{children:[(0,l.jsxs)(I,{children:[(0,l.jsx)(oT,{aspectRatio:"1x1",children:(0,l.jsx)(v,{fluid:!0,className:"d-flex align-items-center justify-content-center overflow-hidden",children:(0,l.jsx)(cT,{fluid:!0,src:i.data.image})})}),(0,l.jsx)("p",{}),"Description:",(0,l.jsx)("p",{}),i.data.description]}),(0,l.jsxs)(I,{children:[(0,l.jsxs)(dT,{children:["Price: $",i.data.price]}),(0,l.jsx)("p",{}),(0,l.jsxs)(dT,{children:["Stock: ",i.data.stock]}),(0,l.jsx)("p",{}),(0,l.jsxs)(dT,{children:[(0,l.jsx)(l.Fragment,{children:!0===m?(0,l.jsx)(l.Fragment,{children:"Options:"}):(0,l.jsx)(l.Fragment,{children:"No Product Options"})}),function(){var e=[];return Object.entries(i.data.variants).forEach((function(t,n){var a=b(t,1)[0];e.push((0,l.jsxs)("div",{style:{marginLeft:"5px",marginTop:"10px"},children:[[a],(0,l.jsx)(jC.Select,{style:{width:"250px"},value:u[a],onChange:function(e){var t={};Object.entries(u).map((function(e){var n=b(e,1)[0];n!==a&&Object.assign(t,r({},n,u[n]))})),c(Object.assign(t,r({},a,e.target.value)))},children:i.data.variants[a].map((function(e,t){return(0,l.jsx)("option",{value:e,children:e},t)}))}),(0,l.jsx)("p",{})]},n))})),e}(),(0,l.jsx)("p",{}),"Quantity:",(0,l.jsx)(jC.Group,{controlId:"setMaxPrice",children:(0,l.jsx)(jC.Control,{type:"number",style:{width:"100px"},value:h,onChange:function(e){return d(e.target.value)}})}),(0,l.jsx)("span",{hidden:!g(),children:"Not a Valid Quantity!"})]})]}),(0,l.jsx)(dT,{children:(0,l.jsx)(ht,{variant:"success",disabled:g(),style:{width:"300px",marginLeft:"400px"},onClick:function(){return function(e){var t,n=YC.items.findIndex((function(t){if(!function(e,t){if(e.name!==t.name||e.category!==t.category||e.price!==t.price)return!1;var n=function(n){return n in t.variants&&e.variants[n].every((function(e){return t.variants[n].some((function(t){return e===t}))}))?void 0:{v:!1}};for(var r in e.variants){var i=n(r);if("object"===typeof i)return i.v}return!0}(e.product,t.product))return!1;for(var n in e.variants){if(!(n in t.variants))return!1;if(e.variants[n]!==t.variants[n])return!1}return!0}));if(-1!==n){var r=a(a({},YC.items[n]),{},{quantity:YC.items[n].quantity+e.quantity});(t=T(YC.items)).splice(n,1,r)}else t=[].concat(T(YC.items),[e]);YC={items:t},eT().then(QC)}({product:i.data,quantity:parseInt(h),variants:u})},children:"Add to Cart"})})]})})})]})})}function iN(t){var n=t.product,r=b((0,e.useState)(!1),2),i=r[0],a=r[1];return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(nN,{className:"item itemInspect",onClick:function(){return a(!0)},children:(0,l.jsxs)(nN.Body,{children:[(0,l.jsx)(oT,{aspectRatio:"1x1",children:(0,l.jsx)(v,{fluid:!0,className:"d-flex align-items-center justify-content-center overflow-hidden",children:(0,l.jsx)(cT,{fluid:!0,src:n.data.image})})}),(0,l.jsxs)(nN.Title,{children:[n.data.name,(0,l.jsxs)("span",{className:"category-label",children:[" - ",n.data.category]})]}),(0,l.jsxs)(nN.Subtitle,{children:["$",n.data.price.toLocaleString(void 0,{minimumFractionDigits:2})]}),(0,l.jsx)("br",{})]})}),(0,l.jsx)(rN,{inspectItem:i,product:n,setInspectItem:a})]})}var aN=["any"];function oN(t){var n=b((0,e.useState)(!1),2),r=n[0],i=n[1],a=b((0,e.useState)(!1),2),o=a[0],s=a[1],u=GI([],(function(){return i(!0)}),(function(){i(!0),s(!0)}));if(!r)return(0,l.jsx)("div",{children:(0,l.jsx)("p",{children:"Loading items"})});return u.map((function(e){aN.includes(e.data.category)||(aN=[].concat(T(aN),[e.data.category]))})),(0,l.jsxs)("div",{children:[o?(0,l.jsx)(Mn,{variant:"danger",children:"Failed to load products"}):(0,l.jsx)("div",{className:"item-grid",children:void 0!==u[0]?u.map((function(e){if(function(e){return!(!(e.data.price<=parseInt(t.maxprice)&&e.data.price>=parseInt(t.minprice)&&(e.data.name.toLowerCase().includes(t.currentSearch.toLowerCase())||""===t.currentSearch||e.data.category.toLowerCase().includes(t.currentSearch.toLowerCase())))||e.data.category!==t.category&&"any"!==t.category||!(!0===t.isInStock&&e.data.stock>0||!0===t.backorder&&e.data.stock<=0))&&(t.showNoItemsFound||t.setShowNoItemsFound(!0),!0)}(e))return(0,l.jsx)(iN,{product:e},e.reference.id)})):(0,l.jsx)("div",{children:"No items to load"})}),(0,l.jsx)("div",{hidden:t.showNoItemsFound,className:"NoItemsFoundMessage",children:"No Items Found"})]})}function sN(t){var n=t.setBackorder,r=t.setIsInStock,i=t.setCategory,a=t.setShowNoItemsFound,o=t.setMaxPriceFilter,s=t.setMinPriceFilter,u=b((0,e.useState)("any"),2),c=u[0],f=u[1],h=b((0,e.useState)(!0),2),d=h[0],p=h[1],v=b((0,e.useState)(!0),2),m=v[0],y=v[1],g=b((0,e.useState)("0"),2),k=g[0],w=g[1],x=b((0,e.useState)("9999"),2),E=x[0],S=x[1],I=b((0,e.useState)(!1),2),C=I[0],T=I[1],_=function(){return T(!1)},N=aN;function P(){return!(parseInt(k)<0||parseInt(k)>parseInt(E)||parseInt(E)<parseInt(k))}return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(ht,{variant:"success",style:{width:"60px",marginLeft:"20px"},onClick:function(){return T(!0)},children:"Filter"}),(0,l.jsxs)(Yr,{show:C,onHide:_,children:[(0,l.jsx)(Yr.Header,{closeButton:!0,children:(0,l.jsx)(Yr.Title,{children:"Filter"})}),(0,l.jsxs)(Yr.Body,{children:["Category:",(0,l.jsx)(jC.Select,{value:c,onChange:function(e){return f(e.target.value)},children:N.map((function(e){return(0,l.jsx)("option",{value:e,children:e},e)}))}),(0,l.jsx)("hr",{}),"Price:",(0,l.jsxs)("div",{className:"priceFilter",children:[(0,l.jsx)(jC.Group,{controlId:"setMinPrice",children:(0,l.jsx)(jC.Control,{value:k,style:{width:"100px"},type:"number",onChange:function(e){return w(e.target.value)}})}),(0,l.jsx)("span",{style:{paddingRight:"20px",paddingLeft:"20px"},children:"to"}),(0,l.jsx)(jC.Group,{controlId:"setMaxPrice",children:(0,l.jsx)(jC.Control,{type:"number",style:{width:"100px"},value:E,onChange:function(e){return S(e.target.value)}})})]}),(0,l.jsx)("span",{hidden:P(),children:"Please enter a valid price Filter"}),(0,l.jsx)("hr",{}),"Availability:",(0,l.jsx)("h1",{}),(0,l.jsx)(jC.Check,{inline:!0,label:"in-stock ",style:{position:"relative",display:"inline-block",top:"5%"},type:"checkbox",name:"in-stock",onChange:function(e){return p(e.target.checked)},id:"filter-in-stock",value:"in-stock",checked:d}),(0,l.jsx)(jC.Check,{inline:!0,label:"backorder",style:{position:"relative",display:"inline-block",top:"5%"},type:"checkbox",name:"backorder",onChange:function(e){return y(e.target.checked)},id:"filter-out-stock",value:"backorder",checked:m})]}),(0,l.jsxs)(Yr.Footer,{children:[(0,l.jsx)(ht,{variant:"secondary",onClick:_,children:"Cancel"}),(0,l.jsx)(ht,{variant:"success",disabled:!P(),onClick:function(){_(),i(c),n(m),r(d),a(!1),o(E),s(k)},children:"Apply"})]})]})]})}function uN(e){return(0,l.jsx)("div",{className:"searchWrap",children:(0,l.jsx)("div",{className:"search",children:(0,l.jsx)(jC.Group,{controlId:"editName",children:(0,l.jsx)(jC.Control,{className:"searchBar",value:e.currentSearch,placeholder:"Search",onChange:function(t){e.setShowNoItemsFound(!1),e.setCurrentSearch(t.target.value)}})})})})}var cN=function(){var t=b((0,e.useState)("any"),2),n=t[0],r=t[1],i=b((0,e.useState)(!0),2),a=i[0],o=i[1],s=b((0,e.useState)(!0),2),u=s[0],c=s[1],f=b((0,e.useState)(""),2),h=f[0],d=f[1],p=b((0,e.useState)(!0),2),m=p[0],y=p[1],g=b((0,e.useState)("0"),2),k=g[0],w=g[1],x=b((0,e.useState)("9999"),2),E=x[0],S=x[1];return(0,l.jsxs)(v,{fluid:"lg",className:"side-shadow overflow-y-visible",children:[(0,l.jsxs)(dT,{children:[(0,l.jsx)("h1",{children:"Catalog"}),(0,l.jsx)(sN,{setBackorder:c,setIsInStock:o,setCategory:r,setShowNoItemsFound:y,category:n,isInStock:a,backorder:u,setMaxPriceFilter:S,setMinPriceFilter:w}),(0,l.jsx)(uN,{currentSearch:h,setCurrentSearch:d,setShowNoItemsFound:y}),(0,l.jsx)("p",{}),(0,l.jsx)("hr",{})]}),(0,l.jsx)(dT,{className:"overflow-y-visible pb-3",children:(0,l.jsx)(oN,{category:n,isInStock:a,backorder:u,currentSearch:h,showNoItemsFound:m,setShowNoItemsFound:y,minprice:k,maxprice:E})})]})},lN=function(){return(0,l.jsxs)(v,{fluid:!0,className:"d-flex flex-column h-100 p-0 m-0 ez-bg overflow-y-scroll",children:[(0,l.jsx)(F_,{}),(0,l.jsx)(cN,{})]})},fN=function(){var e=RI();return(0,l.jsx)(v,{fluid:!0,className:"flex-grow-1 ez-bg",children:(0,l.jsxs)(v,{className:"h-100 side-shadow",children:[(0,l.jsx)("h1",{className:"p-4",children:"Your Profile"}),(0,l.jsx)("hr",{}),e?(0,l.jsx)(v,{fluid:!0,children:(0,l.jsxs)(jC,{children:[(0,l.jsxs)(dT,{className:"mb-3",children:[(0,l.jsx)("h4",{className:"pb-2",children:"Email"}),(0,l.jsx)(jC.Group,{controlId:"formEmail",children:(0,l.jsx)(jC.Control,{type:"email",placeholder:e&&e.email?e.email:" ",readOnly:!0,className:"w-25"})})]}),(0,l.jsxs)(dT,{children:[(0,l.jsxs)(I,{children:[(0,l.jsx)("h4",{className:"pb-2",children:"Payment"}),(0,l.jsxs)(jC.Group,{className:"mb-3",controlId:"formCardholder",children:[(0,l.jsx)(jC.Label,{children:"Name on Card"}),(0,l.jsx)(jC.Control,{placeholder:"Cardholder Name"})]}),(0,l.jsxs)(dT,{children:[(0,l.jsxs)(I,{children:[(0,l.jsx)(jC.Label,{children:"Card Number"}),(0,l.jsx)(jC.Control,{placeholder:"Card Number"})]}),(0,l.jsxs)(I,{sm:6,lg:2,children:[(0,l.jsx)(jC.Label,{children:"Expiry"}),(0,l.jsx)(jC.Control,{placeholder:"MM"}),(0,l.jsx)(jC.Control,{placeholder:"YY"})]}),(0,l.jsxs)(I,{sm:6,lg:2,children:[(0,l.jsx)(jC.Label,{children:"CVV"}),(0,l.jsx)(jC.Control,{placeholder:"000"})]})]})]}),(0,l.jsxs)(I,{children:[(0,l.jsx)("h4",{className:"pb-2",children:"Shipping"}),(0,l.jsxs)(jC.Group,{className:"mb-3",controlId:"formAddress",children:[(0,l.jsx)(jC.Label,{children:"Address"}),(0,l.jsx)(jC.Control,{placeholder:"Street Address"})]}),(0,l.jsxs)(jC.Group,{className:"mb-3",controlId:"formAddress2",children:[(0,l.jsx)(jC.Label,{children:"Address 2"}),(0,l.jsx)(jC.Control,{placeholder:"Apartment, studio, or floor"})]}),(0,l.jsxs)(dT,{className:"mb-3",children:[(0,l.jsx)(jC.Label,{children:"City/State/Zip"}),(0,l.jsx)(I,{xs:6,children:(0,l.jsx)(jC.Control,{placeholder:"City"})}),(0,l.jsx)(I,{children:(0,l.jsx)(jC.Control,{placeholder:"State"})}),(0,l.jsx)(I,{children:(0,l.jsx)(jC.Control,{placeholder:"Zip"})})]})]})]}),(0,l.jsx)("div",{className:"col text-center pt-2 d-grid gap-2",children:(0,l.jsx)(ht,{variant:"primary",type:"submit",children:"Save"})})]})}):(0,l.jsx)(Mn,{variant:"danger",children:"You are not logged in!"})]})})};var hN=function(){return(0,l.jsx)(v,{fluid:!0,className:"m-0 p-0 vh-100",children:(0,l.jsxs)(I,{className:"h-100 d-flex flex-column",children:[(0,l.jsx)(D_,{}),(0,l.jsxs)(et,{children:[(0,l.jsx)(Je,{path:"/",element:(0,l.jsx)(lN,{})}),(0,l.jsx)(Je,{path:"/cart",element:(0,l.jsx)(gT,{})}),(0,l.jsx)(Je,{path:"/confirmation",element:(0,l.jsx)(bT,{})}),(0,l.jsx)(Je,{path:"/profile",element:(0,l.jsx)(fN,{})}),(0,l.jsx)(Je,{path:"/admin",element:(0,l.jsx)(HC,{})}),(0,l.jsx)(Je,{path:"*",element:(0,l.jsx)(wT,{})})]}),(0,l.jsx)(f_,{})]})})},dN=function(e){e&&e instanceof Function&&n.e(787).then(n.bind(n,787)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),r(e),i(e),a(e),o(e)}))};function pN(t){var n=t.basename,r=t.children,i=t.window,a=e.useRef();null==a.current&&(a.current=function(e){return void 0===e&&(e={}),Z((function(e,t){var n=J(e.location.hash.substr(1)),r=n.pathname,i=void 0===r?"/":r,a=n.search,o=void 0===a?"":a,s=n.hash;return Y("",{pathname:i,search:o,hash:void 0===s?"":s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){var n=e.document.querySelector("base"),r="";if(n&&n.getAttribute("href")){var i=e.location.href,a=i.indexOf("#");r=-1===a?i:i.slice(0,a)}return r+"#"+("string"===typeof t?t:X(t))}),(function(e,t){Q("/"===e.pathname.charAt(0),"relative pathnames are not supported in hash history.push("+JSON.stringify(t)+")")}),e)}({window:i,v5Compat:!0}));var o=a.current,s=b(e.useState({action:o.action,location:o.location}),2),u=s[0],c=s[1];return e.useLayoutEffect((function(){return o.listen(c)}),[o]),e.createElement(Ze,{basename:n,children:r,location:u.location,navigationType:u.action,navigator:o})}"undefined"!==typeof window&&"undefined"!==typeof window.document&&window.document.createElement;var vN,mN;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"})(vN||(vN={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(mN||(mN={}));EI=Ea({apiKey:"AIzaSyDesQ685aAp1YJe8a_vhYuBzTvyU1T13js",authDomain:"cisc275-ezshop.firebaseapp.com",projectId:"cisc275-ezshop",storageBucket:"cisc275-ezshop.appspot.com",messagingSenderId:"903230047717",appId:"1:903230047717:web:9dfe7528140be2d4989b0c",measurementId:"G-T7M0R8MHWS"}),sw(EI),kI=_I(EI),bI=new uE,kI.useDeviceLanguage(),CE(kI,(function(e){PI(wI=e).then((function(e){return xI=e})),OI(wI).then((function(e){return e}))})),SI=function(e,t){var n="string"==typeof e?e:t||"(default)",r=ga("object"==typeof e?e:Sa(),"firestore").getImmediate({identifier:n});if(!r._initialized){var i=si("firestore");i&&xy.apply(void 0,[r].concat(T(i)))}return r}(EI),function(){var e;e=function(e){e?KI.getOrCreate(e).then((function(t){YC=t.data,$C=e,QC()})).catch((function(e){return console.error("failed to load cart:",e)})):(YC={items:[]},$C=null,QC())},CE(kI,(function(t){e(t)}))}(),t.render((0,l.jsx)(e.StrictMode,{children:(0,l.jsx)(pN,{children:(0,l.jsx)(hN,{})})}),document.getElementById("root")),dN()}()}();
//# sourceMappingURL=main.999fd95c.js.map